<?xml version="1.0" encoding="UTF-8"?>
<html xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ev="http://www.w3.org/2001/xml-events"
    xmlns:w2="http://www.inswave.com/websquare" xmlns:xf="http://www.w3.org/2002/xforms">
    <head meta_programName="지식재산권 관련첨부파일" meta_programDesc="" meta_author="이대훈" meta_date="2023.10.25.">
		<w2:type>DEFAULT</w2:type>
		<w2:buildDate/>
		<xf:model>
			<xf:instance>
				<data
					xmlns=""/>
				</xf:instance>
				<w2:dataCollection baseNode="map">
					<w2:dataMap baseNode="map" id="dma_search" style="">
						<w2:keyInfo>
							<w2:key dataType="text" id="mngmt_no" name="mngmt_no"></w2:key>
						</w2:keyInfo>
					</w2:dataMap>
					
					<w2:dataMap baseNode="map" id="dma_bibliography">
					  <w2:keyInfo>
					       <w2:key id="req_no" name="req_no" dataType="text"></w2:key>
					       <w2:key id="mngmt_no" name="mngmt_no" dataType="text"></w2:key>
					       <w2:key id="pat_clsf" name="pat_clsf" dataType="text"></w2:key>
					       <w2:key id="patofic_cd" name="patofic_cd" dataType="text"></w2:key>
					       <w2:key id="patofic_nm" name="patofic_nm" dataType="text"></w2:key>
					       <w2:key id="pat_clsf_nm" name="pat_clsf_nm" dataType="text"></w2:key>
					       <w2:key id="tech_clsf" name="tech_clsf" dataType="text"></w2:key>
					       <w2:key id="tech_clsf_nm" name="tech_clsf_nm" dataType="text"></w2:key>
					       <w2:key id="state" name="state" dataType="text"></w2:key>
					       <w2:key id="state_nm" name="state_nm" dataType="text"></w2:key>
					       <w2:key id="invnt_krn_nm" name="invnt_krn_nm" dataType="text"></w2:key>
					       <w2:key id="smitapp_no" name="smitapp_no" dataType="text"></w2:key>
					       <w2:key id="smitapp_ymd" name="smitapp_ymd" dataType="text"></w2:key>
					       <w2:key id="smitapp_natn_cd" name="smitapp_natn_cd" dataType="text"></w2:key>
					       <w2:key id="smitapp_natn_nm" name="smitapp_natn_nm" dataType="text"></w2:key>
					       <w2:key id="regst_no" name="regst_no" dataType="text"></w2:key>
					       <w2:key id="regst_ymd" name="regst_ymd" dataType="text"></w2:key>
					       <w2:key id="invnt_syspayno" name="invnt_syspayno" dataType="text"></w2:key>
					       <w2:key id="invnt_psn_nm" name="invnt_psn_nm" dataType="text"></w2:key>
					       <w2:key id="right_expir_ymd" name="right_expir_ymd" dataType="text"></w2:key>
					       <w2:key id="invnt_nm" name="invnt_nm" dataType="text"></w2:key>
					       <w2:key id="mandate_psn_nm" name="mandate_psn_nm" dataType="text"></w2:key>
					       <w2:key id="patofic_full_nm" name="patofic_full_nm" dataType="text"></w2:key>
					       <w2:key id="charg_syspayno" name="charg_syspayno" dataType="text"></w2:key>
					       <w2:key id="patofic_mng_no" name="patofic_mng_no" dataType="text"></w2:key>
					       <w2:key id="dom_oversea_clsf" name="dom_oversea_clsf" dataType="text"></w2:key>
					       <w2:key id="prityrgt_main_rspns_no" name="prityrgt_main_rspns_no" dataType="text"></w2:key>
					       <w2:key id="prityrgt_main_rspns_ymd" name="prityrgt_main_rspns_ymd" dataType="text"></w2:key>
					 </w2:keyInfo>
					</w2:dataMap>
					
					<w2:dataList baseNode="list" repeatNode="map" id="dlt_ref_list" saveRemovedData="true">
					  <w2:columnInfo>
					       <w2:column id="cd" name="cd" dataType="text"></w2:column>
					       <w2:column id="nm" name="nm" dataType="text"></w2:column>
					       <w2:column id="file_nm" name="file_nm" dataType="text"></w2:column>
					       <w2:column id="attach_file_no" name="attach_file_no" dataType="text"></w2:column>
					       <w2:column id="seq" name="seq" dataType="text"></w2:column>
					       <w2:column id="attach_full_path" name="attach_full_path" dataType="text"></w2:column>
					       <w2:column id="ord" name="ord" dataType="text"></w2:column>
					  </w2:columnInfo>
					</w2:dataList>					

					<w2:dataList baseNode="list" repeatNode="map" id="dlt_kr_ref_list" saveRemovedData="true">
					  <w2:columnInfo>
					       <w2:column id="cd" name="cd" dataType="text"></w2:column>
					       <w2:column id="nm" name="nm" dataType="text"></w2:column>
					       <w2:column id="file_nm" name="file_nm" dataType="text"></w2:column>
					       <w2:column id="attach_file_no" name="attach_file_no" dataType="text"></w2:column>
					       <w2:column id="seq" name="seq" dataType="text"></w2:column>
					       <w2:column id="attach_full_path" name="attach_full_path" dataType="text"></w2:column>
					       <w2:column id="ord" name="ord" dataType="text"></w2:column>
					  </w2:columnInfo>
					</w2:dataList>
				</w2:dataCollection>
				<w2:workflowCollection/>
				
				<!-- 지식재산권 관련첨부파일 조회 -->
				<xf:submission id="sbm_svcpatppoattr01" 
							   ref='data:json,dma_search' 
							   target='data:json,[{"id":"dma_bibliography","key":"bibliography"}, {"id":"dlt_ref_list","key":"refList"}, {"id":"dlt_kr_ref_list","key":"krRefList"}]' 
							   action="SvcPATPPOATTR01.pwkjson" 
							   ev:submitdone="" method="post" mediatype="application/json" encoding="UTF-8" mode="asynchronous"></xf:submission>
							   
			</xf:model>
			<script type="text/javascript" lazy="false"><![CDATA[
				/**
				 * 페이지 로딩 이벤트
				 */ 
				scwin.onpageload = function() {
					
					// dma_search.set("mngmt_no", "EU20210001");
					dma_search.set("mngmt_no", com.getParameter().mngmt_no);
					
					if(dma_search.get("mngmt_no") !== ""){
						com.execute(sbm_svcpatppoattr01);
					}else{
						com.alert("파라미터가 존재하지 않습니다.");
					}
					
				};
				
				scwin.grid01_attach_download = function(row, col, colId){
					if(colId == "file_nm"){
						const fileNo = dlt_ref_list.getRowJSON(row).attach_file_no;
						const seq = dlt_ref_list.getRowJSON(row).seq;
						if(fileNo !== ""){
							const filename = fileNo + seq;
							const url = gcm.baseUrls.newBizUrl + "/SvcAttachDown.do?fileName=" + filename + "&bizKind=XAA990"
							window.open(url, "_blank");
							// https://nbiz.kitech.re.kr/SvcAttachDown.do?fileName=I99920231157001&bizKind=XAA990
						}
					}
				};
				
				
				scwin.grid02_attach_download = function(row, col, colId){
					if(colId == "file_nm"){
						const fileNo = dlt_kr_ref_list.getRowJSON(row).attach_file_no;
						const seq = dlt_kr_ref_list.getRowJSON(row).seq;
						if(fileNo !== ""){
							const filename = fileNo + seq;
							const url = gcm.baseUrls.newBizUrl + "/SvcAttachDown.do?fileName=" + filename + "&bizKind=XAA990"
							window.open(url, "_blank");
						}
					}
				};
				
				scwin.onpageunload = function() {
					
				};
				
				/**
				 * 닫기 버튼 클릭 이벤트
				 */
				scwin.btn_close_onclick = function(e) {
					com.closePopup();
				};	
		
			]]></script>
		</head>
		<body ev:onpageload="scwin.onpageload">
			<xf:group id="" class="pop_contents">
		    	<xf:group class="titleSection pt0" id="" style="">
		    		<xf:group class="le" id="">
		    			<w2:textbox class="tit_tbl" id="" label="관련첨부파일" style="" tagname="h3"></w2:textbox>
		    		</xf:group>
		    	</xf:group>
		    	<w2:gridView id="grid01" class="grid" dataList="data:dlt_ref_list" style="height: 75px;"
				  ev:oncellclick="scwin.grid01_attach_download" defaultCellHeight="28" evenRowBackgroundColor="#f7faff"  rowNumHeaderValue="No." noResultMessage="조회 결과가 없습니다." rowStatusHeaderValue="상태" noResultMessageClass="noResult" rowMouseOverColor="#e7f0fb" rowNumBackgroundColor="#fff" rowNumVisible="true" rowNumWidth="60" rowStatusVisible="false" rowStatusWidth="50" scrollByColumn="false" scrollByColumnAdaptive="false" selectedCellColor="#fbf2cd" selectedRowColor="#fbf2cd" summaryAuto="true" visibleRowNum="5" autoFit="allColumn">
				  <w2:caption id="caption1" style="" value="this is a grid caption."></w2:caption>
				  <w2:header id="header1">
				    <w2:row id="row1">
				      <w2:column width="100" inputType="text" displayMode="label" id="nm" value="구분"></w2:column>
				      <w2:column width="250" inputType="text" displayMode="label" id="file_nm" value="첨부파일명"></w2:column>
				      <w2:column width="100" inputType="text" displayMode="label" id="attach_file_no" value="empty"></w2:column>
				      <w2:column width="100" inputType="text" displayMode="label" id="seq" value="empty"></w2:column>
				      <w2:column width="100" inputType="text" displayMode="label" id="attach_full_path" value="empty"></w2:column>
				    </w2:row>
				  </w2:header>
				  <w2:gBody id="gBody1">
				    <w2:row id="row2">
				      <w2:column inputType="text" id="nm" readOnly="true"></w2:column>
				      <w2:column inputType="link" id="file_nm" readOnly="true"></w2:column>
				      <w2:column inputType="text" id="attach_file_no" readOnly="true" hidden="true"></w2:column>
				      <w2:column inputType="text" id="seq" readOnly="true" hidden="true"></w2:column>
				      <w2:column inputType="text" id="attach_full_path" readOnly="true" hidden="true"></w2:column>
				      </w2:row>
				  </w2:gBody>
				</w2:gridView>
		    	<xf:group class="titleSection pt0" id="" style="">
		    		<xf:group class="le" id="">
		    			<w2:textbox class="tit_tbl" id="" label="관련 국내출원" style="" tagname="h3"></w2:textbox>
		    		</xf:group>
		    	</xf:group>
		    	<w2:gridView id="grid02" class="grid" dataList="data:dlt_kr_ref_list" style="height: 75px;"
				  ev:oncellclick="scwin.grid02_attach_download" defaultCellHeight="28" evenRowBackgroundColor="#f7faff"  rowNumHeaderValue="No." noResultMessage="조회 결과가 없습니다." rowStatusHeaderValue="상태" noResultMessageClass="noResult" rowMouseOverColor="#e7f0fb" rowNumBackgroundColor="#fff" rowNumVisible="true" rowNumWidth="60" rowStatusVisible="false" rowStatusWidth="50" scrollByColumn="false" scrollByColumnAdaptive="false" selectedCellColor="#fbf2cd" selectedRowColor="#fbf2cd" summaryAuto="true" visibleRowNum="5" autoFit="allColumn">
				  <w2:caption id="caption1" style="" value="this is a grid caption."></w2:caption>
				  <w2:header id="header1">
				    <w2:row id="row1">
				      <w2:column width="100" inputType="text" displayMode="label" id="nm" value="구분"></w2:column>
				      <w2:column width="250" inputType="text" displayMode="label" id="file_nm" value="첨부파일명"></w2:column>
				      <w2:column width="100" inputType="text" displayMode="label" id="attach_file_no" value="empty"></w2:column>
				      <w2:column width="100" inputType="text" displayMode="label" id="seq" value="empty"></w2:column>
				      <w2:column width="100" inputType="text" displayMode="label" id="attach_full_path" value="empty"></w2:column>
				    </w2:row>
				  </w2:header>
				  <w2:gBody id="gBody1">
				    <w2:row id="row2">
				      <w2:column inputType="text" id="nm" readOnly="true"></w2:column>
				      <w2:column inputType="link" id="file_nm" readOnly="true"></w2:column>
				      <w2:column inputType="text" id="attach_file_no" readOnly="true" hidden="true"></w2:column>
				      <w2:column inputType="text" id="seq" readOnly="true" hidden="true"></w2:column>
				      <w2:column inputType="text" id="attach_full_path" readOnly="true" hidden="true"></w2:column>
				      </w2:row>
				  </w2:gBody>
				</w2:gridView>
		    	<xf:group style="" id="" class="btnGroup">
		    		<xf:group style="" id="" class="le"></xf:group>
		    		<xf:group id="" class="ri">
		    			<xf:trigger style="" id="btn_close" type="button" class="btn pro" ev:onclick="scwin.btn_close_onclick">
		    				<xf:label><![CDATA[닫기]]></xf:label>
		    			</xf:trigger>
		    		</xf:group>
		    	</xf:group>
		    </xf:group>
		</body>
	</html>