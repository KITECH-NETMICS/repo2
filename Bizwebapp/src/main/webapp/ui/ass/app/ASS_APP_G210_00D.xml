<?xml version="1.0" encoding="UTF-8"?>
<html xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ev="http://www.w3.org/2001/xml-events"
    xmlns:w2="http://www.inswave.com/websquare" xmlns:xf="http://www.w3.org/2002/xforms">
    <head meta_programName="자산이동신청">
    	<w2:type>DEFAULT</w2:type>
        <w2:buildDate/>
        <xf:model>
        	<xf:instance>
        		<data xmlns="" />
        	</xf:instance>
        	<w2:dataCollection baseNode="map">
        		<w2:dataMap baseNode="map" id="dma_search">
        			<w2:keyInfo>
        				<w2:key id="mngmt_item_1" name="name1" dataType="text"></w2:key>
        				<w2:key id="req_no" name="name2" dataType="text"></w2:key>
        				<w2:key id="move_clsf" name="name3" dataType="text"></w2:key>
        			</w2:keyInfo>
        		</w2:dataMap>
        		<w2:dataList baseNode="list" repeatNode="map" id="dlt_building" saveRemovedData="true">
        			<w2:columnInfo>
        				<w2:column id="cd" name="코드" dataType="text"></w2:column>
        				<w2:column id="cd_nm" name="코드명" dataType="text"></w2:column>
        				<w2:column id="mngmt_no_1" name="지상 최저 층" dataType="text"></w2:column>
        				<w2:column id="mngmt_no_2" name="지상 최고 층" dataType="text"></w2:column>
        				<w2:column id="mngmt_no_3" name="지하 최고 층" dataType="text"></w2:column>
        				<w2:column id="mngmt_no_4" name="지하 최저 층" dataType="text"></w2:column>
        				<w2:column id="mngmt_no_5" name="옥상 정보" dataType="text"></w2:column>
        			</w2:columnInfo>
        		</w2:dataList>
        		<w2:dataList baseNode="list" repeatNode="map" id="dlt_floor" saveRemovedData="true">
        			<w2:columnInfo></w2:columnInfo>
        		</w2:dataList>
        		<w2:dataList baseNode="list" repeatNode="map" id="dlt_detail" saveRemovedData="true">
        			<w2:columnInfo>
        				<w2:column id="ui_id" name="화면 번호" dataType="text"></w2:column>
        				<w2:column id="endpoints" name="신청자 ID" dataType="text"></w2:column>
        				<w2:column id="save_clsf" name="저장타입" dataType="text"></w2:column>
        				<w2:column id="req_no" name="의뢰번호" dataType="text"></w2:column>
        				<w2:column id="move_clsf" name="이동구분" dataType="text"></w2:column>
        				<w2:column id="brin_schdl_ymd" name="반입예정일자" dataType="text"></w2:column>
        				<w2:column id="tout_schdl_ymd" name="반출예정일자" dataType="text"></w2:column>
        				<w2:column id="tout_psn_syspayno" name="반출자" dataType="text"></w2:column>
        				<w2:column id="tout_dept" name="부서" dataType="text"></w2:column>
        				<w2:column id="tout_dept_new_ymd" name="name1" dataType="text"></w2:column>
        				<w2:column id="cause" name="사유" dataType="text"></w2:column>
        				<w2:column id="attach_file_no" name="name2" dataType="text"></w2:column>
        				<w2:column id="wrte_syspayno" name="name3" dataType="text"></w2:column>
        				<w2:column id="req_ymd" name="name4" dataType="text"></w2:column>
        				<w2:column id="instl_vend" name="name5" dataType="text"></w2:column>
        				<w2:column id="instl_vend_nm" name="name6" dataType="text"></w2:column>
        				<w2:column id="instl_vend_charg" name="name7" dataType="text"></w2:column>
        				<w2:column id="instl_vend_charg_tel" name="name8" dataType="text"></w2:column>
        				<w2:column id="aftr_mngmt_ex" name="name9" dataType="text"></w2:column>
        				<w2:column id="prj_no" name="name10" dataType="text"></w2:column>
        				<w2:column id="prj_nm" name="name11" dataType="text"></w2:column>
        				<w2:column id="out_instl_ymd_st" name="name12" dataType="text"></w2:column>
        				<w2:column id="out_instl_ymd_ed" name="name13" dataType="text"></w2:column>
        				<w2:column id="aset_no" name="name14" dataType="text"></w2:column>
        				<w2:column id="aset_nm" name="name15" dataType="text"></w2:column>
        				<w2:column id="aset_clsf" name="name16" dataType="text"></w2:column>
        				<w2:column id="aset_clsf_nm" name="name17" dataType="text"></w2:column>
        				<w2:column id="aset_typ" name="name18" dataType="text"></w2:column>
        				<w2:column id="aset_typ_nm" name="name19" dataType="text"></w2:column>
        				<w2:column id="move_clsf" name="name20" dataType="text"></w2:column>
        				<w2:column id="move_clsf_nm" name="name21" dataType="text"></w2:column>
        				<w2:column id="tout_schdl_ymd" name="name22" dataType="text"></w2:column>
        				<w2:column id="brin_schdl_ymd" name="name23" dataType="text"></w2:column>
        				<w2:column id="user_syspayno" name="name24" dataType="text"></w2:column>
        				<w2:column id="user_nm" name="name25" dataType="text"></w2:column>
        				<w2:column id="user_empno" name="name26" dataType="text"></w2:column>
        				<w2:column id="intro_ymd" name="name27" dataType="text"></w2:column>
        				<w2:column id="intro_amt" name="name28" dataType="text"></w2:column>
        				<w2:column id="tout_user_nm" name="name29" dataType="text"></w2:column>
        				<w2:column id="tout_user_empno" name="name30" dataType="text"></w2:column>
        				<w2:column id="tout_user_syspayno" name="name31" dataType="text"></w2:column>
        				<w2:column id="tout_user_dept_cd" name="name32" dataType="text"></w2:column>
        				<w2:column id="tout_user_dept_new_ymd" name="name33" dataType="text"></w2:column>
        				<w2:column id="tout_user_ext_no" name="name34" dataType="text"></w2:column>
        				<w2:column id="tout_user_email" name="name35" dataType="text"></w2:column>
        				<w2:column id="tout_user_dept_nm" name="name36" dataType="text"></w2:column>
        				<w2:column id="cause" name="name37" dataType="text"></w2:column>
        				<w2:column id="attach_file_no" name="name38" dataType="text"></w2:column>
        				<w2:column id="gods_attach_file_no" name="name39" dataType="text"></w2:column>
        				<w2:column id="instl_vend" name="name40" dataType="text"></w2:column>
        				<w2:column id="instl_vend_nm" name="name41" dataType="text"></w2:column>
        				<w2:column id="instl_vend_charg" name="name42" dataType="text"></w2:column>
        				<w2:column id="instl_vend_charg_tel" name="name43" dataType="text"></w2:column>
        				<w2:column id="out_instl_ymd_st" name="name44" dataType="text"></w2:column>
        				<w2:column id="out_instl_ymd_ed" name="name45" dataType="text"></w2:column>
        				<w2:column id="prj_no" name="name46" dataType="text"></w2:column>
        				<w2:column id="prj_nm" name="name47" dataType="text"></w2:column>
        				<w2:column id="aftr_mngmt_ex" name="name48" dataType="text"></w2:column>
        				<w2:column id="aftr_mngmt_ex_nm" name="name49" dataType="text"></w2:column>
        				<w2:column id="tout_posi_region" name="name50" dataType="text"></w2:column>
        				<w2:column id="tout_posi_build" name="name51" dataType="text"></w2:column>
        				<w2:column id="tout_posi_region_nm" name="name52" dataType="text"></w2:column>
        				<w2:column id="tout_posi_build_nm" name="name53" dataType="text"></w2:column>
        				<w2:column id="tout_posi_floor" name="name54" dataType="text"></w2:column>
        				<w2:column id="tout_posi_detls" name="name55" dataType="text"></w2:column>
        				<w2:column id="tout_ymd" name="name56" dataType="text"></w2:column>
        				<w2:column id="tout_affir_ymd" name="name57" dataType="text"></w2:column>
        				<w2:column id="tout_affir_syspayno" name="name58" dataType="text"></w2:column>
        				<w2:column id="tout_affir_nm" name="name59" dataType="text"></w2:column>
        				<w2:column id="brin_ymd" name="name60" dataType="text"></w2:column>
        				<w2:column id="brin_affir_ymd" name="name61" dataType="text"></w2:column>
        				<w2:column id="brin_affir_syspayno" name="name62" dataType="text"></w2:column>
        				<w2:column id="brin_affir_nm" name="name63" dataType="text"></w2:column>
        				<w2:column id="posi_nm" name="name64" dataType="text"></w2:column>
        				<w2:column id="ass_syspayno" name="name65" dataType="text"></w2:column>
        				<w2:column id="chk" name="name76" dataType="text"></w2:column>
        				<w2:column id="apr_state" name="name77" dataType="text"></w2:column>
        			</w2:columnInfo>
        		</w2:dataList>
        		<w2:dataMap baseNode="map" id="dma_mast">
        			<w2:keyInfo>
        				<w2:key id="ui_id" name="화면 번호" dataType="text"></w2:key>
        				<w2:key id="endpoints" name="신청자 ID" dataType="text"></w2:key>
        				<w2:key id="save_clsf" name="저장타입" dataType="text"></w2:key>
        				<w2:key id="req_no" name="의뢰번호" dataType="text"></w2:key>
        				<w2:key id="move_clsf" name="이동구분" dataType="text"></w2:key>
        				<w2:key id="brin_schdl_ymd" name="반입예정일자" dataType="text"></w2:key>
        				<w2:key id="tout_schdl_ymd" name="반출예정일자" dataType="text"></w2:key>
        				<w2:key id="tout_psn_syspayno" name="반출자" dataType="text"></w2:key>
        				<w2:key id="tout_dept" name="부서" dataType="text"></w2:key>
        				<w2:key id="tout_dept_new_ymd" name="name10" dataType="text"></w2:key>
        				<w2:key id="cause" name="사유" dataType="text"></w2:key>
        				<w2:key id="attach_file_no" name="name12" dataType="text"></w2:key>
        				<w2:key id="wrte_syspayno" name="name13" dataType="text"></w2:key>
        				<w2:key id="req_ymd" name="name14" dataType="text"></w2:key>
        				<w2:key id="instl_vend" name="name15" dataType="text"></w2:key>
        				<w2:key id="instl_vend_nm" name="name16" dataType="text"></w2:key>
        				<w2:key id="instl_vend_charg" name="name17" dataType="text"></w2:key>
        				<w2:key id="instl_vend_charg_tel" name="name18" dataType="text"></w2:key>
        				<w2:key id="aftr_mngmt_ex" name="name19" dataType="text"></w2:key>
        				<w2:key id="prj_no" name="name20" dataType="text"></w2:key>
        				<w2:key id="prj_nm" name="name21" dataType="text"></w2:key>
        				<w2:key id="out_instl_ymd_st" name="name22" dataType="text"></w2:key>
        				<w2:key id="out_instl_ymd_ed" name="name23" dataType="text"></w2:key>
        				<w2:key id="tout_posi_region" name="name24" dataType="text"></w2:key>
        				<w2:key id="tout_posi_build" name="name25" dataType="text"></w2:key>
        				<w2:key id="tout_posi_floor" name="name26" dataType="text"></w2:key>
        				<w2:key id="tout_posi_detls" name="name27" dataType="text"></w2:key>
        				<w2:key id="aset_typ" name="name28" dataType="text"></w2:key>
        				<w2:key id="tout_user_nm" name="name29" dataType="text"></w2:key>
        				<w2:key id="tout_user_empno" name="name30" dataType="text"></w2:key>
        				<w2:key id="tout_user_email" name="name31" dataType="text"></w2:key>
        				<w2:key id="tout_user_ext_no" name="name32" dataType="text"></w2:key>
        				<w2:key id="tout_user_dept_nm" name="name33" dataType="text"></w2:key>
        				<w2:key id="apr_state" name="name34" dataType="text"></w2:key>
        			</w2:keyInfo>
        		</w2:dataMap>
        	</w2:dataCollection>
        	<w2:workflowCollection></w2:workflowCollection>
        	<xf:submission id="sbm_getBuilding" ref="data:json,dma_search" target="data:json,dlt_building" action="SvcASSComm01.pwkjson"
        		method="post" mediatype="application/json" encoding="UTF-8" instance="" replace="" errorHandler="" customHandler=""
        		mode="asynchronous" processMsg="" ev:submit="" ev:submitdone="" ev:submiterror="" abortTrigger="">
        	</xf:submission>
        	<xf:submission id="sbm_saveData" ref='data:json,["dma_mast","dlt_detail"]' target="" action="" method="post"
        		mediatype="application/json" encoding="UTF-8" instance="" replace="" errorHandler="" customHandler="" mode="asynchronous"
        		processMsg="" ev:submit="" ev:submitdone="" ev:submiterror="" abortTrigger="">
        	</xf:submission>
        	<xf:submission id="sbm_getSelectData" ref="data:json,dma_search" target='' action="SvcASSAPPMOVEREQR02.pwkjson" method="post"
        		mediatype="application/json" encoding="UTF-8" instance="" replace="" errorHandler="" customHandler="" mode="asynchronous"
        		processMsg="" ev:submit="" ev:submitdone="" ev:submiterror="" abortTrigger="">
        	</xf:submission>
        	<xf:submission id="sbm_deleteData" ref="" target="" action="" method="post" mediatype="application/json" encoding="UTF-8"
        		instance="" replace="" errorHandler="" customHandler="" mode="asynchronous" processMsg="" ev:submit="" ev:submitdone=""
        		ev:submiterror="" abortTrigger="">
        	</xf:submission>
        </xf:model>
        <script type="text/javascript" lazy="false"><![CDATA[
	/****************************************************
 	 * 화면 설명 : 자산이동신청
	 * 변경 이력 : 2023-08-23	이정호	최초작성
	 * ServiceId : G210
 	 ****************************************************/
	// 폼번수 
	scwin.data = {};
	scwin.loginInfo = {};

 	/**
	 * 페이지 로딩 이벤트
	 */
	scwin.onpageload = function() {		
		var param = com.getParameter();
		var loginInfo = com.getLoginInfo();

		scwin.data = {
			"saveClsf": "insert"
			, "appYn" : "N"
			, "posiBuild" : "" // 위치건물
			, "posiFloor" : "" // 위치층
			, "instlVendChargTel" : ""
			, "BuildingXml" : ""

			// 첨부 파일 변수
			, "typeCode" : loginInfo.serviceId
			, "aprState" : ""// 결재상태코드
			, "attachFileNo_A" : ""

			, "param2" : param.param2 ? param.param2 : "" // req_no
			, "param3" : param.param3 ? param.param3 : "" // apr_state
			, "param4" : param.param4 ? param.param4 : "" // apr
			
			, "args" : param.args ? param.args : ""
			, "p_nm" : param.nm ? param.nm : ""
			, "p_empno" : param.empno ? param.empno : ""
			, "prvScrnId" : param.screen_id ? param.screen_id : "" // 화면id

			, "reqNo" : param.g_req_no ? param.g_req_no : ""
		}

		scwin.loginInfo = loginInfo;

		if(scwin.data.param2 != "") {	// param2가 존재
			tbx_reqNo.setValue(scwin.data.param2);
			if(scwin.data.param4 == "apr") btn_list.setDisabled(true);
		} else {	// param2가 미존재
			if(scwin.data.reqNo != "") {
				tbx_reqNo.setValue(scwin.data.reqNo);

			} else {

				//첨부파일 셋팅
				com.file.create(upload_A.getID(), { fileKey : scwin.data.typeCode, mode : 'edit' });
			}
		}

		// enter key event
//		com.setEnterKeyEvent(grp_toutPsnEmp, scwin.btn_srchEmpNo_onclick);

		// 공통코드
		var codeOptions = [
			{ code : "HBX", compID : "sbx_posiRegion" }	// 위치(지역)
			, { code : "AGA", compID : "rdo_moveClsf" }	// 반출자
		];

		com.setCmnCd(codeOptions, function() {
			rdo_moveClsf.setSelectedIndex(0);
		});

		if(tbx_reqNo.getValue() != "") {
			scwin.data.saveClsf = "update"
			scwin.menuFind();
		} else {
			if(loginInfo.roleCode.indexOf("1015117") == -1) {
				ibx_toutPsnEmpNo.setValue(loginInfo.empno);
				scwin.btn_srchEmpNo_onclick();
			}
		}
	};
	
	scwin.onpageunload = function() {
		
	};

	/**
	 * 반출자(input box) onkeyup 이벤트
	 */
	scwin.ibx_toutPsnEmpNo_onkeyup = function(e) {
		switch(e.keyCode) {
			case 13 :
				scwin.btn_srchEmpNo_onclick();
				break;

			case 9 :
				break;

			default :
				ibx_toutPsnNm.setValue("");
				ibx_toutPsnSyspayno.setValue("");
				ibx_toutDeptNewYmd.setValue("");
				tbx_userEmail.setValue("");
				tbx_userDeptNm.setValue("");
				ibx_toutDept.setValue("");
				tbx_userExtNo.setValue("");
				break;
		}
	};

	/**
	 * 반출자 검색 버튼 onclick 이벤트
	 */
	scwin.btn_srchEmpNo_onclick = function(e) {
		var data = { empno : ibx_toutPsnEmpNo.getValue(), work_clsf : "HAG010" };

		com.pop.open(com.pop.TYPE.HUM, data, function(ret) {

			// 반출자
			ibx_toutPsnEmpNo.setValue(ret.empno);		//변경자 사원번호
			ibx_toutPsnNm.setValue(ret.nm);				//변경자 성명
			ibx_toutPsnSyspayno.setValue(ret.syspayno);	//변경자 시스템 개인번호
			ibx_toutDeptNewYmd.setValue(ret.dept_new_ymd);

			// 이메일
			tbx_userEmail.setValue(ret.email);

			// 부서명
			tbx_userDeptNm.setValue(ret.dept_nm);
			ibx_toutDept.setValue(ret.dept_cd);

			// 연락처
			tbx_userExtNo.setValue(ret.ext_no);

			dma_search.set("syspayno", ret.syspayno);
			
		});
	};

	/**
	 * 과제명 돋보기 버튼 onclick 이벤트
	 */
	scwin.btn_srchPrj_onclick = function(e) {
	};

	/**
	 * 설치업체 돋보기 버튼 onclick 이벤트
	 */
	scwin.btn_srchVend_onclick = function(e) {
		var data = { vend_abbr : ibx_instlVend.getValue() };

		com.pop.open(com.pop.TYPE.VEND, data, function(ret) {
			ibx_instlVend.setValue(ret.vend_abbr);
			ibx_vendNo.setValue(ret.vend_cd);
		});
	};

	/**
	 * 이동구분(radio) onchange 이벤트
	 */
	scwin.rdo_moveClsf_onchange = function(info) {
		scwin.brinSchdlYmdCheck();
	};

	/**
	 * 위치-지역(select box) onchange 이벤트
	 */
	scwin.sbx_posiRegion_onchange = function(info) {
		if(info.newValue != null && info.newValue.trim() != "") {
			dma_search.set("mngmt_item_1", info.newValue);

			com.execute(sbm_getBuilding, {
				successCallback : function(e) {
					dlt_building.setJSON(e.responseJSON.assCommVoList);
				}
			});
		}
	};

	/**
	 * 위치-건물(select box) onchange 이벤트
	 */
	scwin.sbx_posiBuild_onchange = function(info) {
		var selectData = dlt_building.getMatchedJSON("cd", info.newValue)[0];

		scwin.gfnFloor(sbx_posiFloor, selectData);
	};

	/**
	 * 자산조회 버튼 onclick 이벤트
	 */
	scwin.btn_find_onclick = function(e) {
		scwin.assAppSearch();
	};

	/**
	 * 사후관리여부(radio) onchange 이벤트
	 */
	scwin.rdo_aftrMngmtEx_onchange = function(info) {
		scwin.brinSchdlYmdCheck();
	};

	/**
	 * 저장 버튼 onclick 이벤트
	 */
	scwin.btn_save_onclick = function(e) {
		scwin.save();
	};

	// 자산조회 팝업 오픈
	scwin.assAppSearch = function() {
		
	};

	/*
	 * brinSchdlYmdCheck
 	 * 필수입력값 style 바꾸기
 	 */
	scwin.brinSchdlYmdCheck = function() {
		var moveClsf = rdo_moveClsf.getValue();
		var aftrMngmtEx = rdo_aftrMngmtEx.getValue();

		if(moveClsf == 'AGA020') {	// 외부설치
			caseOut.show();
			caseMove.hide();

			if(aftrMngmtEx != 'Y') { // 사후관리 여부 없슴
				// 반입 예정일자 미필수
				spn_brinSchdlYmdReq.hide();
				tbx_brinSchdlYmd.removeClass("blue");

				// 종료일자 미필수
				spn_outInstlYmdEdReq.hide();
				tbx_outInstlYmdEd.removeClass("blue");
			} else {
				// 반입 예정일자 필수
				spn_brinSchdlYmdReq.show("inline-block");
				tbx_brinSchdlYmd.addClass("blue");

				// 종료일자 필수
				spn_outInstlYmdEdReq.show("inline-block");
				tbx_outInstlYmdEd.addClass("blue");
			}
		} else {	// 반출, 매각, 원내이동, 해당없음
			caseOut.hide();
			caseMove.show();

			if(moveClsf == 'AGA010' || moveClsf == 'AGA060') {	// 반출, 원내이동
				// 반입 예정일자 필수
				spn_brinSchdlYmdReq.show("inline-block");
				tbx_brinSchdlYmd.addClass("blue");

			} else {
				// 반입 예정일자 미필수
				spn_brinSchdlYmdReq.hide();
				tbx_brinSchdlYmd.removeClass("blue");

			}
		}
	}

	scwin.gfnFloor = function(selectboxObj, selectData) {
		var j = 0;
		// 지상 층 정보
		var mngmtNo1 = selectData.mngmt_no_1 != "" ? parseInt(selectData.mngmt_no_1, 10) : 0;
		var mngmtNo2 = selectData.mngmt_no_2 != "" ? parseInt(selectData.mngmt_no_2, 10) : 0;
		// 지하 층 정보
		var mngmtNo3 = selectData.mngmt_no_3 != "" ? parseInt(selectData.mngmt_no_3, 10) : 0;
		var mngmtNo4 = selectData.mngmt_no_4 != "" ? parseInt(selectData.mngmt_no_4, 10) : 0;
		// 옥상 정보
		var mngmtNo5 = selectData.mngmt_no_5 != "" ? parseInt(selectData.mngmt_no_5, 10) : 0;

		selectboxObj.removeAll(true);

		// 지상층
		if(mngmtNo1 != 0) {
			for(j = mngmtNo1; j <= mngmtNo2; j++) {
				selectboxObj.addItem(j + "F", j + "층");
			}
		}
		
		// 지하층
		if(mngmtNo3 != 0) {
			for(j = mngmtNo3; j <= mngmtNo4; j++) {
				selectboxObj.addItem("B" + j * (-1), "지하 " + j * (-1) + " 층");
			}
		}

		// 옥상
		if(mngmtNo5 != 0) {
			selectboxObj.addItem("옥상", "옥상");
		}
	};


	scwin.save = function() {
		if(!scwin.preSave()) return;

		com.file.transport(function(attachObj) {
			/******************************************************
			 *		1. 결재 정보 및 기본 정보
			 ******************************************************/
	
			dma_mast.set("ui_id", scwin.loginInfo.serviceId);	// 화면 번호
			dma_mast.set("endpoints", scwin.loginInfo.uid);		// 신청자 ID
			
			dma_mast.set("save_clsf", scwin.data.saveClsf);		// 저장타입
			dma_mast.set("req_no", scwin.data.reqNo);			// 의뢰번호
			dma_mast.set("tout_psn_syspayno", scwin.loginInfo.sn);				// 반출자
			dma_mast.set("attach_file_no", attachObj.upload_A);
			dma_mast.set("wrte_syspayno", scwin.loginInfo.sn);
			dma_mast.set("req_ymd", com.getServerDateTime());

			if(rdo_moveClsf.getValue() == "AGA020") {		// 외부설치
				dma_mast.set("instl_vend_charg_tel", scwin.data.instlVendChargTel);

				// 외부설치 일 경우 반입정보 데이터는 삭제해준다.
				dma_mast.set("tout_posi_region", "");
				dma_mast.set("tout_posi_build", "");
				dma_mast.set("tout_posi_floor", "");
				dma_mast.set("tout_posi_detls", "");

			} else {

				// 반출, 매각, 원내이동, 해당없음 일 경우 외부설치 정보는 삭제해준다.
				dma_mast.set("instl_vend", "");
				dma_mast.set("instl_vend_nm", "");
				dma_mast.set("instl_vend_charg", "");
				dma_mast.set("instl_vend_charg_tel", "");
				dma_mast.set("aftr_mngmt_ex", "");
				dma_mast.set("prj_no", "");
				dma_mast.set("prj_nm", "");
				dma_mast.set("out_instl_ymd_st", "");
				dma_mast.set("out_instl_ymd_ed", "");

			}

			com.execute(sbm_saveData, {
				successCallback : function(e) {
					scwin.data.reqNo = e.responseJSON.elData.req_no;
					if(scwin.data.reqNo != '') {
						tbx_reqNo.setValue(scwin.data.reqNo);

						// 재조회
						if(scwin.data.appYn == "Y") {
							
						} else {
							
						}
					}
				}
			});
		});
	};

	scwin.preSave = function() {
		if(dlt_detail.getRowCount() <= 0) {
			com.alert("이동신청할 자산정보가 존재하지 않습니다.");
			return false;
		}

		// 이동구분
		var moveClsf = rdo_moveClsf.getValue();

		if(moveClsf == '') {
			com.alert(gfnGetMsg("message.xom.co.com.0003", "이동구분"));
			rdo_moveClsf.focus();
			return false;
		}
		// 반출자정보(시스템번호, 부서코드, 부서생성일자)
		if(ibx_toutPsnSyspayno.getValue() == '' || ibx_toutDept.getValue() == '' || ibx_toutDeptNewYmd.getValue() == '') {
			com.alert(gfnGetMsg("message.xom.co.com.0009", "반출자정보"));
			ibx_toutPsnEmpNo.focus();
			return false;
		}
	
		// 반출사유
		if(txa_cause.getValue() == '') {
			com.alert(gfnGetMsg("message.xom.co.com.0009", "반출사유"));
			txa_cause.focus();
			return false;
		}

		// 반출예정일자
		var toutSchdlYmd = inpcal_toutSchdlYmd.getValue();
		if(toutSchdlYmd.length < 8) {
			com.alert("반출예정일자를 선택해 주시기 바랍니다.!");
			inpcal_toutSchdlYmd.select();
			return false;
		}

		for(var i = 0; i < grd_grid1.getRowCount(); i++) {
			var impt_notf_repay_ymd = grd_grid1.getCellData(i, "impt_notf_repay_ymd").trim();
			var aftr_mngmt_start_ymd = grd_grid1.getCellData(i, "aftr_mngmt_start_ymd").trim();
			var aftr_mngmt_cls_ymd = grd_grid1.getCellData(i, "aftr_mngmt_cls_ymd").trim();

			//사후관리기간내 자산의 이동신청에 대한 경고
			if(impt_notf_repay_ymd <= toutSchdlYmd && aftr_mngmt_cls_ymd >= toutSchdlYmd  ||  impt_notf_repay_ymd.length > 0) {
				if(!confirm("이동신청 대상 자산에 사후관리물품이 포함되어 있어\n 외자구매담당자와 사전협의가 필요합니다.\n 계속 진행하시겠습니까?")) return false;
			}
		}

		if(moveClsf == 'AGA010' || moveClsf == "AGA060") { // 반출, 원내이동
			// 반출(이동)인 경우, 반입예정일자 필수
			if(inpcal_brinSchdlYmd.getValue() == "") {
				com.alert(gfnGetMsg("message.xom.co.com.0009", "반입예정일자"));
//				inputCalendarBrinSchdlYmd.select();
				inpcal_brinSchdlYmd.select();
				return false;
			}
		} else if(moveClsf == 'AGA020') {
			var aftrMngmtEx = rdo_aftrMngmtEx.getValue();
			// 사후관리 여부 데이터값은 위에서 받음
			if(aftrMngmtEx == '') {
				com.alert(gfnGetMsg("message.xom.co.com.0003", "사후관리 여부"));
				rdo_aftrMngmtEx.focus();
				return false;
			}

			// 외부설치인 경우, 사후관리여부 값을 먼저 받아 반입예정일자 유무여부를 체크한다.
			if(aftrMngmtEx == 'Y') {
				if(inpcal_brinSchdlYmd.getValue() == "") {
					com.alert(gfnGetMsg("message.xom.co.com.0009", "반입예정일자"));
					inpcal_brinSchdlYmd.select();
					return false;
				}

				if(inpcal_outInstlYmdEd.getValue() == "") {
					com.alert(gfnGetMsg("message.xom.co.com.0009", "외부설치 종료일자"));
					inpcal_outInstlYmdEd.select();
					return false;
				}
			}

			if(ibx_prjNo.getValue() == '') {
				com.alert(gfnGetMsg("message.xom.co.com.0009", "과제명"));
				ibx_prjNm.select();
				return false;
			}

			// 설치업체
			if(ibx_vendNo.getValue() == '') {
				com.alert(gfnGetMsg("message.xom.co.com.0009", "설치업체"));
				ibx_instlVend.select();
				return false;
			}

			// 업체담당자
			if(ibx_instlVendCharg.getValue() == '') {
				com.alert("업체담당자를 입력해 주시기 바랍니다.!");
				ibx_instlVendCharg.select();
				return false;
			}

			// 담당자연락처
			var no01 = ibx_instlVendChargTel01.getValue();
			var no02 = ibx_instlVendChargTel02.getValue();
			var no03 = ibx_instlVendChargTel03.getValue();

			if(no01.length < 2 || no02.length < 3 || no03.length < 4) {
				com.alert("담당자연락처를 입력해 주시기 바랍니다.!");
				ibx_instlVendChargTel01.select();
				return false;
			}

			scwin.data.instlVendChargTel = no01 + '-' + no02 + '-' + no03;

			// 외부설치 시작일자
			if(inpcal_outInstlYmdSt.getValue() == "") {
				com.alert(gfnGetMsg("message.xom.co.com.0009", "외부설치 시작일자"));
				inpcal_outInstlYmdSt.select();
				return false;
			}
		}

		if(moveClsf == 'AGA010' || moveClsf == 'AGA050' || moveClsf == 'AGA060') { // AGA010 반출, AGA050 매각, AGA060 원내이동
			// 반출위치 - 건물
			if(sbx_posiRegion.getValue() == ""){
				com.alert(gfnGetMsg("message.xom.co.com.0003", "반입정보 위치-지역"));
				sbx_posiRegion.focus();
				return false;
			}

			if(sbx_posiBuild.getValue() == ""){
				com.alert(gfnGetMsg("message.xom.co.com.0003", "반입정보 위치-건물"));
				sbx_posiBuild.focus();
				return false;
			}

			// 반출위치 - 층
			if(sbx_posiFloor.getValue() == ""){
				com.alert(gfnGetMsg("message.xom.co.com.0003", "반입정보 위치-층"));
				sbx_posiFloor.focus();
				return false;
			}

			// 위치 - 상세
			if(ibx_posiDetls.getValue() == '') {
				com.alert("위치-상세를 입력해 주시기 바랍니다.!");
				ibx_posiDetls.select();
				return false;
			}	
		}
		return true;
	};

	scwin.btn_apr_onclick = function(e) {
		scwin.data.appYn = "Y";
		scwin.save();
	};

	// 조회 함수
	scwin.menuFind = function() {
		dma_mast.setEmptyValue();
		dlt_detail.removeAll();

		com.execute(sbm_getSelectData, {
			successCallback : function(e) {
				dma_mast.setJSON(e.responseJSON.assAppMoveReqDetailVoList[0]);

				var telNo = dma_mast.get("instl_vend_charg_tel").split('-', 3);
				ibx_instlVendChargTel01.setValue(telNo[0]);
				ibx_instlVendChargTel02.setValue(telNo[1]);
				ibx_instlVendChargTel03.setValue(telNo[2]);

				//첨부파일 셋팅
				com.file.create(upload_A.getID(), {
					fileKey : ("" !== dma_mast.get("attach_file_no").trim()) ? dma_mast.get("attach_file_no").trim() : scwin.data.typeCode
					, mode : 'edit' 
				});

				dlt_detail.setJSON(e.responseJSON.assAppMoveReqDetailVoList);
				
				com.biz.disabledButtons(dma_mast.get("apr_state"), dma_mast.get("req_no"));
			}
		});
	};

	scwin.btn_list_onclick = function(e) {
		com.moveList("G208");
	};
	]]></script>
    </head>
    <body ev:onpageload="scwin.onpageload" ev:onpageunload="scwin.onpageunload">
    	<w2:wframe id="wfm_title" src="/cm/xml/contentTitle.xml" style=""></w2:wframe>
    	<xf:group class="pageWrap" id="" style="">
    		<xf:group class="searchSection step" id="" style="">
    			<xf:group class="le" id="">
    				<xf:trigger class="btn " id="btn_list" style="" type="button" ev:onclick="scwin.btn_list_onclick">
    					<xf:label><![CDATA[목록]]></xf:label>
    				</xf:trigger>
    			</xf:group>
    			<xf:group class="btnbox" id="">
    				<xf:trigger class="btn icon print" id="" style="" type="button">
    					<xf:label><![CDATA[인쇄]]></xf:label>
    				</xf:trigger>
    				<xf:trigger class="btn blue" id="btn_apr" style="" type="button" disabled="true" ev:onclick="scwin.btn_apr_onclick">
    					<xf:label><![CDATA[결재신청]]></xf:label>
    				</xf:trigger>
    			</xf:group>
    		</xf:group>
    		<xf:group class="w2tb tbl" id="" style="" tagname="table">
    			<w2:attributes>
    				<w2:summary></w2:summary>
    			</w2:attributes>
    			<xf:group tagname="caption"></xf:group>
    			<xf:group tagname="colgroup">
    				<xf:group style="width:220px;" tagname="col"></xf:group>
    				<xf:group style="" tagname="col"></xf:group>
    				<xf:group style="width:220px;" tagname="col"></xf:group>
    				<xf:group style="" tagname="col"></xf:group>
    			</xf:group>
    			<xf:group tagname="tr">
    				<xf:group class="w2tb_th" tagname="th">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:span class="bul_req" id="" label="[필수입력항목]" style=""></w2:span>
    					<w2:textbox class="blue" id="" label="자산 유형" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group class="w2tb_td" tagname="td">
    					<w2:attributes></w2:attributes>
    					<xf:select1 appearance="full" class="radioGroup" cols="" id="rdo_asetTyp" ref="data:dma_mast.aset_typ"
    						renderType="radiogroup" rows="" selectedIndex="0" style="">
    						<xf:choices>
    							<xf:item>
    								<xf:label><![CDATA[자산]]></xf:label>
    								<xf:value><![CDATA[AAA010]]></xf:value>
    							</xf:item>
    							<xf:item>
    								<xf:label><![CDATA[관리대상시작품]]></xf:label>
    								<xf:value><![CDATA[AAA020]]></xf:value>
    							</xf:item>
    						</xf:choices>
    					</xf:select1>
    				</xf:group>
    				<xf:group class="w2tb_th" tagname="th">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:textbox id="" label="반출 신청서 번호" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group class="w2tb_td" tagname="td">
    					<w2:attributes></w2:attributes>
    					<w2:textbox class="txt" id="tbx_reqNo" label="" style="" tagname="span" ref="data:dma_search.req_no"></w2:textbox>
    				</xf:group>
    			</xf:group>
    			<xf:group tagname="tr">
    				<xf:group tagname="th" class="w2tb_th">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:span class="bul_req" id="" label="[필수입력항목]" style=""></w2:span>
    					<w2:textbox class="blue" id="" label="이동구분" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group tagname="td" class="w2tb_td">
    					<w2:attributes>
    						<w2:colspan>3</w2:colspan>
    						<w2:rowspan>1</w2:rowspan>
    					</w2:attributes>
    					<xf:select1 appearance="full" class="radioGroup" cols="" id="rdo_moveClsf" ref="data:dma_mast.move_clsf"
    						renderType="radiogroup" rows="" selectedIndex="0" style="" ev:onchange="scwin.rdo_moveClsf_onchange">
    						<xf:choices></xf:choices>
    					</xf:select1>
    				</xf:group>
    			</xf:group>
    			<xf:group tagname="tr">
    				<xf:group tagname="th" class="w2tb_th">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:span class="bul_req" id="" label="[필수입력항목]" style=""></w2:span>
    					<w2:textbox class="blue" id="" label="반출 예정일자" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group tagname="td" class="w2tb_td">
    					<w2:attributes></w2:attributes>
    					<w2:inputCalendar calendarValueType="yearMonthDate" class="inpcal" focusOnDateSelect="false" footerDiv="false" id="inpcal_toutSchdlYmd"
    						placeholder="" renderDiv="true" rightAlign="false" style="width:150px;" ref="data:dma_mast.tout_schdl_ymd">
    					</w2:inputCalendar>
    				</xf:group>
    				<xf:group tagname="th" class="w2tb_th">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:span class="bul_req" id="spn_brinSchdlYmdReq" label="[필수입력항목]" style=""></w2:span>
    					<w2:textbox class="blue" id="tbx_brinSchdlYmd" label="반입 예정일자" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group tagname="td" class="w2tb_td">
    					<w2:attributes></w2:attributes>
    					<w2:inputCalendar calendarValueType="yearMonthDate" class="inpcal" focusOnDateSelect="false" footerDiv="false" id="inpcal_brinSchdlYmd"
    						placeholder="" renderDiv="true" rightAlign="false" style="width:150px;" ref="data:dma_mast.brin_schdl_ymd">
    					</w2:inputCalendar>
    				</xf:group>
    			</xf:group>
    		</xf:group>
    		<xf:group class="titleSection" id="" style="">
    			<w2:textbox class="tit_tbl" id="" label="반출자 정보" style="" tagname="h3"></w2:textbox>
    		</xf:group>
    		<xf:group class="w2tb tbl" id="" style="" tagname="table">
    			<w2:attributes>
    				<w2:summary></w2:summary>
    			</w2:attributes>
    			<xf:group tagname="caption"></xf:group>
    			<xf:group tagname="colgroup">
    				<xf:group style="width:220px;" tagname="col"></xf:group>
    				<xf:group style="" tagname="col"></xf:group>
    				<xf:group style="width:220px;" tagname="col"></xf:group>
    				<xf:group style="" tagname="col"></xf:group>
    			</xf:group>
    			<xf:group tagname="tr">
    				<xf:group class="w2tb_th" tagname="th">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:span class="bul_req" id="" label="[필수입력항목]" style=""></w2:span>
    					<w2:textbox class="blue" id="" label="반출자" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group class="w2tb_td" tagname="td">
    					<w2:attributes></w2:attributes>
    					<xf:group class="inpSch" id="grp_toutPsnEmp" style="width: 100px;">
    						<xf:input adjustMaxLength="false" class="inp" id="ibx_toutPsnEmpNo" style="" title="사용자명"
    							ev:onkeyup="scwin.ibx_toutPsnEmpNo_onkeyup" ref="data:dma_mast.tout_user_empno">
    						</xf:input>
    						<xf:trigger class="btn" id="btn_srchEmpNo" style="" title="주관자 검색" type="button"
    							ev:onclick="scwin.btn_srchEmpNo_onclick">
    							<xf:label><![CDATA[검색]]></xf:label>
    						</xf:trigger>
    					</xf:group>
    					<xf:input adjustMaxLength="false" class="inp" id="ibx_toutPsnNm" style="width: 100px;" title="사용자 정보"
    						disabled="true" ref="data:dma_mast.tout_user_nm">
    					</xf:input>
    					<xf:input adjustMaxLength="false" class="inp" id="ibx_toutPsnSyspayno" style="width:25px;visibility: hidden;"
    						title="사용자 정보">
    					</xf:input>
    					<xf:input adjustMaxLength="false" class="inp" id="ibx_toutDeptNewYmd" style="width:25px;visibility: hidden;"
    						title="사용자 정보">
    					</xf:input>
    					<xf:input adjustMaxLength="false" class="inp" id="ibx_assSyspayno" style="width:12px;visibility: hidden;"
    						title="사용자 정보">
    					</xf:input>
    				</xf:group>
    				<xf:group class="w2tb_th" tagname="th">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:textbox id="" label="이메일" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group class="w2tb_td" tagname="td">
    					<w2:attributes></w2:attributes>
    					<w2:textbox class="txt" id="tbx_userEmail" label="" style="" tagname="span" ref="data:dma_mast.tout_user_email"></w2:textbox>
    				</xf:group>
    			</xf:group>
    			<xf:group tagname="tr">
    				<xf:group class="w2tb_th" tagname="th">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:textbox id="" label="부서명" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group class="w2tb_td" tagname="td">
    					<w2:attributes></w2:attributes>
    					<w2:textbox class="txt" id="tbx_userDeptNm" label="" style="" tagname="span" ref="data:dma_mast.tout_user_dept_nm"></w2:textbox>
    					<xf:input adjustMaxLength="false" class="inp" id="ibx_toutDept" style="width:25px;visibility: hidden;"
    						title="사용자 정보" ref="data:dma_mast.tout_dept">
    					</xf:input>
    				</xf:group>
    				<xf:group class="w2tb_th" tagname="th">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:textbox id="" label="연락처" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group class="w2tb_td" tagname="td">
    					<w2:attributes></w2:attributes>
    					<w2:textbox class="txt" id="tbx_userExtNo" label="" style="" tagname="span" ref="data:dma_mast.tout_user_ext_no"></w2:textbox>
    				</xf:group>
    			</xf:group>
    			<xf:group tagname="tr">
    				<xf:group class="w2tb_th" tagname="th">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:span class="bul_req" id="" label="[필수입력항목]" style=""></w2:span>
    					<w2:textbox class="blue" id="" label="사유(반출 위치 주소/회사명)" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group class="w2tb_td" tagname="td">
    					<w2:attributes>
    						<w2:colspan>3</w2:colspan>
    						<w2:rowspan>1</w2:rowspan>
    					</w2:attributes>
    					<xf:textarea class="" id="txa_cause" style="height:80px;" title="" maxlength="133" tooltip="133자를 초과할 수 없습니다." ref="data:dma_mast.cause"></xf:textarea>
    				</xf:group>
    			</xf:group>
    			<xf:group tagname="tr">
    				<xf:group class="w2tb_th" tagname="th">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:textbox id="" label="첨부파일" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group class="w2tb_td" tagname="td">
    					<w2:attributes>
    						<w2:colspan>3</w2:colspan>
    						<w2:rowspan>1</w2:rowspan>
    					</w2:attributes>
    					<xf:group class="fileuploadBox" id="upload_A" style="height:150px;"></xf:group>
    				</xf:group>
    			</xf:group>
    		</xf:group>
    		<xf:group id="caseMove">
    			<xf:group style="" id="" class="titleSection">
    				<w2:textbox tagname="h3" style="" id="" label="반입 정보" class="tit_tbl"></w2:textbox>
    			</xf:group>
    			<xf:group tagname="table" style="" id="" class="w2tb tbl">
    				<w2:attributes>
    					<w2:summary></w2:summary>
    				</w2:attributes>
    				<xf:group tagname="caption"></xf:group>
    				<xf:group tagname="colgroup">
    					<xf:group tagname="col" style="width:220px;"></xf:group>
    					<xf:group tagname="col" style=""></xf:group>
    					<xf:group tagname="col" style="width:220px;"></xf:group>
    					<xf:group tagname="col" style=""></xf:group>
    				</xf:group>
    				<xf:group tagname="tr">
    					<xf:group tagname="th" class="w2tb_th">
    						<w2:attributes>
    							<w2:scope>row</w2:scope>
    						</w2:attributes>
    						<w2:textbox tagname="span" style="" id="" label="위치-지역"></w2:textbox>
    					</xf:group>
    					<xf:group tagname="td" class="w2tb_td">
    						<w2:attributes></w2:attributes>
    						<xf:select1 chooseOptionLabel="-선택-" submenuSize="auto" ev:onchange="scwin.sbx_posiRegion_onchange"
    							chooseOption="true" allOption="" ref="data:dma_mast.tout_posi_region" appearance="minimal" disabledClass="w2selectbox_disabled"
    							disabled="false" style="max-width:200px;" id="sbx_posiRegion" class="sel" direction="auto">
    							<xf:choices></xf:choices>
    						</xf:select1>
    					</xf:group>
    					<xf:group tagname="th" class="w2tb_th">
    						<w2:attributes>
    							<w2:scope>row</w2:scope>
    						</w2:attributes>
    						<w2:textbox tagname="span" style="" id="" label="위치-건물"></w2:textbox>
    					</xf:group>
    					<xf:group tagname="td" class="w2tb_td">
    						<w2:attributes></w2:attributes>
    						<xf:select1 chooseOptionLabel="-선택-" submenuSize="auto" chooseOption="true" allOption="" appearance="minimal" disabledClass="w2selectbox_disabled"
    							disabled="false" style="max-width:200px;" id="sbx_posiBuild" class="sel" direction="auto" ev:onchange="scwin.sbx_posiBuild_onchange">
    							<xf:choices>
    								<xf:itemset nodeset="data:dlt_building">
    									<xf:label ref="cd_nm"></xf:label>
    									<xf:value ref="cd"></xf:value>
    								</xf:itemset>
    							</xf:choices>
    						</xf:select1>
    					</xf:group>
    				</xf:group>
    				<xf:group tagname="tr">
    					<xf:group tagname="th" class="w2tb_th">
    						<w2:attributes>
    							<w2:scope>row</w2:scope>
    						</w2:attributes>
    						<w2:textbox tagname="span" style="" id="" label="위치-층"></w2:textbox>
    					</xf:group>
    					<xf:group tagname="td" class="w2tb_td">
    						<w2:attributes></w2:attributes>
    						<xf:select1 submenuSize="auto" chooseOptionLabel="-선택-" appearance="minimal"
    							disabledClass="w2selectbox_disabled" chooseOption="true" disabled="false" style="max-width:200px;" allOption=""
    							id="sbx_posiFloor" class="sel" direction="auto">
    							<xf:choices></xf:choices>
    						</xf:select1>
    					</xf:group>
    					<xf:group tagname="th" class="w2tb_th">
    						<w2:attributes>
    							<w2:scope>row</w2:scope>
    						</w2:attributes>
    						<w2:span style="" id="" label="[필수입력항목]" class="bul_req"></w2:span>
    						<w2:textbox tagname="span" style="" id="" label="위치-상세" class="blue"></w2:textbox>
    					</xf:group>
    					<xf:group tagname="td" class="w2tb_td">
    						<w2:attributes></w2:attributes>
    						<xf:input adjustMaxLength="false" style="max-width:200px;" id="ibx_posiDetls" title="" class="inp full" ref="data:dma_mast.tout_posi_detls"></xf:input>
    					</xf:group>
    				</xf:group>
    			</xf:group>
    		</xf:group>
    		<xf:group id="caseOut" style="">
    			<xf:group class="titleSection" id="" style="">
    				<w2:textbox class="tit_tbl" id="" label="외부설치 정보" style="" tagname="h3"></w2:textbox>
    			</xf:group>
    			<xf:group class="w2tb tbl" id="" style="" tagname="table">
    				<w2:attributes>
    					<w2:summary></w2:summary>
    				</w2:attributes>
    				<xf:group tagname="caption"></xf:group>
    				<xf:group tagname="colgroup">
    					<xf:group style="width:220px;" tagname="col"></xf:group>
    					<xf:group style="" tagname="col"></xf:group>
    					<xf:group style="width:220px;" tagname="col"></xf:group>
    					<xf:group style="" tagname="col"></xf:group>
    				</xf:group>
    				<xf:group tagname="tr">
    					<xf:group class="w2tb_th" tagname="th">
    						<w2:attributes>
    							<w2:scope>row</w2:scope>
    						</w2:attributes>
    						<w2:span class="bul_req" id="" label="[필수입력항목]" style=""></w2:span>
    						<w2:textbox id="" label="과제명" style="" tagname="span"></w2:textbox>
    					</xf:group>
    					<xf:group class="w2tb_td" tagname="td">
    						<w2:attributes>
    							<w2:colspan>3</w2:colspan>
    							<w2:rowspan>1</w2:rowspan>
    						</w2:attributes>
    						<xf:group class="inpSch" id="grp_prjNo" style="width:150px;">
    							<xf:input adjustMaxLength="false" class="inp" id="ibx_prjNo"
    								style="" title="과제명" ref="data:dma_mast.prj_no">
    							</xf:input>
    							<xf:trigger class="btn" id="btn_srchPrj" style="" title="주관자 검색"
    								type="button" ev:onclick="scwin.btn_srchPrj_onclick">
    								<xf:label><![CDATA[검색]]></xf:label>
    							</xf:trigger>
    						</xf:group>
    						<xf:input adjustMaxLength="false" class="inp" disabled="true" id="ibx_prjNm" style="width: 300px;"
    							title="사용자 정보" ref="data:dma_mast.prj_nm">
    						</xf:input>
    					</xf:group>
    				</xf:group>
    				<xf:group tagname="tr">
    					<xf:group class="w2tb_th" tagname="th">
    						<w2:attributes>
    							<w2:scope>row</w2:scope>
    						</w2:attributes>
    						<w2:span class="bul_req" id="" label="[필수입력항목]" style=""></w2:span>
    						<w2:textbox id="" label="설치업체" style="" tagname="span"></w2:textbox>
    					</xf:group>
    					<xf:group class="w2tb_td" tagname="td">
    						<w2:attributes></w2:attributes>
    						<xf:group class="inpSch" id="grp_instlVend" style="width:150px;">
    							<xf:input adjustMaxLength="false" class="inp" id="ibx_instlVend"
    								style="" title="설치업체" ref="data:dma_mast.instl_vend_nm">
    							</xf:input>
    							<xf:trigger class="btn" id="btn_srchVend" style="" title="주관자 검색"
    								type="button" ev:onclick="scwin.btn_srchVend_onclick">
    								<xf:label><![CDATA[검색]]></xf:label>
    							</xf:trigger>
    						</xf:group>
    						<xf:input adjustMaxLength="false" class="inp" disabled="true" id="ibx_vendNo" style="width: 100px;"
    							title="사용자 정보" ref="data:dma_mast.instl_vend">
    						</xf:input>
    					</xf:group>
    					<xf:group class="w2tb_th" tagname="th">
    						<w2:attributes>
    							<w2:scope>row</w2:scope>
    						</w2:attributes>
    						<w2:span class="bul_req" id="" label="[필수입력항목]" style=""></w2:span>
    						<w2:textbox class="blue" id="" label="사후관리여부" style="" tagname="span"></w2:textbox>
    					</xf:group>
    					<xf:group class="w2tb_td" tagname="td">
    						<w2:attributes></w2:attributes>
    						<xf:select1 appearance="full" class="radioGroup" cols="" id="rdo_aftrMngmtEx" ref="data:dma_mast.aftr_mngmt_ex"
    							renderType="radiogroup" rows="" selectedIndex="" style="" ev:onchange="scwin.rdo_aftrMngmtEx_onchange">
    							<xf:choices>
    								<xf:item>
    									<xf:label><![CDATA[Y]]></xf:label>
    									<xf:value><![CDATA[Y]]></xf:value>
    								</xf:item>
    								<xf:item>
    									<xf:label><![CDATA[N]]></xf:label>
    									<xf:value><![CDATA[N]]></xf:value>
    								</xf:item>
    							</xf:choices>
    						</xf:select1>
    					</xf:group>
    				</xf:group>
    				<xf:group tagname="tr" style="">
    					<xf:group class="w2tb_th" tagname="th">
    						<w2:attributes>
    							<w2:scope>row</w2:scope>
    						</w2:attributes>
    						<w2:span class="bul_req" id="" label="[필수입력항목]" style=""></w2:span>
    						<w2:textbox id="" label="업체담당자" style="" tagname="span"></w2:textbox>
    					</xf:group>
    					<xf:group class="w2tb_td" tagname="td">
    						<w2:attributes></w2:attributes>
    						<xf:input adjustMaxLength="false" class="inp full" id="ibx_instlVendCharg" style="max-width:200px;" title="" ref="data:dma_mast.instl_vend_charg"></xf:input>
    					</xf:group>
    					<xf:group class="w2tb_th" tagname="th">
    						<w2:attributes>
    							<w2:scope>row</w2:scope>
    						</w2:attributes>
    						<w2:span class="bul_req" id="" label="[필수입력항목]" style=""></w2:span>
    						<w2:textbox class="blue" id="" label="담당자연락처" style="" tagname="span"></w2:textbox>
    					</xf:group>
    					<xf:group class="w2tb_td" tagname="td">
    						<w2:attributes></w2:attributes>
    						<xf:input adjustMaxLength="false" class="inp full" id="ibx_instlVendChargTel01" style="max-width:70px;"
    							title="">
    						</xf:input>
    						<w2:textbox class="dash" id="" label=" - " style="" tagname="span"></w2:textbox>
    						<xf:input adjustMaxLength="false" class="inp full" id="ibx_instlVendChargTel02" style="max-width:70px;"
    							title="">
    						</xf:input>
    						<w2:textbox class="dash" id="" label=" - " style="" tagname="span"></w2:textbox>
    						<xf:input adjustMaxLength="false" class="inp full" id="ibx_instlVendChargTel03" style="max-width:70px;"
    							title="">
    						</xf:input>
    					</xf:group>
    				</xf:group>
    				<xf:group tagname="tr" style="">
    					<xf:group class="w2tb_th" tagname="th">
    						<w2:attributes>
    							<w2:scope>row</w2:scope>
    						</w2:attributes>
    						<w2:span class="bul_req" id="" label="[필수입력항목]" style=""></w2:span>
    						<w2:textbox id="" label="시작일자" style="" tagname="span"></w2:textbox>
    					</xf:group>
    					<xf:group class="w2tb_td" tagname="td">
    						<w2:attributes></w2:attributes>
    						<w2:inputCalendar calendarValueType="yearMonthDate" class="inpcal" focusOnDateSelect="false" footerDiv="false"
    							id="inpcal_outInstlYmdSt" placeholder="" renderDiv="true" rightAlign="false" style="width:150px;" ref="data:dma_mast.out_instl_ymd_st">
    						</w2:inputCalendar>
    					</xf:group>
    					<xf:group class="w2tb_th" tagname="th">
    						<w2:attributes>
    							<w2:scope>row</w2:scope>
    						</w2:attributes>
    						<w2:span class="bul_req" id="spn_outInstlYmdEdReq" label="[필수입력항목]" style=""></w2:span>
    						<w2:textbox class="blue" id="tbx_outInstlYmdEd" label="종료일자" style="" tagname="span"></w2:textbox>
    					</xf:group>
    					<xf:group class="w2tb_td" tagname="td">
    						<w2:attributes></w2:attributes>
    						<w2:inputCalendar calendarValueType="yearMonthDate" class="inpcal" focusOnDateSelect="false" footerDiv="false"
    							id="inpcal_outInstlYmdEd" placeholder="" renderDiv="true" rightAlign="false" style="width:150px;" ref="data:dma_mast.out_instl_ymd_ed">
    						</w2:inputCalendar>
    					</xf:group>
    				</xf:group>
    			</xf:group>
    		</xf:group>
    		<xf:group class="titleSection" id="" style="">
    			<xf:group class="le" id="">
    				<w2:textbox class="tit_tbl" id="" label="반출 내역" style="" tagname="h3"></w2:textbox>
    			</xf:group>
    			<xf:group class="ri" id="">
    				<xf:group class="btnarea" id="" style="">
    					<xf:trigger class="btn" id="btn_find" style="" type="button" ev:onclick="scwin.btn_find_onclick">
    						<xf:label><![CDATA[자산조회]]></xf:label>
    					</xf:trigger>
    					<xf:trigger class="bt_minus" id="" style="" type="button">
    						<xf:label><![CDATA[삭제]]></xf:label>
    					</xf:trigger>
    				</xf:group>
    			</xf:group>
    		</xf:group>
    		<w2:gridView autoFit="allColumn" class="grid" dataList="data:dlt_detail" defaultCellHeight="28" evenRowBackgroundColor="#f7faff"
    			id="grd_grid1" noResultMessage="조회 결과가 없습니다." noResultMessageClass="noResult" rowMouseOverColor="#e7f0fb"
    			rowNumBackgroundColor="#fff" rowNumHeaderValue="No." rowNumVisible="true" rowNumWidth="60" rowStatusHeaderValue="상태"
    			rowStatusVisible="false" rowStatusWidth="50" scrollByColumn="false" scrollByColumnAdaptive="false" selectedCellColor="#fbf2cd"
    			selectedRowColor="#fbf2cd" style="height: 85px;" visibleRowNum="10">
    			<w2:caption id="caption1" style="" value="this is a grid caption."></w2:caption>
    			<w2:header id="header1" style="">
    				<w2:row id="row1" style="">
    					<w2:column checkboxLabel="전체선택" displayMode="label" fixColumnWidth="true" id="column1" inputType="checkbox"
    						style="height:28px;" value="선택" width="45">
    					</w2:column>
    					<w2:column width="100" inputType="text" style="height:28px" id="column41" value="자산분류" displayMode="label"></w2:column>
    					<w2:column displayMode="label" id="column9" inputType="text" style="height:28px;" value="자산번호" width="100"></w2:column>
    					<w2:column displayMode="label" id="column35" inputType="text" style="height:28px" value="품명" width="200"></w2:column>
    					<w2:column displayMode="label" id="column20" inputType="text" style="height:28px;" value="사용자" width="220"
    						colSpan="2">
    					</w2:column>
    					<w2:column displayMode="label" id="column27" inputType="text" style="height:28px" value="도입 일자" width="100"></w2:column>
    					<w2:column displayMode="label" id="column37" inputType="text" style="height:28px" value="도입 금액" width="100"></w2:column>
    					<w2:column width="150" inputType="text" style="height:28px" id="column54" value="자산위치" displayMode="label"></w2:column>
    					<w2:column displayMode="label" id="column39" inputType="text" style="height:28px" value="구자산번호" width="100"></w2:column>
    					<w2:column width="70" inputType="text" style="height:28px" id="column58" value="수입신고수리일" displayMode="label"
    						hidden="true">
    					</w2:column>
    					<w2:column width="70" inputType="text" style="height:28px" id="column60" value="사후관리시작일" displayMode="label"
    						hidden="true">
    					</w2:column>
    					<w2:column width="70" inputType="text" style="height:28px" id="column62" value="사후관리종료일" displayMode="label"
    						hidden="true">
    					</w2:column>
    				</w2:row>
    			</w2:header>
    			<w2:gBody id="gBody1" style="">
    				<w2:row id="row2" style="">
    					<w2:column checkboxLabel="선택" displayMode="label" id="chk" inputType="checkbox" style="height:28px;" width="50">
    					</w2:column>
    					<w2:column width="100" inputType="text" style="height:28px" id="aset_clsf_nm" displayMode="label"></w2:column>
    					<w2:column displayMode="label" id="aset_no" inputType="text" style="height:28px;" width="100"></w2:column>
    					<w2:column displayMode="label" id="aset_nm" inputType="text" style="height:28px" width="200"></w2:column>
    					<w2:column displayMode="label" id="user_empno" inputType="text" readOnly="true" style="height:28px;" width="50"></w2:column>
    					<w2:column width="50" inputType="text" style="height:28px" id="user_nm" displayMode="label"></w2:column>
    					<w2:column displayMode="label" id="intro_ymd" inputType="text" style="height:28px" width="100"></w2:column>
    					<w2:column displayMode="label" id="intro_amt" inputType="text" style="height:28px" width="100"></w2:column>
    					<w2:column width="150" inputType="text" style="height:28px" id="posi_nm" displayMode="label"></w2:column>
    					<w2:column displayMode="label" id="old_aset_no" inputType="text" style="height:28px" width="100"></w2:column>
    					<w2:column width="70" inputType="text" style="height:28px" id="impt_notf_repay_ymd" displayMode="label"></w2:column>
    					<w2:column width="70" inputType="text" style="height:28px" id="aftr_mngmt_start_ymd" displayMode="label"></w2:column>
    					<w2:column width="70" inputType="text" style="height:28px" id="aftr_mngmt_cls_ymd" displayMode="label"></w2:column>
    				</w2:row>
    			</w2:gBody>
    		</w2:gridView>
    		<xf:group class="btnGroup" id="" style="">
    			<xf:group class="le" id="" style=""></xf:group>
    			<xf:group class="ri" id="">
    				<xf:trigger class="btn pro" id="btn_del" style="" type="button" disabled="true">
    					<xf:label><![CDATA[삭제]]></xf:label>
    				</xf:trigger>
    				<xf:trigger class="btn pro conf" id="btn_save" style="" type="button" ev:onclick="scwin.btn_save_onclick">
    					<xf:label><![CDATA[저장]]></xf:label>
    				</xf:trigger>
    			</xf:group>
    		</xf:group>
    	</xf:group>
    </body>
</html>
