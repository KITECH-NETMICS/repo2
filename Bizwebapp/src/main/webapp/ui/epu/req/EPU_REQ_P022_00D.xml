<?xml version="1.0" encoding="UTF-8"?>
<html xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ev="http://www.w3.org/2001/xml-events"
    xmlns:w2="http://www.inswave.com/websquare" xmlns:xf="http://www.w3.org/2002/xforms">
    <head meta_programName="내자구매요구">
    	<w2:type>DEFAULT</w2:type>
        <w2:buildDate/>
        <xf:model>
            <xf:instance>
                <data xmlns=""/>
            </xf:instance>
            <w2:dataCollection baseNode="map">
            	<w2:dataList baseNode="list" repeatNode="map" id="dlt_item" saveRemovedData="true">
            		<w2:columnInfo>
            			<w2:column id="pur_req_no" name="구매요구번호" dataType="text"></w2:column>
            			<w2:column id="item_odr" name="항목순번" dataType="text"></w2:column>
            			<w2:column id="item_cd" name="품목코드" dataType="text"></w2:column>
            			<w2:column id="krchar_gdnm" name="한글품명" dataType="text"></w2:column>
            			<w2:column id="eng_gdnm" name="영문품명" dataType="text"></w2:column>
            			<w2:column id="unit_cd" name="단위코드" dataType="text"></w2:column>
            			<w2:column id="unit_desc" name="단위" dataType="text"></w2:column>
            			<w2:column id="curncy_unit_cd" name="통화단위코드" dataType="text"></w2:column>
            			<w2:column id="req_time_exchgr" name="요청시환율" dataType="text"></w2:column>
            			<w2:column id="qty" name="수량" dataType="text"></w2:column>
            			<w2:column id="req_unit_price" name="추정단가" dataType="text"></w2:column>
            			<w2:column id="req_amt" name="추정가격" dataType="text"></w2:column>
            			<w2:column id="req_time_addtax_extexpns" name="부가세" dataType="text"></w2:column>
            			<w2:column id="req_amt_sum" name="요청금액합계" dataType="text"></w2:column>
            			<w2:column id="incidntl_expns" name="부대비" dataType="text"></w2:column>

            			<w2:column id="rmk" name="비고" dataType="text"></w2:column>
            			<w2:column id="cntst_prod_yn" name="중기간경쟁제품여부" dataType="text"></w2:column>
            			<w2:column id="chk" name="선택" dataType="text"></w2:column>
            			<w2:column id="order_cd" name="발주여부코드" dataType="text"></w2:column>
            		</w2:columnInfo>
            	</w2:dataList>
            	<w2:dataList baseNode="list" repeatNode="map" id="dlt_accnt" saveRemovedData="true">
            		<w2:columnInfo>
            			<w2:column id="pur_req_no" name="구매요구번호" dataType="text"></w2:column>
            			<w2:column id="accnt_odr" name="계정순번" dataType="text"></w2:column>
            			<w2:column id="accnt_no" name="계정번호" dataType="text"></w2:column>
            			<w2:column id="mngmt_clsf" name="관리구분" dataType="text"></w2:column>
            			<w2:column id="accnt_no_nm" name="계정명" dataType="text"></w2:column>
            			<w2:column id="accnt_cd" name="회계코드" dataType="text"></w2:column>
            			<w2:column id="accnt_cd_abbr" name="회계코드명" dataType="text"></w2:column>
            			<w2:column id="expns_cd" name="비용코드" dataType="text"></w2:column>
            			<w2:column id="expns_cd_nm" name="비용코드명" dataType="text"></w2:column>
            			<w2:column id="accnt_respn_psn_syspayno" name="계정책임자시스템개인번호" dataType="text"></w2:column>
            			<w2:column id="accnt_respn_psn_empno" name="계정책임자개인번호" dataType="text"></w2:column>
            			<w2:column id="accnt_respn_psn_nm" name="계정책임자성명" dataType="text"></w2:column>
            			<w2:column id="ctrl_amt" name="통제금액" dataType="text"></w2:column>
            			<w2:column id="ctrl_no" name="통제번호" dataType="text"></w2:column>
            			<w2:column id="bugt_ctrl_charg_syspayno" name="예산통제자" dataType="text"></w2:column>
            			<w2:column id="accnt_demnd_amt" name="계정요구금액" dataType="text"></w2:column>
            			<w2:column id="old_accnt_demnd_amt" name="이전계정요구금액" dataType="text"></w2:column>
            			<w2:column id="equip_odr" name="기자재순번" dataType="text"></w2:column>
            			<w2:column id="equip_nm" name="기자재명" dataType="text"></w2:column>
            			<w2:column id="consttn_no" name="심의번호" dataType="text"></w2:column>
            			<w2:column id="consttn_clsf" name="심의구분" dataType="text"></w2:column>
            			<w2:column id="attach_file_no" name="첨부파일번호" dataType="text"></w2:column>
            			<w2:column id="incidntl_expns" name="부대비" dataType="text"></w2:column>
            			<w2:column id="tax_cd" name="과세여부" dataType="text"></w2:column>
            			<w2:column id="card_use_ex" name="카드사용구분" dataType="text"></w2:column>
            			<w2:column id="cls_ymd" name="계정종료일" dataType="text"></w2:column>
            			<w2:column id="add_tax" name="부가세" dataType="text"></w2:column>
            			<w2:column id="sum_amt" name="공급가액" dataType="text"></w2:column>
            			<w2:column id="ntis_reg_no" name="NTIS장비번호" dataType="text"></w2:column>
            			<w2:column id="bsns_cd_inout" name="사업구분" dataType="text"></w2:column>
            			<w2:column id="apply_cls_ymd" name="계정종료일(마감적용)" dataType="text"></w2:column>
            			<w2:column id="cud_type" name="cud타입" dataType="text"></w2:column>
            			<w2:column id="chk" name="선택" dataType="text"></w2:column>
            			<w2:column id="bsns_cd_ofic" name="관계부처" dataType="text"></w2:column>
            		</w2:columnInfo>
            	</w2:dataList>
            	<w2:dataMap baseNode="map" id="dma_search">
            		<w2:keyInfo>
            			<w2:key id="pur_req_no" name="구매요구번호" dataType="text"></w2:key>
            			<w2:key id="sub_pur_yn" name="부속구매여부" dataType="text"></w2:key>
            			<w2:key id="role_type" name="롤타입" dataType="text"></w2:key>
            			<w2:key id="syspayno" name="시스템개인번호" dataType="text"></w2:key>
            			<w2:key id="user_main_syspayno" name="사용자(정)" dataType="text"></w2:key>
            		</w2:keyInfo>
            	</w2:dataMap>
            	<w2:dataMap baseNode="map" id="dma_mstr">
            		<w2:keyInfo>
            			<w2:key id="pur_req_no" name="구매요구번호" dataType="text"></w2:key>
            			<w2:key id="inout_psn_clsf_cd" name="내외자구분" dataType="text"></w2:key>
            			<w2:key id="pur_grp_cd" name="구매구분1" dataType="text"></w2:key>
            			<w2:key id="pur_clsf_cd" name="구매구분2" dataType="text"></w2:key>
            			<w2:key id="req_ymd" name="신청일자" dataType="text"></w2:key>
            			<w2:key id="req_usg" name="요청용도" dataType="text"></w2:key>
            			<w2:key id="req_usg_cd" name="요청용도코드" dataType="text"></w2:key>
            			<w2:key id="rcpt_ymd" name="접수일자" dataType="text"></w2:key>
            			<w2:key id="req_psn_syspayno" name="요청자시스템개인번호" dataType="text"></w2:key>
            			<w2:key id="req_psn_nm" name="요청자성명" dataType="text"></w2:key>
            			<w2:key id="charg_syspayno" name="담당자시스템개인번호" dataType="text"></w2:key>
            			<w2:key id="charg_empno" name="담당자개인번호" dataType="text"></w2:key>
            			<w2:key id="charg_nm" name="담당자성명" dataType="text"></w2:key>
            			<w2:key id="user_main_syspayno" name="사용자(정)" dataType="text"></w2:key>
            			<w2:key id="user_main_empno" name="사용자정개인번호" dataType="text"></w2:key>
            			<w2:key id="user_main_nm" name="사용자정성명" dataType="text"></w2:key>
            			<w2:key id="user_sub_syspayno" name="사용자(부)" dataType="text"></w2:key>
            			<w2:key id="user_sub_empno" name="사용자부개인번호" dataType="text"></w2:key>
            			<w2:key id="user_sub_nm" name="사용자부성명" dataType="text"></w2:key>
            			<w2:key id="req_dept_cd" name="요청부서" dataType="text"></w2:key>
            			<w2:key id="dept_new_ymd" name="요청부서신설일자" dataType="text"></w2:key>
            			<w2:key id="msds_yn" name="MSDS 사용여부" dataType="text"></w2:key>
            			<w2:key id="rad_yn" name="방사선여부" dataType="text"></w2:key>
            			<w2:key id="rad_knd" name="방사선장비종류" dataType="text"></w2:key>
            			<w2:key id="delvr_demnd_daycnt" name="납품요구일수" dataType="text"></w2:key>
            			<w2:key id="delvr_plc_clsf_cd" name="납품장소구분코드" dataType="text"></w2:key>
            			<w2:key id="delvr_plc_clsf_cd_nm" name="납품장소구분명" dataType="text"></w2:key>
            			<w2:key id="delvr_plc_dept_vend_cd" name="납품장소부서업체코드" dataType="text"></w2:key>
            			<w2:key id="delvr_dept_new_ymd" name="납품부서신설일" dataType="text"></w2:key>
            			<w2:key id="delvr_plc_nm" name="납품장소명" dataType="text"></w2:key>
            			<w2:key id="instl_posi_region_cd" name="설치위치지역코드" dataType="text"></w2:key>
            			<w2:key id="instl_posi_build_cd" name="설치위치건물코드" dataType="text"></w2:key>
            			<w2:key id="instl_posi_floor_clsf" name="설치위치층구분" dataType="text"></w2:key>
            			<w2:key id="instl_posi_floor_cd" name="설치위치층코드" dataType="text"></w2:key>
            			<w2:key id="instl_posi_editno" name="설치위치호수" dataType="text"></w2:key>
            			<w2:key id="instl_posi_opr_no" name="설치운영번호" dataType="text"></w2:key>
            			<w2:key id="instl_posi_opr_charg" name="설치위치운영담당" dataType="text"></w2:key>
            			<w2:key id="instl_posi_tel" name="설치위치전화" dataType="text"></w2:key>
            			<w2:key id="instl_opr_time_daycnt" name="설치운영시기일수" dataType="text"></w2:key>
            			<w2:key id="instl_posi_postmt_no" name="설치위치우편번호" dataType="text"></w2:key>
            			<w2:key id="instl_posi_addr" name="설치위치주소" dataType="text"></w2:key>
            			<w2:key id="addtax_calc_rts" name="부가세산출비율" dataType="text"></w2:key>
            			<w2:key id="addtax_amt" name="부가세금액" dataType="text"></w2:key>
            			<w2:key id="req_amt_sum" name="요청금액합계" dataType="text"></w2:key>
            			<w2:key id="incidntl_expns_sum" name="부대비용합계" dataType="text"></w2:key>
            			<w2:key id="req_amt" name="공급가액 합계" dataType="text"></w2:key>
            			<w2:key id="sub_pur_yn" name="부속구매여부" dataType="text"></w2:key>
            			<w2:key id="inhr_pur_req_no" name="부속구매요구번호" dataType="text"></w2:key>
            			<w2:key id="attach_file_no" name="첨부파일번호" dataType="text"></w2:key>
            			<w2:key id="fomat_unit" name="편성단위" dataType="text"></w2:key>
            			<w2:key id="apr_state" name="결재상태" dataType="text"></w2:key>
            			<w2:key id="contrct_no" name="계약번호" dataType="text"></w2:key>
            			<w2:key id="chng_seq" name="계약변경순번" dataType="text"></w2:key>
            			<w2:key id="safety_yn" name="안전장비포함구매여부" dataType="text"></w2:key>
            			<w2:key id="safe_req_no" name="사전안전성검토신청번호" dataType="text"></w2:key>
            			<w2:key id="safe_syspayno" name="사전안정선검토자" dataType="text"></w2:key>
            			<w2:key id="validAttachNo" name="첨부파일" dataType="text"></w2:key>
            			<w2:key id="equip_info" name="연구장비여부" dataType="text"></w2:key>
            			<w2:key id="approval" name="결재여부" dataType="text"></w2:key>
            			<w2:key id="disabld_pur_yn" name="장애인생산품구매가능여부" dataType="text"></w2:key>
            		</w2:keyInfo>
            	</w2:dataMap>
            	<w2:dataList baseNode="list" repeatNode="map" id="dlt_file" saveRemovedData="true">
            		<w2:columnInfo>
            			<w2:column id="cd_nm" name="첨부서류명" dataType="text"></w2:column>
            			<w2:column id="org_cd_nm" name="최초코드명" dataType="text"></w2:column>
            			<w2:column id="cd_desc" name="설명" dataType="text"></w2:column>
            			<w2:column id="elecapp_docu_no" name="특정구매사유서결재번호" dataType="text"></w2:column>
            			<w2:column id="serviceId" name="서비스아이디" dataType="text"></w2:column>
            			<w2:column id="cd" name="첨부서류코드" dataType="text"></w2:column>
            			<w2:column id="cnt" name="첨부파일개수" dataType="text"></w2:column>
            		</w2:columnInfo>
            	</w2:dataList>
            </w2:dataCollection>
            <w2:workflowCollection/>
            <!-- 조회 -->
            <xf:submission id="sbm_selectData" ref="data:json,dma_search" target='data:json,[{"id":"dlt_item","key":"itemList"},{"id":"dlt_accnt","key":"accntList"},{"id":"dlt_file","key":"purFileList"}]' 
            	action="SvcEPUPURREQR02.pwkjson" method="post" mediatype="application/json" encoding="UTF-8" instance="" replace="" errorHandler="" customHandler="" mode="asynchronous"
        		processMsg="" ev:submit="" ev:submitdone="" ev:submiterror="" abortTrigger="">
        	</xf:submission>
        	<!-- 저장 -->
            <xf:submission id="sbm_saveData" ref='data:json,[{"id":"dma_mstr","key":"mstrVo"},{"id":"dlt_item","key":"itemList"},{"action":"modified","id":"dlt_accnt","key":"accntList"}]' target='data:json,dma_search' 
            	action="SvcEPUPURREQM02.pwkjson" method="post" mediatype="application/json" encoding="UTF-8" instance="" replace="" errorHandler="" customHandler="" mode="asynchronous"
        		processMsg="" ev:submit="" ev:submitdone="" ev:submiterror="" abortTrigger="">
        	</xf:submission>
        	<!-- 삭제 -->
            <xf:submission id="sbm_deleteData" ref='data:json,dma_search' target='' 
            	action="SvcEPUPURREQD01.pwkjson" method="post" mediatype="application/json" encoding="UTF-8" instance="" replace="" errorHandler="" customHandler="" mode="asynchronous"
        		processMsg="" ev:submit="" ev:submitdone="" ev:submiterror="" abortTrigger="">
        	</xf:submission>
        	<!-- 담당자저장 -->
            <xf:submission id="sbm_savePostApr" ref='data:json,dma_mstr' target='' 
            	action="SvcEPUPURREQU02.pwkjson" method="post" mediatype="application/json" encoding="UTF-8" instance="" replace="" errorHandler="" customHandler="" mode="asynchronous"
        		processMsg="" ev:submit="" ev:submitdone="" ev:submiterror="" abortTrigger="">
        	</xf:submission>
        </xf:model>
        <script src="/cm/js/biz/pur.js" cache ="false" />
        <script type="text/javascript" lazy="false"><![CDATA[
    /****************************************************
 	 * 화면 설명 : 내자구매요구
 	 * 변경 이력 : 2022-11-25	이영희	최초 작성
 	 *          2023.03.24. btn_postSave 클릭이벤트 구현필요(결재 후 사용자(정)수정이 필요할 때)
 	 * 서비스아이디 : P022
 	 ****************************************************/  
    /*
     * 페이지 열기
     */      
    scwin.data = {isApproval : false};
	scwin.onpageload = function() {
		// 첨부파일 컴포넌트 초기화
		com.file.init();
		// 초기화
		grp_attach.hide();
		grd_file.setHeaderHide(true);
		btn_contrct_print.hide();
		btn_postSave.hide(); // 담당자 저장
		
		// parameter
		var param = com.getParameter();
		// 관리자화면에서 넘어온 경우 발주계획등록 보임
		if(param.clsf == "MNT"){
			btn_order.show("");
			btn_apr.hide();
		}else {
			btn_order.hide();
		}
		
		// enter key event
		com.setEnterKeyEvent(grp_user_main, scwin.btn_user_main_onclick);
		com.setEnterKeyEvent(grp_user_sub, scwin.btn_user_sub_empno_onclick);
		com.setEnterKeyEvent(grp_instl_charg, scwin.btn_opr_psn_onclick);
		
		scwin.data.today = com.getServerDateTime();
				
		// 부속구매요구
		if(param.sub_pur_yn == "Y"){
			cbx_inhr_pur_yn.setValue("Y");
			cbx_inhr_pur_yn.setDisabled(true);
		}else{
			if(param.param4 == "apr"){
				scwin.data.param4 = "apr";
				
				if(com.isEmpty(param.req_no)){
					btn_inhrPurReqNo.setDisabled(false);	
				}else{
					dma_search.set("pur_req_no", param.req_no);
				}
			}else{
				dma_search.set("pur_req_no", param.pur_req_no);
			}
		}		
		
		var codeOptions = [ { code : "AAF", compID :"sbx_req_usg_cd" } // 사용용도
		 				   ,{ code : "RBH", compID :"grd_accnt:consttn_clsf" }  // 심의여부
		                   ,{ code : "EGF", compID :"sbx_pur_grp_cd" }	// 구매구분
		                   ,{ code : "HBX", compID :"sbx_posi_region" } // 지역
		                   ,{ code : "RHA", compID :"grd_accnt:bsns_cd_inout" }
		                ];		
		com.setCmnCd(codeOptions, function(){
			if(dma_search.get("pur_req_no") != ""){
				scwin.search();	
			}else{
				scwin.setInit();	
			}
		});	
	};
	
	scwin.onpageunload = function() {
		
	};
	
	/*
     * 신규셋팅
     */
	scwin.setInit = function(){
		// 내외자 구분
		dma_mstr.set("inout_psn_clsf_cd", "1");
		// 납품장소를 부서로 선택한다.
		dma_mstr.set("delvr_plc_clsf_cd", "1");
		
		// 구매요구자 셋팅
		dma_mstr.set("req_psn_syspayno", com.getLoginInfo("sn"));
		dma_mstr.set("req_psn_nm", com.getLoginInfo("cn"));
		dma_mstr.set("req_ymd", com.getServerDateTime());
		dma_mstr.set("req_dept_cd", com.getLoginInfo("deptCode"));
		dma_mstr.set("dept_new_ymd", com.getLoginInfo("deptNewYmd"));
		
		// 실사용자 셋팅
		dma_mstr.set("user_sub_syspayno", com.getLoginInfo("sn"));
		dma_mstr.set("user_sub_nm", com.getLoginInfo("cn"));
		dma_mstr.set("user_sub_empno", com.getLoginInfo("empno"));
		
		// 부서정보를 로그인한 사용자 부서로 설정한다.	
		dma_mstr.set("delvr_plc_dept_vend_cd", com.getLoginInfo("deptCode"));
		dma_mstr.set("delvr_plc_nm", com.getLoginInfo("deptName"));
		dma_mstr.set("delvr_dept_new_ymd", com.getLoginInfo("deptNewYmd"));
		
		// 부가세율
		ibx_addtax_calc_rts.setValue(10);
		
		// 로그인한 사람에 대한 정보
		scwin.setLoginInfo();
		
	};
	
	/*
     * 로그인한 사람에 대한 정보
     */
	scwin.setLoginInfo = function(){
		com.pop.open(com.pop.TYPE.HUM, {empno :com.getLoginInfo("empno")}, function(ret) {
			dma_mstr.set("instl_posi_opr_no", ret.syspayno);
			dma_mstr.set("instl_posi_opr_charg", ret.nm);
			dma_mstr.set("instl_posi_tel", ret.ext_no);
			dma_mstr.set("instl_posi_region_cd", ret.work_land);
			dma_mstr.set("instl_posi_postmt_no", ret.work_land_postmt_no);
			dma_mstr.set("instl_posi_addr", ret.work_land_addr + " " + ret.work_land_build_info);			
			
			sbx_posi_region.trigger("viewchange");
		});
	};
	
	/*
     * 조회
     */
	scwin.search = function(){
		com.execute(sbm_selectData, {
			successCallback : function(e){
				// 첨부서류 
				grp_attach.show();
				btn_print.setDisabled(false);
				
				var mstrData = e.responseJSON.elData.mstrVo;
				var codeOptions = [ { code : "APA", compID :"sbx_instl_posi_build", filter : "mngmtItem1 == '" + mstrData.instl_posi_region_cd + "'"},
				                    { code : "PBA", compID :"sbx_pur_clsf_cd", filter : "mngmtItem1 == '" + mstrData.pur_grp_cd + "'"}, // 구매구분 2				                    
		                         ];		
				com.setCmnCd(codeOptions, function(){
					scwin.setPosiFloor(ldt_cmnCd_APA_0.getMatchedJSON("comCd", mstrData.instl_posi_build_cd, true)[0]);
					dma_mstr.setJSON(mstrData);
				});	
				
				// 버튼제어
				if(dma_mstr.get("inhr_pur_req_no") != ""){
					btn_inhrPurReqNo.setDisabled(true);
				}
//				 발주계획 이력이 있을 경우 발주계획 버튼 숨김처리
				if(dlt_item.getMatchedIndex("order_cd", "10", true).length > 0){
					btn_order.hide();
				}
//				 구매요구서 결재완료상태가 아닐 경우 발주계획 버튼 숨김처리
//				if(dma_mstr.get("apr_state") != "XAD100"){
//					btn_order.hide();
//				}
				
				com.biz.disabledButtons(dma_mstr.get("apr_state"), dma_mstr.get("pur_req_no"));
				
				
				// 반려시 구매요구일자 오늘로 변경
				if(dma_mstr.get("apr_state") == "XAD015"){
					dma_mstr.set("req_ymd", com.getServerDateTime());
					
					// 저장시 action : modified 설정으로 인해 상태값이 변하지 않으면 데이터를 가지고 가지 않기 때문에
					// 반려시 계정내역 상태값 수정(예산통제자 반려시 bblenfrc 삭제 및 예산통제내역이 초기화되므로 다시 예산통제모듈 호출을 해야함)
					for(var i=0; i<dlt_accnt.getRowCount(); i++){
						dlt_accnt.modifyRowStatus(i, "U");
					}
				}
				
				if(dma_mstr.get("apr_state") >= "XAD020"){	
					if(/1004107|1004109/.test(com.getLoginInfo("roleCode"))){ // 1004107 구매관리시스템관리자, 1004109 구매관리(관)
						debugger;
						btn_user_main.setDisabled(false); // 사용자(정)검색 버튼
						ibx_user_main_empno.setDisabled(false);
						btn_postSave.show("");
						btn_postSave.setDisabled(false);
					}else{
						btn_user_main.setDisabled(true); // 사용자(정)검색 버튼
						ibx_user_main_empno.setDisabled(true);
					}
				}
				
				// 계약인쇄 버튼
				if(dma_mstr.get("contrct_no").trim() != ""){
					btn_contrct_print.show("");	
				}
				
				// 구매항목 합계금액 셋팅
				scwin.setItemSumAmt();	
				
				// 연구장비, 정부수탁 연구장비비 체크
				for(var i=0; i<dlt_accnt.getRowCount(); i++){
					if(dlt_accnt.getCellData(i, "mngmt_clsf") == "R" && /141|142|148/.test(dlt_accnt.getCellData(i, "expns_cd"))){
						scwin.data.equipExpnsYn = "Y";
					}
					
					//정부수탁 연구장비비
					if(dlt_accnt.getCellData(i, "accnt_cd") == "51120030" && dlt_accnt.getCellData(i, "bsns_cd_ofic") == "022000000"){
						scwin.data.cntrlPrcrmntYn = "Y";
					}
				}
				
				// 연구장비 조달서류
				if(scwin.data.equipItemAmtYn == "Y" && scwin.data.cntrlPrcrmntYn == "Y"){
					grp_btn_file002.show("");
					grp_file002.show("");
					if(dma_mstr.get("attach_file_no") != ""){
						com.file.create(upload_A.getID(), {fileKey: dma_mstr.get("attach_file_no"), mode: (dma_mstr.get("apr_state") >= "XAD020")? 'view':'edit'});
					}else{
						com.file.create(upload_A.getID(), {fileKey: "P022", mode: 'edit'});
					}
				}else{
					grp_file002.hide();
					grp_btn_file002.hide();	
				}
			}
		});
	};
	
	/*
     * 구매항목 합계금액 셋팅
     */
	scwin.setItemSumAmt = function(){
		var reqAmtSum = 0;
		var addTaxSum = 0;
		var incidntlExpnsSum = 0;
		for(var i=0; i<dlt_item.getRowCount(); i++){			
			reqAmtSum += com.parseInt(dlt_item.getCellData(i, "req_amt"));	
			addTaxSum += com.parseInt(dlt_item.getCellData(i, "req_time_addtax_extexpns"));
			incidntlExpnsSum += com.parseInt(dlt_item.getCellData(i, "incidntl_expns"));
			// 품목금액이 3000만원이상 존재여부
			if(com.parseInt(dlt_item.getCellData(i, "req_unit_price")) >= 30000000){
				scwin.data.equipItemAmtYn = "Y";
			}
			if(com.parseInt(dlt_item.getCellData(i, "cntst_prod_yn")) == "Y"){ //중기간경쟁제품 여부
				scwin.data.cntstProdYn = "Y";
			}
		}
		
		ibx_reqAmtSum.setValue(reqAmtSum);
		ibx_addTaxSum.setValue(addTaxSum);
		ibx_incidntlExpns.setValue(incidntlExpnsSum);
		ibx_totlReqAmt.setValue(reqAmtSum + addTaxSum + incidntlExpnsSum);
	};
	
	/*
     * 설치 층 셋팅
     */
	scwin.setPosiFloor = function(data){
		debugger;
		if(data == undefined) return;
		sbx_instl_posi_floor.removeAll();
		sbx_instl_posi_floor.addItem("","-선택-");
		
		var	mngmtNo1 = WebSquare.util.parseInt(data.mngmtNo1, 0);
		var	mngmtNo2 = WebSquare.util.parseInt(data.mngmtNo2, 0);
		var	mngmtNo3 = WebSquare.util.parseInt(data.mngmtNo3, 0);
		var	mngmtNo4 = WebSquare.util.parseInt(data.mngmtNo4, 0);
		var	mngmtNo5 = WebSquare.util.parseInt(data.mngmtNo5, 0);
		
		if(mngmtNo1 != 0){
			for(var i=mngmtNo1; i<= mngmtNo2; i++){
				sbx_instl_posi_floor.addItem(i+"F", "지상" + i + "층");
			}
		}
		
		if(mngmtNo3 != 0){
			for(var i=mngmtNo3; i<= mngmtNo4; i++){
				var	underFloor	=	i * -1;
				sbx_instl_posi_floor.addItem( "B" + underFloor, "지하" + underFloor + "층");
			}
		}
		
		if(mngmtNo5 == 1){
			sbx_instl_posi_floor.addItem("옥상","옥상");
		}
	};
	
	/*
     * 파일 다운로드
     */
	scwin.downFileinfo = function downFileinfo(file_nm,file_no){
		var url = "/SvcAttachDown.do?fileName=web_folder/bizdoc/pur/"+file_no+"&realName="+encodeURIComponent(file_nm)+"&bizKind=OLD";		
		window.open(url, '_blank').focus();
	};
	
	/*
     * 품목추가 팝업 오픈
     */
	scwin.openItemPopup = function(flag, row){		
		var data = {
			flag : flag,
			item_cd : dlt_item.getCellData(row, "item_cd"),
			addtax_calc_rts : dma_mstr.get("addtax_calc_rts")
		};
		
		if(row != undefined){
			data.pur_req_no = dlt_item.getCellData(row, "pur_req_no");
			data.item_odr = dlt_item.getCellData(row, "item_odr");
		}
		
		biz.epu.pop.open(biz.epu.pop.TYPE.ITEM, data, function(ret) {
			if(ret){
				if(row == undefined){
					row = dlt_item.getRowCount();
					dlt_item.setRowJSON(row, ret, false);	
				}else{
					dlt_item.setRowJSON(row, ret, true);	
				}
				// 품목내역 합계금액 구하기
				scwin.setItemSumAmt();
			}
		});
	};
	
	/*
     * 계정내역 팝업 오픈
     */ 
	scwin.openAccntPopup = function(flag, row){
		var data;
		if(flag == "C"){
			row = dlt_accnt.getRowCount();
			
			data = {
				sum_amt : ibx_reqAmtSum.getValue(),
				add_tax : ibx_addTaxSum.getValue(),
				incidntl_expns : ibx_incidntlExpns.getValue(),
				accnt_demnd_amt : ibx_totlReqAmt.getValue(),
			};
		}else{
			data = dlt_accnt.getRowJSON(row);			
		}
		
		data.req_ymd = dma_mstr.get("req_ymd");
		data.inout_psn_clsf_cd = "1";
		
		biz.epu.pop.open(biz.epu.pop.TYPE.PUR_ACCNT, data, function(ret) {
			if(ret){
				if(flag == "C"){
					dlt_accnt.setRowJSON(row, ret, false);	
					dlt_accnt.setCellData(row, "cud_type", "C");
				}else{
					dlt_accnt.setRowJSON(row, ret, true);
				}
				
				// 사용자 정 셋팅
				if(dlt_accnt.getRowCount() > 0){
					dma_mstr.set("user_main_syspayno", dlt_accnt.getCellData(0, "accnt_respn_psn_syspayno"));	
					dma_mstr.set("user_main_empno", dlt_accnt.getCellData(0, "accnt_respn_psn_empno"));
					dma_mstr.set("user_main_nm", dlt_accnt.getCellData(0, "accnt_respn_psn_nm"));
				}
			}
		});
	};
	
	/*
     * 저장전 체크
     */ 
	scwin.preSave = function(){
		if(dlt_accnt.getRowCount() == 0){
			alert("계정내역을 입력하세요");
			return false; 	
		}
		
		if(dlt_item.getRowCount() == 0){
			alert("품목내역을 입력하세요");
			return false; 	
		}
		var validData = [
			{dataObj : dma_mstr,
			 valInfoArr :[
				    { id : "user_main_syspayno", mandatory : true}
				   ,{ id : "user_sub_empno", mandatory : true } 
				   ,{ id : "pur_grp_cd", mandatory : true } 
				   ,{ id : "pur_clsf_cd", mandatory : true } 
				   ,{ id : "inout_psn_clsf_cd", mandatory : true } 
				   ,{ id : "delvr_demnd_daycnt", mandatory : true } 
				   ,{ id : "addtax_calc_rts", mandatory : true} 
				   ,{ id : "msds_yn", mandatory : true }
				   ,{ id : "rad_yn", mandatory : true }
				   ,{ id : "disabld_pur_yn", mandatory : true }
				],
			 isCheckModified : false
			},
			{dataObj : dlt_accnt,
			 valInfoArr :[
				    { id : "accnt_no", mandatory : true}
				   ,{ id : "accnt_cd", mandatory : true } 
				   ,{ id : "expns_cd", mandatory : true } 
				   ,{ id : "accnt_demnd_amt", mandatory : true } 
				],
			 isCheckModified : false
			},
			{dataObj : dlt_item,
			 valInfoArr :[
				    { id : "krchar_gdnm", mandatory : true}
				   ,{ id : "req_unit_price", mandatory : true } 
				   ,{ id : "item_cd", mandatory : true } 				   
				],
			 isCheckModified : false
			}
		];	
		
		
		if(!com.validateData(validData)) return false;
		
		if(!ibx_addtax_calc_rts.getValue().trim().match(/^[0-9-.]+$/)){
			alert("부가세는 숫자만 가능합니다.");
			ibx_addtax_calc_rts.focus();
			return false;
		}
		
		if(dma_mstr.get("rad_yn") == "Y" && rdo_rad_knd.getValue() == ""){
			alert("RG/RI를 선택하세요");
			rdo_rad_knd.focus();
			return false;
		}
		
		//물품(기성품), 제조, 인쇄, S/W
		if(/PBA010|PBA020|PBA090|PBA110/.test(dma_mstr.get("pur_clsf_cd")) && dma_mstr.get("pur_grp_cd") != "EGF010"){
			alert("구매구분을 확인하세요. 두 항목이 일치하지 않습니다.");
			return false;
		 //임대차, 일반용역, 기술용역
		}else if(/PBA080|PBA040|PBA045/.test(dma_mstr.get("pur_clsf_cd")) && dma_mstr.get("pur_grp_cd") != "EGF020"){
			alert("구매구분을 확인하세요. 두 항목이 일치하지 않습니다.");
			return false;
		 // 공사
		}else if(/PBA030/.test(dma_mstr.get("pur_clsf_cd")) && dma_mstr.get("pur_grp_cd") != "EGF030"){
			alert("구매구분을 확인하세요. 두 항목이 일치하지 않습니다.");
			return false;
		}
		
		if(ibx_instl_opr_time_daycnt.getValue() == ""){
			ibx_instl_opr_time_daycnt.setValue(0);
		}
		
		// 지역,건물,층,호수 필수 입력 사항으로 주석해제(2012.02.14)
		// 계약서 인쇄시 납품장소 누락됨 : from 윤춘화
		//지역이 해외사무소(베트남) 일경우 건물,층, 호수 체크를 하지 않고 부서를 체크한다.
		//해외사무소(베트남)일 경우 부서는 대외협력실(HE25)로 한다.(from. 이경준팀장님  2012.07.03)
		if(sbx_delvr_plc_clsf_cd.getValue() == "1"){
			if(sbx_posi_region.getValue() == "HBX016"){
				if(dma_mstr.get("delvr_plc_dept_vend_cd") != "HE25"){
					alert("지역이 해외사무소(베트남)일 경우 부서는 대외협력실로 선택하셔야 합니다.");
					return false;
				}
			}else{
				if(!com.validateData(dma_mstr, [
						{ id : "instl_posi_region_cd", mandatory : true},
						{ id : "instl_posi_build_cd", mandatory : true},
						{ id : "instl_posi_floor_clsf", mandatory : true},
						{ id : "instl_posi_editno", mandatory : true},
						{ id : "instl_posi_addr", mandatory : true}
				  ], false)) return false;	
			}
		}else if(sbx_delvr_plc_clsf_cd.getValue() == "2"){ // 업체
			if(!com.validateData(dma_mstr, [
					{ id : "delvr_plc_dept_vend_cd", mandatory : true},						
					{ id : "instl_posi_addr", mandatory : true}
			  ], false)) return false;	
			  
		}else if(sbx_delvr_plc_clsf_cd.getValue() == "3"){ // 기타
			if(!com.validateData(dma_mstr, [
					{ id : "delvr_plc_nm", mandatory : true},						
					{ id : "instl_posi_addr", mandatory : true}
			  ], false)) return false;	
		}
		
	 	// 계정내역 체크
	 	var taxFlag = "";	 				
	 	for(var i=0; i<dlt_accnt.getRowCount(); i++){
		 	// 2022.02.10. ZEUS장비번호는 필수입력 체크
			if(dlt_accnt.getCellData(i, "accnt_no").substring(0, 4) == "FF21" && dlt_accnt.getCellData(i, "ntis_reg_no") == ""){
				alert("연구장비 통합계정일경우 ZEUS장비번호는 필수입력사항입니다.");
				return false;
			}
			
		 	taxFlag+= dlt_accnt.getCellData(i, "tax_cd");
		}
		
		if(taxFlag.indexOf("FTX001") != -1 && taxFlag.indexOf("FTX002") != -1){
			alert("과세 계정과 부과세 계정은 동시에 진행이 불가능 합니다.");
			return false;
		}
		
		var addTaxSum = Number(grd_accnt.getFooterData( "add_tax_sum" , null )); //계정내역의 부가세총액
		var sumAmtSum = Number(grd_accnt.getFooterData( "sum_amt_sum" , null )); //계정내역의 공급가액
		var incidntlExpnsSum = Number(grd_accnt.getFooterData( "incidntl_expns_sum" , null )); //계정내역의 부대비용
		var accntDemndAmtSum =  Number(grd_accnt.getFooterData( "accnt_demnd_amt_sum" , null ));
		var totlAmt =  addTaxSum + sumAmtSum + incidntlExpnsSum;
		
		// 품목내역의 금액
		var totalReqAmtSum = Number(ibx_totlReqAmt.getValue());
		var suplyValueSum = Number(ibx_reqAmtSum.getValue());
		var getIncidntlExpns = WebSquare.util.getNumber(ibx_incidntlExpns.getValue()); //품목내역 부대비용
				
		if (totalReqAmtSum != totlAmt) {
			alert('품목내역 합계금액[' + totalReqAmtSum + ']과 계정내역의 합계금액[' + totlAmt + ']이 일치하지 않습니다.');
			return false;
		}
		
		var taxCd = dlt_accnt.getCellData(0, "tax_cd");
		if(taxCd == "FTX001"){
			if(accntDemndAmtSum != (suplyValueSum + getIncidntlExpns) ){
				alert("과세 계정일 경우 구매요구금액의 합은 품목내역 (공급금액+부대비용)합계와 일치해야합니다.");
				return false;
			}
		}else{
			if(accntDemndAmtSum != totalReqAmtSum){
				alert("비과세 계정일 경우 구매요구금액의 합은 품목내역합계금액과 일치해야합니다.");
				return false;
			}	
		}	
		
		var itemCnt = grd_item.getRowCount();
		
		for (var i=0; i<itemCnt; i++) {
			var itemNm = grd_item.getCellData(i, "krchar_gdnm").trim();
			var invalidAscii = scwin.regexAscii(itemNm);
			
			if (invalidAscii != "") {
//				alert("검수대상 내 항목 중 " + (i+1) + "번째 줄의 품명에 사용할 수 없는 특수문자를 포함하고 있어 아래의 문자열로 대체됩니다.\n" + invalidAscii);
				dlt_item.setCellData(i, "krchar_gdnm", invalidAscii);
			} else {
				alert("품목내역 항목 중 " + (i+1) + "번째 줄의 한글품명은 허용되지 않는 문자입니다.\n" + invalidAscii);
				return false;
			}
		}
		
		if(sbx_pur_grp_cd.getValue() == "EGF020"){ //용역
			for(var i=0; i<dlt_item.getRowCount(); i++){
				var itemCdInt = com.parseInt(dlt_item.getCellData(i, "item_cd").substring(0,2));
				if(itemCdInt < 70 || itemCdInt > 94){
					alert("[용역] 품목코드는 70 ~ 94로 시작합니다.");
					return false;
				}
			}
		}	
		
		return true;
	};
	
	/*
     * 저장
     */ 
	scwin.save = function(){
		//부가세 세팅 수정:Master 저장시 보정된 금액으로 함-원단위 절삭 적용(2012.06.13)
		var	getTaxSumVal = 0; //보정부가세
		for(var i=0; i<dlt_item.getRowCount(); i++){
			getTaxSumVal += Number( dlt_item.getCellData( i , "req_time_addtax_extexpns" ) );	//부가세
		}
		
		if(getTaxSumVal != Number(ibx_addTaxSum.getValue())){
			getTaxSumVal = Number(ibx_addTaxSum.getValue());
		}
		
		dma_mstr.set("addtax_amt", getTaxSumVal);
		dma_mstr.set("req_amt_sum", ibx_totlReqAmt.getValue());
		
		com.file.transport( function(attachObj){
			dma_mstr.set("attach_file_no", attachObj.upload_A);
			dma_mstr.set("validAttachNo", attachObj.upload_A);					
			
			com.execute(sbm_saveData, {
				successCallback : function(e) { // 성공 콜백
					if(scwin.data.isApproval){
						// 결재화면 이동
						com.movePageMenu("A001", { "reqNo" :  dma_mstr.get("pur_req_no")});
					}else{
						com.alert("message.xom.wq.023"/*정상적으로 처리되었습니다.*/, function(){
							// 조회
							scwin.search();
						});
					}
				}
			});
		});	
	};
	
	/*
     * 결재신청전 첨부파일 체크
     */
	scwin.preApproval = function(){
		var sayDocCnt = 0; // 사양서
		var useDocCnt = 0; // 용도설명서
		var listDocCnt = 0; // 견적서
		var perDocCnt = 0; // 과업지시서
		
		for(var i=0; i<dlt_file.getRowCount(); i++){
			switch(dlt_file.getCellData(i, "cd")){
				case "PBD003" : sayDocCnt = com.parseInt(dlt_file.getCellData(i, "cnt")); break;
				case "PBD004" : useDocCnt = com.parseInt(dlt_file.getCellData(i, "cnt")); break;
				case "PBD005" : listDocCnt = com.parseInt(dlt_file.getCellData(i, "cnt")); break;
				case "PBD012" : perDocCnt = com.parseInt(dlt_file.getCellData(i, "cnt")); break;
			}
		}
		
		var docuClsfVal = "";
		switch(dma_mstr.get("pur_clsf_cd")){
			case "PBA010" : // 물품(기성품)
			case "PBA020" : // 제조
			case "PBA110" : // S/W
			case "PBA090" : // 인쇄
				docuClsfVal = "docGrp1";
				break;
			case "PBA030" : // 공사
				docuClsfVal = "docGrp2";
				break;
			case "PBA040" : // 일반용역
			case "PBA045" : // 기술용역
			case "PBA080" : // 임대차
				docuClsfVal = "docGrp3";
				break;
		}
		
		var	attacthFileCount = 0;
		if(docuClsfVal == "docGrp1"){
			attacthFileCount = sayDocCnt + useDocCnt + listDocCnt;
			if ( attacthFileCount < 3 ) {
				alert("첨부서류 필수입력 사항[사양서,용도설명서,견적서]을 확인하세요.");
				return false;
			}
		}else if(docuClsfVal == "docGrp2"){
			attacthFileCount = useDocCnt + listDocCnt;
			if ( attacthFileCount < 2 ) {
				alert("첨부서류 필수입력 사항[용도설명서,견적서]을 확인하세요.");
				return false;
			}
		}else if(docuClsfVal == "docGrp3"){
			attacthFileCount = useDocCnt + listDocCnt + perDocCnt;
			if ( attacthFileCount < 3 ) {
				alert("첨부서류 필수입력 사항[용도설명서,견적서,과업지시서]을 확인하세요.");
				return false;
			}
		}
		
		//2016.06.08 cntrlPrcrmntYn추가 (산업기술개발장비 etube입찰이면서 
		if((scwin.data.equipExpnsYn == "Y" || scwin.data.cntrlPrcrmntYn == "Y") && scwin.data.equipItemAmtYn == "Y"){
			for(var i=0; i<dlt_accnt.getRowCount(); i++){
				if(/141|142/.test(dlt_accnt.getCellData(i, "expns_cd"))){
					if(dlt_accnt.getCellData(i, "consttn_clsf").trim() == ""){
						alert("연구비심의여부를 등록하세요.");
						return false;
					}
					
					if(dlt_accnt.getCellData(i, "consttn_clsf") == "RBH001" && dlt_accnt.getCellData(i, "attach_file_no").trim() == ""){
						alert("연구장비 도입 심의에 대한 첨부화일이 등록되어 있지않습니다.");
						return false;
					}
				}
			}	
			
			if(scwin.data.cntrlPrcrmntYn == "Y" && com.file.action.getTotalFileCount(upload_A.getID()) < 1){
				alert("중앙조달첨부서류가 등록되지 않았습니다.");
				return false;
			}
			
			if(scwin.data.equipExpnsYn == "Y" && scwin.data.equipItemAmtYn == "Y"){
				dma_mstr.set("equip_info", "Y");
			}
		}
		
		return true;
		
	};
	
	/*
     * 결재 실행
     */ 
	scwin.sendApr = function(){
		if(!scwin.preSave()) return;
		
		// 첨부파일 체크
		if(!scwin.preApproval()) return;
		
		scwin.data.isApproval = true;
		dma_mstr.set("approval", "true");
		dma_mstr.set("incidntl_expns_sum", ibx_incidntlExpns.getValue());
		dma_mstr.set("req_amt", ibx_reqAmtSum.getValue());
		
		scwin.save();
	};
	
	/*
     * 삭제 실행
     */
	scwin.deletePurInfo = function(){
		com.confirm("message.xom.wq.022", function(ret) {
			if(ret) {
				com.file.deleteAll(function(){
					com.execute(sbm_deleteData, {
						successCallback : function(e) {
							com.alert("message.xom.wq.023"/*정상적으로 처리되었습니다.*/, function(){
								if(scwin.data.param4 == "apr"){
									com.movePageMenu("A010");
								}else{
									scwin.movePage({});
								}	
							});
						}
					});
				});
			}
		});
	}
	
	/*
     * 페이지 이동
     */ 
	scwin.movePage = function(data){
		var pageId = "";
		if(com.getParameter("param4") == "apr"){
			pageId = "P021";
		}else{
			pageId = com.getParameter("openerId");			
		}
		
		com.moveList(pageId, data);
	};
	
	//--------------------------------------------------- 이벤트 ---------------------------------------//
	/*
     * 사전안전성 검토 버튼 클릭 이벤트
     */  
	scwin.rdo_msds_yn_onchange = function(info) {		
		if(this.getValue() == "Y"){
			btn_safeDodfpr.setDisabled(false);	
		}else{
			ibx_safeReqNo.setValue("");
			btn_safeDodfpr.setDisabled(true);	
		}
	};
	
	/*
     * 부속구매여부 변경 이벤트
     */ 
	scwin.cbx_inhr_pur_yn_onchange = function(info) {
		if(info.newValue == "Y"){
			wfm_title.getWindow().tbx_title.setValue("내자부속구매요구");
			dma_search.set("sub_pur_yn", "Y");
			btn_inhrPurReqNo.setDisabled(false);
		}else{
			wfm_title.getWindow().tbx_title.setValue("내자구매요구");
			dma_search.set("sub_pur_yn", "N");
			btn_inhrPurReqNo.setDisabled(true);
		}
	};
	
	/*
     * 저장 버튼 클릭 이벤트
     */ 
	scwin.btn_save_onclick = function(e) {
		if(!scwin.preSave()) return;
		
		com.confirm("message.xom.wq.017"/*저장 하시겠습니까?*/, function(ret){
			if(ret){
				scwin.save();
			}
		});
	};
	
	/*
     * 삭제 버튼 클릭 이벤트
     */ 
	scwin.btn_del_onclick = function(e) {
		var rowData = dlt_file.getMatchedJSON("cd", "PBD006", true)[0];
		if(rowData.elecapp_docu_no.trim() != ""){
			alert("특정물품(업체)구매사유서의 결재 신청번호:" + rowData.elecapp_docu_no + "이(가) 있습니다. 확인 후 삭제 실행하시기 바랍니다.");
			return;
		}
		
		if(dma_mstr.get("inhr_pur_req_no").trim() == ""){
			scwin.deletePurInfo();	
		}else{
			alert("부속구매(" + dma_mstr.get("inhr_pur_req_no") + ") 정보가 있어 삭제할 수 없습니다.\n확인바랍니다.");
		}
	};
	
	/*
     * 결재신청 버튼 클릭 이벤트
     */ 
	scwin.btn_apr_onclick = function(e) {
		var accntSumAmt = com.parseInt(grd_accnt.getFooterData("sum_amt_sum"));
		var diffDay = 0;
		for(var i=0; i<dlt_accnt.getRowCount(); i++){
			diffDay = com.diffDate(scwin.data.today, dlt_accnt.getCellData(i,"cls_ymd"));
			
			if(dlt_accnt.getCellData(i, "apply_cls_ymd") == "" || dlt_accnt.getCellData(i, "apply_cls_ymd") < scwin.data.today){
				if(accntSumAmt > 20000000){
					if(diffDay <= 40){
						alert("계정종료일 40일 전에만 구매요구를 신청 할 수 있습니다.\n관련사항은 구매계약 담당자에게 연락주시기 바랍니다.");
						return;
					}
				}else{
					if(diffDay <= 25){
						alert("계정종료일 25일 전에만 구매요구를 신청 할 수 있습니다.");
						return;
					}
				}
			}
		}
		
		scwin.sendApr();
	};
	
	/*
     * 설치건물 변경 이벤트
     */ 
	scwin.sbx_instl_posi_build_onviewchange = function(info) {
		if(info.newValue != ""){
			scwin.setPosiFloor(ldt_cmnCd_APA_0.getMatchedJSON("comCd", info.newValue, true)[0]);
			sbx_instl_posi_floor.setSelectedIndex(dma_mstr.get("instl_posi_floor_cd"));
		}
	};
	
	/*
     * 설치지역 변경 이벤트
     */ 
	scwin.sbx_posi_region_onviewchange = function(info) {
		$p.data.remove("ldt_cmnCd_APA_0");
		var posiRegion = "";
		if(info == undefined){
			posiRegion = this.getValue();
		}else{
			posiRegion = info.newValue;
		}		
		var codeOptions = [ { code : "APA", compID :"sbx_instl_posi_build", filter : "mngmtItem1 == '" + posiRegion + "'"}];		
		com.setCmnCd(codeOptions, function(){
			sbx_instl_posi_build.setValue("");
		});	
	};
	
	/*
     * 구매구분 1 변경 이벤트
     */
	scwin.sbx_pur_grp_cd_onviewchange = function(info) {
		$p.data.remove("ldt_cmnCd_PBA_1");
		var codeOptions = [{ code : "PBA", compID :"sbx_pur_clsf_cd", filter : "mngmtItem1 == '" + info.newValue + "'"}, // 구매구분 2				                    
		                   ];		
		com.setCmnCd(codeOptions, function(){
		});	
	};
	
	/*
     * 계정종료 구매요구 주의사항
     */
	scwin.btn_accnt_inform_onclick = function(e) {
		scwin.downFileinfo("연구과제 종료에 따른 구매요구 안내.hwp", "trnsForm4");
	};
	
	/*
     * 물품사양서양식
     */
	scwin.btn_goods_spec_form_onclick = function() {
		scwin.downFileinfo("물품사양서양식.hwp","pur_attach_goods_spec_form");
	};
	
	/*
     * 품목내역 그리드 클릭 이벤트
     */
	scwin.grd_item_oncellclick = function(row,col,colId) {
		if(colId == "krchar_gdnm"){
			scwin.openItemPopup((dlt_item.getRowStatus(row) == "C")? "C":"U", row);
		}
	};
	
	/*
     * 품목추가 버튼 클릭 이벤트
     */
	scwin.btn_addItem_onclick = function(e) {
		if(ibx_addtax_calc_rts.getValue() == ""){
			alert('부가세 정보를 입력해주세요.');
			ibx_addtax_calc_rts.focus();
			return;
		}
		
		scwin.openItemPopup("C");
	};
	
	/*
     * 부가세 변경 이벤트
     */
	scwin.ibx_addTaxSum_onviewchange = function(info) {
		//부가세합계를 0원으로 보정 또는 0원에서 금액 입력 시 부가세율 및 품목내역의 부가세 금액 자동 적용(2013.10.01) : 김기탁 팀장님(오류신고 : XC2201300D70)
		var addTaxAmt = com.parseInt(info.newValue);
		var reqAmtSum = com.parseInt(ibx_reqAmtSum.getValue());
		var	newAddTaxRt = 0;
		
		if(addTaxAmt == 0){
			newAddTaxRt = 0;
			for(var i=0; i<dlt_item.getRowCount(); i++){
				dlt_item.setCellData(i, "req_time_addtax_extexpns", 0);
				dlt_item.setCellData(0, "req_amt_sum", com.parseInt(dlt_item.getCellData(0, "req_amt")) + com.parseInt(dlt_item.getCellData(0, "incidntl_expns")));
			}
		}else{
			newAddTaxRt	= Math.round(addTaxAmt/reqAmtSum *100 );
			
			var rowCnt = dlt_item.getRowCount();
			if(rowCnt == 1){
				dlt_item.setCellData(0, "req_time_addtax_extexpns", addTaxAmt);
				dlt_item.setCellData(0, "req_amt_sum", com.parseInt(dlt_item.getCellData(0, "req_amt")) + addTaxAmt + com.parseInt(dlt_item.getCellData(0, "incidntl_expns")));
			}else{
				var addTax = 0;
				var addTaxSum = 0;
				for(var i=0; i<rowCnt; i++){
					var reqAmt = com.parseInt(dlt_item.getCellData(i, "req_amt"));
					// 부가세 구하기
					if(i+1 < rowCnt){
						addTax = Math.round(reqAmt * newAddTaxRt / 1000) * 10; 
						addTaxSum += addTax;
					}else{
						addTax = addTaxAmt - addTaxSum;
					}
					dlt_item.setCellData(i, "req_time_addtax_extexpns", addTax);
					dlt_item.setCellData(i, "req_amt_sum", reqAmt + addTax + com.parseInt(dlt_item.getCellData(i, "incidntl_expns")));
				}
			}
		}
		
		// 부가세율 변경
		dma_mstr.set("addtax_calc_rts", newAddTaxRt);	
		// 품목내역 합계금액
		ibx_totlReqAmt.setValue(reqAmtSum + addTaxAmt + Number(ibx_incidntlExpns.getValue()));
	};
	
	/*
     * 부가세율 변경 이벤트
     */
	scwin.ibx_addtax_calc_rts_onviewchange = function(info) {
		var taxRt = Number(dma_mstr.get("addtax_calc_rts"));
		var addTaxSum = 0;
		var addTax = 0;
		for(var i=0; i<dlt_item.getRowCount(); i++){
			var reqAmt = com.parseInt(dlt_item.getCellData(i, "req_amt"));			
			if(taxRt > 0){
				addTax = Math.round(reqAmt * taxRt/1000)*10;				
			}else{
				addTax = 0;
			}
			addTaxSum += addTax;
			
			dlt_item.setCellData(i, "req_time_addtax_extexpns", addTax);
			dlt_item.setCellData(i, "req_amt_sum", reqAmt + addTax + com.parseInt(dlt_item.getCellData(i, "incidntl_expns")));
		}
		
		ibx_addTaxSum.setValue(addTaxSum);
		ibx_totlReqAmt.setValue(Number(ibx_reqAmtSum.getValue()) + addTaxAmt + Number(ibx_incidntlExpns.getValue()));
	};
	
	/*
     * 중앙조달첨부서류 주의사항
     */
	scwin.btn_file_attnt_onclick = function(e) {
		scwin.downFileinfo("자주 틀리는 업무협의(2019.7.1.).hwp","pur_in_attach_20190701");
	};
	
	/*
     * 중앙조달첨부서류 양식 다운로드
     */
	scwin.btn_form_down_onclick = function(e) {
		scwin.downFileinfo("내자_중앙조달_첨부서류양식.hwp","in_cntrl_prcrmnt_attach_2019");
	};
	
	/*
     * 첨부서류 그리드 클릭 이벤트
     */
	scwin.grd_file_oncellclick = function(row,col,colId) {
		var data={
					pur_req_no : dma_mstr.get("pur_req_no"),
					inout_psn_clsf_cd : dma_mstr.get("inout_psn_clsf_cd"),
					req_clsf : "W"
				};
				
		if(colId == "cd_nm"){			
			switch(dlt_file.getCellData(row, "cd")){
				case "PBD001" : // 연구장비심의				    
				    var data = {pur_req_no : dma_mstr.get("pur_req_no"),
							    sn : com.getLoginInfo("sn"),
							    apr_state : dma_mstr.get("apr_state"),
							    charg_syspayno : dma_mstr.get("charg_syspayno")
					};

					scwin.openPop(biz.epu.pop.TYPE.EQUIP_REG, data, row, col);
					break;
				case "PBD003" : // 사양서
					scwin.openPop(biz.epu.pop.TYPE.PUR_SPEC, data, row, col);
					break;
				case "PBD004" :  // 용도설명서
					scwin.openPop(biz.epu.pop.TYPE.PUR_USG, data, row, col);
					break;
				case "PBD005" : // 견적서
					scwin.openPop(biz.epu.pop.TYPE.PUR_EVAL, data, row, col);
					break;
				case "PBD006" : // 특정물품(업체)구매사유서
					var reqAmtSum = 0;
					for(var i=0; i<dlt_item.getRowCount(); i++){
						reqAmtSum+= com.parseInt(dlt_item.getCellData(i, "req_amt"));
					}		
					
					data.esti_amt = reqAmtSum;
					data.gdnm = dlt_item.getCellData(0, "krchar_gdnm");
					
					var accntNos = [];
					for(var i=0; i<dlt_accnt.getRowCount(); i++){
						accntNos.push(dlt_accnt.getCellData(i, "accnt_no"));
					}
					data.accnt_no = accntNos.join(",");
					
					scwin.openPop(biz.epu.pop.TYPE.SPEC_REQ, data, row, col);
					break;
				case "PBD007" : // 긴급구매사유서
					data.clsf_cd = "H";
					scwin.openPop(biz.epu.pop.TYPE.PUR_DELY_H, data, row, col);
					break;
				case "PBD010" : // 시방서
					data.clsf_cd = "G";
					scwin.openPop(biz.epu.pop.TYPE.PUR_DELY_G, data, row, col);
					break;
				case "PBD008" : // 사업계획서, 내부결재품의
					data.clsf_cd = "J";
					scwin.openPop(biz.epu.pop.TYPE.PUR_DELY_J, data, row, col);
					break;
				case "PBD012" : // 과업지시서
					data.clsf_cd = "I";
					scwin.openPop(biz.epu.pop.TYPE.PUR_DELY_I, data, row, col);
					break;
				case "PBD011" : // 원가계산서
					data.clsf_cd = (sbx_pur_clsf_cd.getValue() == "PBA030")?"D" : "C";
					scwin.openPop(biz.epu.pop.TYPE.PUR_COST, data, row, col);
					break;
				case "PBD009" : // 계속연차확인서
					scwin.openPop(biz.epu.pop.TYPE.PUR_ANNL, data, row, col);
					break;
			}
			
		}
	};
	
	/*
     * 첨부서류 팝업 오픈
     */
	scwin.openPop = function(type, data, row, col){
		com.pop.open(type, data, function(ret) {
			if(ret.saveFlag){				
				dlt_file.setCellData(row, "cd_nm", "<font color=red>" + dlt_file.getCellData(row, "cd_nm") + "</font>");
				dlt_file.setCellData(row, "cnt", 1);
			}else if(ret.delFlag){
				dlt_file.setCellData(row, "cd_nm", dlt_file.getCellData(row, "cd_nm"));
				dlt_file.setCellData(row, "cnt", 0);
			}
			
			if(dlt_file.getCellData(row, "cd") == "PBD001"){
				scwin.search();	
			}
		});
	};
	
	/*
     * 방사선 장비여부 변경 이벤트
     */
	scwin.rdo_rad_yn_onchange = function(info) {
		if(this.getValue() == "N"){
			rdo_rad_knd.setDisabled(true);
		}else{
			rdo_rad_knd.setDisabled(false);
		}
	};
	
	/*
     * 계정추가 버튼 클릭 이벤트
     */
	scwin.btn_accnt_add_onclick = function(e) {
		scwin.openAccntPopup("C");
	};
	
	/*
     * 목록 버튼 클릭 이벤트
     */
	
	scwin.btn_pre_onclick = function(e) {
		scwin.movePage();
	};
	
	/*
     * 사용자(정) 버튼 클릭 이벤트
     */
	scwin.btn_user_main_onclick = function(e) {
		var data={
			empno : ibx_user_main_empno.getValue(),
			ref_yn : (ibx_user_main_empno.getValue() == "")?"Y":"",
			work_clsf : "HAG010"
		};
		
		com.pop.open(com.pop.TYPE.HUM, data, function(ret) {
			dma_mstr.set("user_main_syspayno", ret.syspayno);
			dma_mstr.set("user_main_empno", ret.empno);
			dma_mstr.set("user_main_nm", ret.nm);
		});
	};
	
	/*
     * 실사용자 버튼 클릭 이벤트
     */
	scwin.btn_user_sub_empno_onclick = function(e) {
		var data={
			empno : ibx_user_sub_empno.getValue(),
			ref_yn : (ibx_user_sub_empno.getValue() == "")?"Y":"",
			work_clsf : "HAG010"
		};
		
		com.pop.open(com.pop.TYPE.HUM, data, function(ret) {
			dma_mstr.set("user_sub_syspayno", ret.syspayno);
			dma_mstr.set("user_sub_empno", ret.empno);
			dma_mstr.set("user_sub_nm", ret.nm);
		});
	};
	
	/*
     * 납품장소 검색 버튼 클릭 이벤트
     */
	scwin.btn_vend_onclick = function(e) {
		if(sbx_delvr_plc_clsf_cd.getValue() == "1"){
			com.pop.open(com.pop.TYPE.DEPT, {ref_yn:"Y"}, function(ret) {
				dma_mstr.set("delvr_plc_dept_vend_cd", ret.dept_cd);
				dma_mstr.set("delvr_plc_nm", ret.dept_nm);
				dma_mstr.set("delvr_dept_new_ymd", ret.dept_new_ymd);
			});
		}else if(bx_delvr_plc_clsf_cd.getValue() == "2"){
			com.pop.open(com.pop.TYPE.VEND, {ref_yn:"Y"}, function(ret){
				dma_mstr.set("delvr_plc_dept_vend_cd", ret.vend_cd);
				dma_mstr.set("delvr_plc_nm", ret.vend_abbr);
				dma_mstr.set("instl_posi_postmt_no", ret.postmt_no);
				dma_mstr.set("instl_posi_addr", ret.abbr);
			});
		}
	};
	
	/*
     * 납품장소 변경 이벤트
     */
	scwin.sbx_delvr_plc_clsf_cd_onviewchange = function(info) {
		dma_mstr.set("delvr_plc_dept_vend_cd", "");
		dma_mstr.set("delvr_plc_nm", "");
		dma_mstr.set("instl_posi_postmt_no", "");
		dma_mstr.set("instl_posi_addr", "");
		
		if(into.newValue == "1"){
			grp_delvr_plc_dept_vend.show();
			ibx_delvr_plc_nm.setDisabled(true);
			
			// 로그인한 사람에 대한 정보
			scwin.setLoginInfo();
		}else if(into.newValue == "2"){
			grp_delvr_plc_dept_vend.show();
			ibx_delvr_plc_nm.setDisabled(true);
			
		}else if(into.newValue == "3"){
			grp_delvr_plc_dept_vend.hide();
			ibx_delvr_plc_nm.setDisabled(false);
		}
	};
	
	/*
     * 설치주소 검색 버튼 클릭 이벤트
     */
	scwin.btn_addr_onclick = function(e) {
		com.pop.open(com.pop.TYPE.ADDR, "", function(ret) {
			dma_mstr.set("instl_posi_postmt_no", ret.zipNo);
			dma_mstr.set("instl_posi_addr", ret.addrPart1 + ret.addrPart2);
		});
	};
	
	/*
     * 운영담당자 검색 버튼 클릭 이벤트
     */
	scwin.btn_opr_psn_onclick = function(e) {
		var data={
			empno : ibx_instl_posi_opr_charg.getValue(),
			work_clsf : "HAG010",
			ref_yn : (ibx_instl_posi_opr_charg.getValue() == "")? "Y":"",
		};
		com.pop.open(com.pop.TYPE.HUM, data, function(ret) {
			dma_mstr.set("instl_posi_opr_charg", ret.nm);
			dma_mstr.set("instl_posi_opr_no", ret.syspayno);
			dma_mstr.set("instl_posi_tel", ret.ext_no);
		});
	};
	
	/*
     * 계정내역 그리드 클릭 이벤트
     */
	scwin.grd_accnt_oncellclick = function(row,col,colId) {
		if(colId == "accnt_no"){
			scwin.openAccntPopup("U", row);
		}
	};
	
	/*
     * 인쇄 버튼 클릭 이벤트
     */
	scwin.btn_print_onclick = function(e) {
		var purReqNo = dma_mstr.get("pur_req_no");
		var node = "pur_req_no="+purReqNo;
		com.oz.openPopup({
			ozrCode : "P001",
			param: node
        });
	};
	
	/*
     * 계약인쇄 버튼 클릭 이벤트
     */
	scwin.btn_contrct_print_onclick = function(e) {
		if(dma_mstr.get("contrct_no").substring(0, 3) == "P32"){
			var node = "contrct_no="+ dma_mstr.get("contrct_no") + "&chng_seq=" + dma_mstr.get("chng_seq");
			
			// oz open
			com.oz.openPopup({
				ozrCode : "P010",      
				clsf : dma_mstr.get("pur_grp_cd"),
				param: node
	        });		
		}else{
			var purClsfCd = dlt_pur.getCellData(row, "pur_clsf_cd");
			var node = "purReqNo=" + contrctNo +"&flag=purReq"; 
			var itemCd = "";
			if(/PBA030|PBA050/.test(purClsfCd)){
				itemCd = "P014";
			}else if(purClsfCd=="PBA040"){
				itemCd = "P015";
			}else if(purClsfCd=="PBA045"){ // 기술용역 
				itemCd = "P016";
			}else{ // 나머지 계약서 
				itemCd = "P017";
				param = "pur_req_no=" + purReqNo +"&flag=purReq"; 
			}
			
			// oz open
			com.oz.openPopup({
				ozrCode : itemCd,  
				param: node
	        });	
		}
	};
	
	/*
     * 부속구매요구 검색 버튼 클릭 이벤트
     */
	scwin.btn_inhrPurReqNo_onclick = function(e) {
		biz.epu.pop.open(biz.epu.pop.TYPE.PUR_REQ, {inout_psn_clsf_cd: "1"}, function(ret) {
			dma_mstr.set("inhr_pur_req_no", ret.pur_req_no);
		});
	};
	
	/*
     * 계정내역 삭제 버튼 클릭 이벤트
     */
	scwin.btn_accnt_del_onclick = function(e) {
		var rows = grd_accnt.getCheckedIndex("chk");
		rows.reverse().forEach(function(rowIndex) {
			dlt_accnt.setCellData(rowIndex, "cud_type", "D");
			dlt_accnt.removeRow(rowIndex);
		});
	};
	
	/*
     * 품목내역 삭제 버튼 클릭 이벤트
     */
	scwin.btn_item_del_onclick = function(e) {
		var rows = grd_item.getCheckedIndex("chk");
		rows.reverse().forEach(function(rowIndex) {
			dlt_item.removeRow(rowIndex);
		});
	};
	
	/*
     * 장애인생산품구매가능여부 anchor 클릭 이벤트
     */
	scwin.anchor1_onclick = function() {
		com.alert("message.xom.ui.pur.001");
	};
	
	/*
     * Q&A 버튼 클릭 이벤트
     */
	scwin.btn_qna_onclick = function(e) {
		var url = "https://neip.kitech.re.kr/#w2xPath=/ui/collaboration/board/knowBoardView.xml?itemId=120052153805&categoryId=120048778032";
		window.open(url,"MSDS","scrollbars=yes,toolbar=no,location=no,status=no,menubar=no,resizable=yes,width=1200,height=600,left=100,top=100");	
	};
	
	/*
     * 지식자료실 버튼 클릭 이벤트
     */
	scwin.btn_info_onclick = function(e) {
		var url = "https://neip.kitech.re.kr/#w2xPath=/ui/collaboration/board/knowBoardView.xml?itemId=100000071321&categoryId=120000365937";
		//var url = "https://neip.kitech.re.kr/#w2xPath=/ui/collaboration/board/knowBoardView.xml?categoryId=120048778032"
		window.open(url,"MSDS","scrollbars=yes,toolbar=no,location=no,status=no,menubar=no,resizable=yes,width=1200,height=600,left=100,top=100");
	};
	
	/*
     * 발주계획등록 클릭 이벤트
     */
	scwin.btn_order_onclick = function(e) {
		var param={
			flag : "reg",
			frompur : "Y",
			pur_req_no : dma_mstr.get("pur_req_no"),
			pur_clsf_cd : sbx_pur_grp_cd.getValue(),
			sn : com.getLoginInfo("sn")
		};
		
		var svrId = "";
		switch(sbx_pur_grp_cd.getValue()){
			case "EGF010" : svrId = "P302"; break;
			case "EGF020" : svrId = "P345"; break;
			case "EGF030" : svrId = "P303"; break;
			default : break;
		}
		
		com.openTabMenu(svrId, param);
	};
	
	/*
     * 사전안전성검토 팝업 버튼 클릭 이벤트
     */
	scwin.btn_safeDodfpr_onclick = function(e) {
		var data={
			req_no : ibx_safeReqNo.getValue(),
			ref_yn : "Y"
		};
		com.pop.open(com.pop.TYPE.PRE_SAFE, data, function(ret) {
			ibx_safeReqNo.setValue(ret.req_no);
		});
	};
	
	/*
     * 사전안전성검토 작성 버튼 클릭 이벤트
     */
	scwin.btn_wrteSafe_onclick = function(e) {
		com.biz.openPopupByNative( '/filter/index.jsp?serviceid=D306&openerId=P022', '사전안정성검토등록', {width: 870, height: 870}, 'BIZ2');
	};
	
	/*
     * 사전안전성검토 작성 팝업 callback
     */
	scwin.setSafeReqNo = function(data){
		ibx_safeReqNo.setValue(data.req_no);
	};
	
	/*
     * 담당자저장 버튼 클릭 이벤트
     */
	scwin.btn_postSave_onclick = function(e) {
		com.execute(sbm_savePostApr, {
			successCallback : function(e){
			}
		});
	};
	/*
	 * (이순영요청) 신청번호 더블클릭 이벤트
	 */
	scwin.pur_req_no_ondblclick = function(e) {
		if(dma_mstr.get("apr_state") < "XAD020") return;

		var data={
			reqNo : this.getValue(),
			ref_yn : "Y",
			viewMode : "read",
			//endpoint : com.getLoginInfo("uid"),
			instStatus : (dma_mstr.get("apr_state") == "XAD100")? "Completed" : "Running"
		};
		com.pop.open(com.pop.TYPE.VIEW_APR, data);
	};
	
	/*
	 * 구매표준양식버튼 클릭
	 */
	scwin.btn_standard_form_onclick = function(e) {
		var url = "https://neip.kitech.re.kr/#w2xPath=/ui/board/boardView.xml?itemId=120085351322&boardId=100000000002";
		window.open(url,"MSDS","scrollbars=yes,toolbar=no,location=no,status=no,menubar=no,resizable=yes,width=1200,height=600,left=100,top=100");	
	};
	
	/*
	 * 물품규격평가기준서양식
	 */
	scwin.btn_goods_standard_eval_onclick = function() {
		scwin.downFileinfo("물품규격평가기준서.hwp","pur_attach_goods_standard_eval");
	};
	
	/*
	 * 용역구매양식_일반
	 */
	scwin.btn_service_normal_onclick = function() {
		scwin.downFileinfo("용역구매양식(일반).hwp","pur_attach_service_normal");
	};
	
	/*
	 * 용역구매양식_SW사업
	 */
	scwin.btn_service_sw_onclick = function() {
		scwin.downFileinfo("용역구매양식(SW사업).hwp","pur_attach_service_sw");
	};
	
	/*
	 * 공사표준양식
	 */
	scwin.btn_const_normal_onclick = function() {
		scwin.downFileinfo("공사구매양식_일반.hwp","pur_attach_const_normal");
	};
	
	
	/*
     * ASCII 범위 외의 문자 포함 여부 체크 정규식(true : 포함, false : 미포함)
     */
    scwin.regexAscii = function(chkStr) {
    	var regex = /[^\x20-\x7E\uAC00-\uD7A3\u1100-\u11FF\u1160-\u11A2]/g;
		
		if (regex.test(chkStr)) {
			return chkStr.replace(regex, "");
		} else {
			return chkStr;
		}
	};
	
	/*
     * 정의한 특수문자, 영어, 한글, 숫자를 제외한 문자 체크 정규식
     */ 
	scwin.regexCharacters = function(chkStr) {
		var regex = /[-\/~!@#$%^&*_+|=|<>?:;`{},.\]\[\'\"\(\)\\\'\·\・a-zA-Z가-힣0-9\u3131-\u314E\u314F-\u3163]/gi;
		var matchedCharacters = chkStr.match(regex);
		
		if (matchedCharacters != null && matchedCharacters != "") {
			return chkStr.split('').filter(char => !matchedAscii.includes(char)).join('').trim();
		} else {
			return chkStr;
		}
	};]]></script>
    </head>
    <body ev:onpageload="scwin.onpageload">
    	<w2:wframe id="wfm_title" src="/cm/xml/contentTitle.xml" style=""></w2:wframe>
    	<xf:group id="" class="pageWrap">
    		<xf:group class="searchSection step" id="" style="">
    			<xf:group class="le" id="" style="">
    				<xf:trigger class="btn" id="btn_pre" style="" type="button" ev:onclick="scwin.btn_pre_onclick">
    					<xf:label><![CDATA[목록]]></xf:label>
    				</xf:trigger>
    			</xf:group>
    			<xf:group class="btnbox ri" id="">
    				<xf:trigger class="btn icon print" id="btn_contrct_print" style="" type="button"
    					ev:onclick="scwin.btn_contrct_print_onclick">
    					<xf:label><![CDATA[계약 인쇄]]></xf:label>
    				</xf:trigger>
    				<xf:trigger class="btn icon print" id="btn_print" style="" type="button" disabled="true"
    					ev:onclick="scwin.btn_print_onclick">
    					<xf:label><![CDATA[인쇄]]></xf:label>
    				</xf:trigger>
    				<xf:trigger class="btn " ev:onclick="scwin.btn_standard_form_onclick" id="btn_standard_form" style="" type="button">
    					<xf:label><![CDATA[구매표준양식]]></xf:label>
    				</xf:trigger>
    				<xf:trigger class="btn " id="btn_info" style="" type="button" ev:onclick="scwin.btn_info_onclick">
    					<xf:label><![CDATA[지식자료실]]></xf:label>
    				</xf:trigger>
    				<xf:trigger class="btn " id="btn_qna" style="" type="button" ev:onclick="scwin.btn_qna_onclick">
    					<xf:label><![CDATA[Q&A]]></xf:label>
    				</xf:trigger>
    				<xf:trigger class="btn " ev:onclick="scwin.btn_order_onclick" id="btn_order" style="" type="button">
    					<xf:label><![CDATA[발주계획등록]]></xf:label>
    				</xf:trigger>
    				<xf:trigger class="btn blue" id="btn_apr" style="" type="button" ev:onclick="scwin.btn_apr_onclick" disabled="true">
    					<xf:label><![CDATA[결재신청]]></xf:label>
    				</xf:trigger>

    			</xf:group>
    		</xf:group>
    		<xf:group class="w2tb tbl" id="" style="" tagname="table">
    			<w2:attributes>
    				<w2:summary></w2:summary>
    			</w2:attributes>
    			<xf:group tagname="caption" text="근거리출장서 작성자 소속 신청번호"></xf:group>
    			<xf:group tagname="colgroup">
    				<xf:group style="width:160px;" tagname="col"></xf:group>
    				<xf:group style="" tagname="col"></xf:group>
    				<xf:group style="width:190px;" tagname="col"></xf:group>
    				<xf:group style="" tagname="col"></xf:group>
    				<xf:group style="width:140px;" tagname="col"></xf:group>
    				<xf:group style="" tagname="col"></xf:group>
    			</xf:group>
    			<xf:group tagname="tr">
    				<xf:group class="w2tb_th" tagname="th">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:textbox id="" label="구매요구번호" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group class="w2tb_td" tagname="td">
    					<w2:attributes></w2:attributes>
    					<w2:span escape="false" id="pur_req_no" label="000" ref="data:dma_mstr.pur_req_no" style="text-decoration:underline;color:blue;" ev:ondblclick="scwin.pur_req_no_ondblclick"></w2:span>
    				</xf:group>
    				<xf:group class="w2tb_th" tagname="th">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:span class="bul_req" id="" label="[필수입력항목]" style=""></w2:span>
    					<w2:textbox id="" label="구매구분" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group class="w2tb_td" tagname="td">
    					<w2:attributes></w2:attributes>
    					<xf:group id="" class="flex">
    						<xf:select1 chooseOptionLabel="-선택-" submenuSize="auto" chooseOption="true" allOption="" title="구매구분 1"
    							ref="data:dma_mstr.pur_grp_cd" appearance="minimal" disabledClass="w2selectbox_disabled" disabled="false" style="width:150px;"
    							id="sbx_pur_grp_cd" class="sel req" direction="auto" ev:onviewchange="scwin.sbx_pur_grp_cd_onviewchange">
    							<xf:choices></xf:choices>
    						</xf:select1>
    						<xf:select1 chooseOptionLabel="-선택-" submenuSize="auto" chooseOption="true" allOption="" title="구매구분 2"
    							ref="data:dma_mstr.pur_clsf_cd" appearance="minimal" disabledClass="w2selectbox_disabled" disabled="false" style="width:150px;"
    							id="sbx_pur_clsf_cd" class="sel req" direction="auto">
    							<xf:choices></xf:choices>
    						</xf:select1>
    					</xf:group>
    				</xf:group>
    				<xf:group class="w2tb_th" style="" tagname="th">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:textbox id="" label="부속구매여부" style="" tagname="span"></w2:textbox>
    					<xf:select appearance="full" class="chkGroup" cols="" ev:onchange="scwin.cbx_inhr_pur_yn_onchange"
    						id="cbx_inhr_pur_yn" ref="data:dma_mstr.sub_pur_yn" renderType="checkboxgroup" rows="" selectedindex="-1" style="">
    						<xf:choices>
    							<xf:item>
    								<xf:label></xf:label>
    								<xf:value><![CDATA[Y]]></xf:value>
    							</xf:item>
    						</xf:choices>
    					</xf:select>
    				</xf:group>
    				<xf:group class="w2tb_td" style="" tagname="td">
    					<w2:attributes></w2:attributes>
    					<w2:textbox class="txt" id="" label="관련구매요구번호" style="" tagname="span"></w2:textbox>
    					<xf:group class="inpSch" id="" style="width: 120px;">
    						<xf:input adjustMaxLength="false" class="inp" id="" ref="data:dma_mstr.inhr_pur_req_no" style=""
    							title="관련구매요구번호">
    						</xf:input>
    						<xf:trigger class="btn" disabled="true" ev:onclick="scwin.btn_inhrPurReqNo_onclick" id="btn_inhrPurReqNo"
    							style="" title="관련구매요구번호 조회" type="button">
    							<xf:label><![CDATA[검색]]></xf:label>
    						</xf:trigger>
    					</xf:group>
    				</xf:group>
    			</xf:group>
    			<xf:group tagname="tr" style="">
    				<xf:group class="w2tb_th" tagname="th">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:span class="bul_req" id="" label="[필수입력항목]" style=""></w2:span>
    					<w2:textbox id="" label="사용자(정)" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group class="w2tb_td" tagname="td">
    					<w2:attributes></w2:attributes>
    					<xf:group class="inpSch" id="grp_user_main" style="width: 120px;">
    						<xf:input adjustMaxLength="false" class="inp req" id="ibx_user_main_empno"
    							ref="data:dma_mstr.user_main_empno" style="" title="사용자(정)">
    						</xf:input>
    						<xf:trigger class="btn" ev:onclick="scwin.btn_user_main_onclick" id="btn_user_main" style=""
    							title="사용자(정) 조회" type="button">
    							<xf:label><![CDATA[검색]]></xf:label>
    						</xf:trigger>
    					</xf:group>
    					<xf:input adjustMaxLength="false" class="inp" disabled="true" id="" ref="data:dma_mstr.user_main_nm"
    						style="width:100px;" title="사용자(정) 상세">
    					</xf:input>
    				</xf:group>
    				<xf:group class="w2tb_th" tagname="th">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:span class="bul_req" id="" label="[필수입력항목]" style=""></w2:span>
    					<w2:textbox id="" label="실사용자" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group class="w2tb_td" tagname="td">
    					<w2:attributes></w2:attributes>
    					<xf:group class="inpSch" id="grp_user_sub" style="width: 120px;">
    						<xf:input adjustMaxLength="false" class="inp  req" id="ibx_user_sub_empno" style="" title="실사용자"
    							ref="data:dma_mstr.user_sub_empno">
    						</xf:input>
    						<xf:trigger class="btn" id="btn_user_sub_empno" style="" type="button" title="실사용자 조회"
    							ev:onclick="scwin.btn_user_sub_empno_onclick">
    							<xf:label><![CDATA[검색]]></xf:label>
    						</xf:trigger>
    					</xf:group>
    					<xf:input adjustMaxLength="false" class="inp" id="" style="width: 100px;" title="실사용자 상세" disabled="true"
    						ref="data:dma_mstr.user_sub_nm">
    					</xf:input>
    				</xf:group>
    				<xf:group class="w2tb_th" style="" tagname="th">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:textbox id="" label="구매요구자" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group class="w2tb_td" style="" tagname="td">
    					<w2:attributes></w2:attributes>
    					<xf:input adjustMaxLength="false" class="inp" disabled="true" id="" ref="data:dma_mstr.req_psn_nm" style=""
    						title="구매요구자">
    					</xf:input>
    				</xf:group>
    			</xf:group>
    			<xf:group tagname="tr" style="">
    				<xf:group class="w2tb_th" tagname="th">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:span class="bul_req" id="" label="[필수입력항목]" style=""></w2:span>
    					<w2:textbox id="" label="납품요구일" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group class="w2tb_td" tagname="td">
    					<w2:attributes></w2:attributes>
    					<w2:textbox class="txt" id="" label="계약 후" style="" tagname="span"></w2:textbox>
    					<xf:input adjustMaxLength="false" class="inp  req" id="" style="width: 60px;" title="납품요구일"
    						ref="data:dma_mstr.delvr_demnd_daycnt" allowChar="0-9">
    					</xf:input>
    					<w2:textbox class="txt" id="" label="일 이내" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group class="w2tb_th" tagname="th">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:textbox id="" label="부가세" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group class="w2tb_td" tagname="td">
    					<w2:attributes></w2:attributes>
    					<xf:input adjustMaxLength="false" class="inp ri" id="ibx_addtax_calc_rts" style="width: 100px" title="부가세"
    						ref="data:dma_mstr.addtax_calc_rts" ev:onviewchange="scwin.ibx_addtax_calc_rts_onviewchange" allowChar="0-9.">
    					</xf:input>
    					<w2:textbox class="txt" id="" label="%" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group class="w2tb_th" style="" tagname="th">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:textbox id="" label="구매요구일자" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group class="w2tb_td" style="" tagname="td">
    					<w2:attributes></w2:attributes>
    					<w2:inputCalendar calendarValueType="yearMonthDate" class="inpcal" focusOnDateSelect="false" footerDiv="false" id=""
    						placeholder="시작일" renderDiv="true" rightAlign="false" style="" title="구매요구일자" ref="data:dma_mstr.req_ymd">
    					</w2:inputCalendar>
    				</xf:group>
    			</xf:group>
    			<xf:group tagname="tr" style="">
    				<xf:group class="w2tb_th" tagname="th">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:span class="bul_req" id="" label="[필수입력항목]" style=""></w2:span>
    					<w2:textbox id="" label="방사선장비여부" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group class="w2tb_td" tagname="td">
    					<w2:attributes></w2:attributes>
    					<xf:select1 appearance="full" class="radioGroup  req" cols="" id="rdo_rad_yn" ref="data:dma_mstr.rad_yn"
    						renderType="radiogroup" rows="" selectedIndex="" style="" title="방사선장비여부" ev:onchange="scwin.rdo_rad_yn_onchange">
    						<xf:choices>
    							<xf:item>
    								<xf:label><![CDATA[해당]]></xf:label>
    								<xf:value><![CDATA[Y]]></xf:value>
    							</xf:item>
    							<xf:item>
    								<xf:label><![CDATA[해당안함]]></xf:label>
    								<xf:value><![CDATA[N]]></xf:value>
    							</xf:item>
    						</xf:choices>
    					</xf:select1>
    				</xf:group>
    				<xf:group class="w2tb_th" tagname="th">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:span class="bul_req" id="" label="[필수입력항목]" style=""></w2:span>
    					<w2:textbox id="" label="RG/RI" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group class="w2tb_td" tagname="td">
    					<w2:attributes>
    						<w2:colspan>3</w2:colspan>
    						<w2:rowspan>1</w2:rowspan>
    					</w2:attributes>
    					<xf:select1 appearance="full" class="radioGroup req" cols="" id="rdo_rad_knd" ref="data:dma_mstr.rad_knd"
    						renderType="radiogroup" rows="" selectedIndex="-1" style="" title="RG/RI" disabled="true">
    						<xf:choices>
    							<xf:item>
    								<xf:label><![CDATA[RG(방사선 발생장치)]]></xf:label>
    								<xf:value><![CDATA[RG]]></xf:value>
    							</xf:item>
    							<xf:item>
    								<xf:label><![CDATA[RI(방사성 동위원소)]]></xf:label>
    								<xf:value><![CDATA[RI]]></xf:value>
    							</xf:item>
    						</xf:choices>
    					</xf:select1>
    				</xf:group>
    			</xf:group>
    			<xf:group tagname="tr" style="">
    				<xf:group class="w2tb_th" tagname="th">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:span class="bul_req" id="" label="[필수입력항목]" style=""></w2:span>
    					<w2:textbox id="" label="안전장비포함구매여부" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group class="w2tb_td" tagname="td">
    					<w2:attributes></w2:attributes>
    					<xf:select1 appearance="full" class="radioGroup  req" cols="" id="" ref="data:dma_mstr.safety_yn"
    						renderType="radiogroup" rows="" selectedIndex="-1" style="" title="안전장비포함구매여부">
    						<xf:choices>
    							<xf:item>
    								<xf:label><![CDATA[해당]]></xf:label>
    								<xf:value><![CDATA[Y]]></xf:value>
    							</xf:item>
    							<xf:item>
    								<xf:label><![CDATA[해당안함]]></xf:label>
    								<xf:value><![CDATA[N]]></xf:value>
    							</xf:item>
    						</xf:choices>
    					</xf:select1>
    				</xf:group>
    				<xf:group class="w2tb_th" tagname="th">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:span class="bul_req" id="" label="[필수입력항목]" style=""></w2:span>
    					<w2:textbox id="" label="장애인생산품구매가능여부" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group class="w2tb_td" tagname="td">
    					<w2:attributes>
    						<w2:colspan>3</w2:colspan>
    						<w2:rowspan>1</w2:rowspan>
    					</w2:attributes>
    					<xf:select1 appearance="full" class="radioGroup  req" cols="" id="" ref="data:dma_mstr.disabld_pur_yn"
    						renderType="radiogroup" rows="" selectedIndex="-1" style="" title="안전장비포함구매여부">
    						<xf:choices>
    							<xf:item>
    								<xf:label><![CDATA[해당]]></xf:label>
    								<xf:value><![CDATA[Y]]></xf:value>
    							</xf:item>
    							<xf:item>
    								<xf:label><![CDATA[해당안함]]></xf:label>
    								<xf:value><![CDATA[N]]></xf:value>
    							</xf:item>
    						</xf:choices>
    					</xf:select1>
    					<w2:anchor class="ico help" id="anchor1" outerDiv="false" style="" ev:onclick="scwin.anchor1_onclick">
    						<xf:label><![CDATA[도움말]]></xf:label>
    					</w2:anchor>
    				</xf:group>
    			</xf:group>
    			<xf:group style="" tagname="tr" id="grp_chemc">
    				<xf:group class="w2tb_th" tagname="th">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:span class="bul_req" id="" label="[필수입력항목]" style=""></w2:span>
    					<w2:textbox id="" label="화학물질 포함여부" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group class="w2tb_td" tagname="td">
    					<w2:attributes></w2:attributes>
    					<xf:select1 appearance="full" class="radioGroup  req" cols="" id="rdo_msds_yn" ref="data:dma_mstr.msds_yn"
    						renderType="radiogroup" rows="" selectedIndex="1" style="" title="안전장비포함구매여부" ev:onchange="scwin.rdo_msds_yn_onchange">
    						<xf:choices>
    							<xf:item>
    								<xf:label><![CDATA[해당]]></xf:label>
    								<xf:value><![CDATA[Y]]></xf:value>
    							</xf:item>
    							<xf:item>
    								<xf:label><![CDATA[해당안함]]></xf:label>
    								<xf:value><![CDATA[N]]></xf:value>
    							</xf:item>
    						</xf:choices>
    					</xf:select1>
    				</xf:group>
    				<xf:group class="w2tb_th" tagname="th">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:textbox id="" label="사전안정성검토 신청번호" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group class="w2tb_td" tagname="td">
    					<w2:attributes>
    						<w2:colspan>3</w2:colspan>
    						<w2:rowspan>1</w2:rowspan>
    					</w2:attributes>
    					<xf:group class="inpSch" id="" style="width: 180px;">
    						<xf:input adjustMaxLength="false" class="inp" id="ibx_safeReqNo" style="" title="관련구매요구번호"
    							ref="data:dma_mstr.safe_req_no" disabled="true">
    						</xf:input>
    						<xf:trigger class="btn" id="btn_safeDodfpr" style="" title="관련구매요구번호 조회" type="button"
    							ev:onclick="scwin.btn_safeDodfpr_onclick" disabled="true">
    							<xf:label><![CDATA[검색]]></xf:label>
    						</xf:trigger>
    					</xf:group>
    					<xf:trigger class="btn" id="btn_wrteSafe" style="" type="button" ev:onclick="scwin.btn_wrteSafe_onclick">
    						<xf:label><![CDATA[사전안전성검토 작성]]></xf:label>
    					</xf:trigger>
    				</xf:group>
    			</xf:group>
    			<xf:group tagname="tr" style="">
    				<xf:group class="w2tb_th" tagname="th">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:textbox id="" label="사용용도" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group class="w2tb_td" tagname="td">
    					<w2:attributes></w2:attributes>
    					<xf:select1 allOption="" appearance="minimal" chooseOption="true" chooseOptionLabel="-선택-" class="sel "
    						direction="auto" disabled="false" disabledClass="w2selectbox_disabled" id="sbx_req_usg_cd" ref="data:dma_mstr.req_usg_cd"
    						style="width:150px;" submenuSize="auto" title="사용용도">
    						<xf:choices></xf:choices>
    					</xf:select1>
    				</xf:group>
    				<xf:group class="w2tb_th" tagname="th">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:textbox id="" label="상세 사용용도" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group class="w2tb_td" tagname="td">
    					<w2:attributes>
    						<w2:colspan>3</w2:colspan>
    						<w2:rowspan>1</w2:rowspan>
    					</w2:attributes>
    					<xf:input adjustMaxLength="false" class="inp full" id="" style="" title="상세 사용용도" ref="data:dma_mstr.req_usg"></xf:input>
    				</xf:group>
    			</xf:group>
    			<xf:group style="" tagname="tr">
    				<xf:group class="w2tb_th" tagname="th">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:textbox id="" label="납품장소" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group class="w2tb_td" tagname="td">
    					<w2:attributes>
    						<w2:colspan>5</w2:colspan>
    						<w2:rowspan>1</w2:rowspan>
    					</w2:attributes>
    					<xf:group class="flex" id="">
    						<xf:select1 allOption="" appearance="minimal" chooseOption="true" chooseOptionLabel="" class="sel "
    							direction="auto" disabled="false" disabledClass="w2selectbox_disabled" id="sbx_delvr_plc_clsf_cd" ref="data:dma_mstr.delvr_plc_clsf_cd"
    							style="width:150px;" submenuSize="auto" title="납품장소  구분" ev:onviewchange="scwin.sbx_delvr_plc_clsf_cd_onviewchange">
    							<xf:choices>
    								<xf:item>
    									<xf:label><![CDATA[부서]]></xf:label>
    									<xf:value><![CDATA[1]]></xf:value>
    								</xf:item>
    								<xf:item>
    									<xf:label><![CDATA[업체]]></xf:label>
    									<xf:value><![CDATA[2]]></xf:value>
    								</xf:item>
    								<xf:item>
    									<xf:label><![CDATA[기타]]></xf:label>
    									<xf:value><![CDATA[3]]></xf:value>
    								</xf:item>
    							</xf:choices>
    						</xf:select1>
    						<xf:group class="inpSch" id="grp_delvr_plc_dept_vend" style="width: 150px;">
    							<xf:input adjustMaxLength="false" class="inp" id="" style="" title="납품장소명"
    								ref="data:dma_mstr.delvr_plc_dept_vend_cd">
    							</xf:input>
    							<xf:trigger class="btn" id="btn_vend" style="" title="납품장소 조회" type="button" ev:onclick="scwin.btn_vend_onclick">
    								<xf:label><![CDATA[검색]]></xf:label>
    							</xf:trigger>
    						</xf:group>
    						<xf:input adjustMaxLength="false" class="inp full" id="ibx_delvr_plc_nm" style="" title="납품장소 상세"
    							ref="data:dma_mstr.delvr_plc_nm" disabled="true">
    						</xf:input>
    					</xf:group>
    				</xf:group>
    			</xf:group>
    			<xf:group style="" tagname="tr">
    				<xf:group class="w2tb_th ce" tagname="th">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    						<w2:colspan>6</w2:colspan>
    						<w2:rowspan>1</w2:rowspan>
    					</w2:attributes>
    					<w2:textbox id="" label="설치위치" style="" tagname="span"></w2:textbox>
    				</xf:group>
    			</xf:group>
    			<xf:group style="" tagname="tr">
    				<xf:group class="w2tb_th" tagname="th">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:span class="bul_req" id="" label="[필수입력항목]" style=""></w2:span>
    					<w2:textbox id="" label="지역,건물,층,호수" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group class="w2tb_td" tagname="td">
    					<w2:attributes>
    						<w2:colspan>5</w2:colspan>
    						<w2:rowspan>1</w2:rowspan>
    					</w2:attributes>
    					<xf:select1 allOption="" appearance="minimal" chooseOption="true" chooseOptionLabel="" class="sel req"
    						direction="auto" disabled="false" disabledClass="w2selectbox_disabled" id="sbx_posi_region"
    						ref="data:dma_mstr.instl_posi_region_cd" style="width:150px;" submenuSize="auto" title="지역"
    						ev:onviewchange="scwin.sbx_posi_region_onviewchange">
    						<xf:choices></xf:choices>
    					</xf:select1>
    					<xf:select1 allOption="" appearance="minimal" chooseOption="true" chooseOptionLabel="-선택-" class="sel req"
    						direction="auto" disabled="false" disabledClass="w2selectbox_disabled" id="sbx_instl_posi_build"
    						ref="data:dma_mstr.instl_posi_build_cd" style="width:150px;" submenuSize="auto" title="건물"
    						ev:onviewchange="scwin.sbx_instl_posi_build_onviewchange">
    						<xf:choices></xf:choices>
    					</xf:select1>
    					<xf:select1 allOption="" appearance="minimal" chooseOption="true" chooseOptionLabel="" class="sel req"
    						direction="auto" disabled="false" disabledClass="w2selectbox_disabled" id="sbx_instl_posi_floor"
    						ref="data:dma_mstr.instl_posi_floor_clsf" style="width:150px;" submenuSize="auto">
    						<xf:choices></xf:choices>
    					</xf:select1>
    					<xf:input adjustMaxLength="false" class="inp req" id="" style="width: 100px" title="호수"
    						ref="data:dma_mstr.instl_posi_editno">
    					</xf:input>
    					<w2:textbox class="txt" id="" label="호" style="" tagname="span"></w2:textbox>
    				</xf:group>
    			</xf:group>
    			<xf:group style="" tagname="tr">
    				<xf:group class="w2tb_th" tagname="th">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:textbox id="" label="설치주소" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group class="w2tb_td" tagname="td">
    					<w2:attributes>
    						<w2:colspan>5</w2:colspan>
    						<w2:rowspan>1</w2:rowspan>
    					</w2:attributes>
    					<xf:group class="flex" id="">
    						<xf:group class="inpSch" id="" style="width: 135px;">
    							<xf:input adjustMaxLength="false" class="inp" id="" style="" title="우편번호"
    								ref="data:dma_mstr.instl_posi_postmt_no" disabled="true">
    							</xf:input>
    							<xf:trigger class="btn" id="btn_addr" style="" title="우편번호 조회" type="button" ev:onclick="scwin.btn_addr_onclick">
    								<xf:label><![CDATA[검색]]></xf:label>
    							</xf:trigger>
    						</xf:group>
    						<xf:input adjustMaxLength="false" class="inp full" id="" style="" title="우편번호 상세"
    							ref="data:dma_mstr.instl_posi_addr">
    						</xf:input>
    					</xf:group>
    				</xf:group>
    			</xf:group>
    			<xf:group style="" tagname="tr">
    				<xf:group class="w2tb_th" tagname="th">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:textbox id="" label="운영담당자" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group class="w2tb_td" tagname="td">
    					<xf:group class="inpSch" id="grp_instl_charg" style="width: 120px;">
    						<xf:input adjustMaxLength="false" class="inp" id="ibx_instl_posi_opr_charg" style="" title="운영담당자"
    							ref="data:dma_mstr.instl_posi_opr_charg">
    						</xf:input>
    						<xf:trigger class="btn" id="btn_opr_psn" style="" title="운영담당자 조회" type="button" ev:onclick="scwin.btn_opr_psn_onclick">
    							<xf:label><![CDATA[검색]]></xf:label>
    						</xf:trigger>
    					</xf:group>
    					<w2:attributes></w2:attributes>
    				</xf:group>
    				<xf:group class="w2tb_th" tagname="th">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:textbox id="" label="전화번호" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group class="w2tb_td" tagname="td">
    					<w2:attributes></w2:attributes>
    					<xf:input adjustMaxLength="false" class="inp  full" id="" style="" title="전화번호"
    						ref="data:dma_mstr.instl_posi_tel">
    					</xf:input>
    				</xf:group>
    				<xf:group class="w2tb_th" style="" tagname="th">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:textbox id="" label="설치운영기간" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group class="w2tb_td" style="" tagname="td">
    					<w2:attributes></w2:attributes>
    					<w2:textbox class="txt" id="" label="검수완료 후" style="" tagname="span"></w2:textbox>
    					<xf:input adjustMaxLength="false" class="inp" id="ibx_instl_opr_time_daycnt" style="width: 50px" title="설치운영기간"
    						ref="data:dma_mstr.instl_opr_time_daycnt" allowChar="0-9">
    					</xf:input>
    					<w2:textbox class="txt" id="" label="일간" style="" tagname="span"></w2:textbox>
    				</xf:group>
    			</xf:group>
    		</xf:group>
    		<xf:group class="helparea" id="" style="">
    			<xf:group id="" style="" tagname="ul">
    				<xf:group id="" style="" tagname="li">
    					<w2:textbox class="red" id=""
    						label="내자구매요령 제6조(구매요구서 작성) 제7항에 따라, 구매요구자 및 구매요구부서장은 구매요구 대상 물품이 안전사고 등 위험 요인이 있다고 판단되는 경우 사고예방에 필요한 안전장비를 포함하여 구매요구를 하시기 바랍니다."
    						style="" tagname="span">
    					</w2:textbox>
    					<w2:anchor class="linkfile" id="btn_goods_spec_form" outerDiv="false" style="width:350px;"
    						ev:onclick="scwin.btn_goods_spec_form_onclick">
    						<xf:label><![CDATA[물품 사양서_양식 및 샘플(소액구매 및 적격심사).hwp]]></xf:label>
    					</w2:anchor>
    					<w2:anchor class="linkfile" id="btn_goods_standard_eval" outerDiv="false" style="width:350px;"
    						ev:onclick="scwin.btn_goods_standard_eval_onclick">
    						<xf:label><![CDATA[물품 규격평가기준서(규격가격동시입찰).hwp]]></xf:label>
    					</w2:anchor>
    					<w2:anchor class="linkfile" id="btn_service_normal" outerDiv="false" style="width:350px;"
    						ev:onclick="scwin.btn_service_normal_onclick">
    						<xf:label><![CDATA[용역 구매 양식_일반.hwp]]></xf:label>
    					</w2:anchor>
    					<w2:anchor class="linkfile" id="btn_service_sw" outerDiv="false" style="width:350px;"
    						ev:onclick="scwin.btn_service_sw_onclick">
    						<xf:label><![CDATA[용역 구매 양식_소프트웨어사업.hwp]]></xf:label>
    					</w2:anchor>
    					<w2:anchor class="linkfile" ev:onclick="scwin.btn_const_normal_onclick" id="btn_const_normal" outerDiv="false"
    						style="width:350px;">
    						<xf:label><![CDATA[공사 표준양식_안내.hwp]]></xf:label>
    					</w2:anchor>
    				</xf:group>
    			</xf:group>
    		</xf:group>
    		<xf:group class="titleSection" id="" style="">
    			<xf:group class="le" id="">
    				<w2:textbox class="tit_tbl" id="" label="품목내역" style="" tagname="h3"></w2:textbox>
    			</xf:group>
    			<xf:group class="btnarea" id="" style="">
    				<xf:trigger class="btn" id="btn_addItem" style="" type="button" ev:onclick="scwin.btn_addItem_onclick">
    					<xf:label><![CDATA[품목추가]]></xf:label>
    				</xf:trigger>
    				<xf:trigger class="bt_minus" id="btn_item_del" style="" type="button" ev:onclick="scwin.btn_item_del_onclick">
    					<xf:label><![CDATA[삭제]]></xf:label>
    				</xf:trigger>
    			</xf:group>
    		</xf:group>
    		<w2:gridView class="grid" dataList="data:dlt_item" defaultCellHeight="28" evenRowBackgroundColor="#f7faff" id="grd_item"
    			noResultMessage="조회 결과가 없습니다." noResultMessageClass="noResult" rowMouseOverColor="#e7f0fb" rowNumBackgroundColor="#fff"
    			rowNumHeaderValue="No." rowNumVisible="true" rowNumWidth="60" rowStatusHeaderValue="상태" rowStatusVisible="false" rowStatusWidth="50"
    			scrollByColumn="false" scrollByColumnAdaptive="false" selectedCellColor="#fbf2cd" selectedRowColor="#fbf2cd" style="height: 75px;"
    			summaryAuto="true" visibleRowNum="5" autoFit="allColumn" ev:oncellclick="scwin.grd_item_oncellclick">
    			<w2:caption id="caption1" style="" value="this is a grid caption."></w2:caption>
    			<w2:header id="header1" style="">
    				<w2:row id="row1" style="">
    					<w2:column checkboxLabel="전체선택" displayMode="label" id="column7" inputType="checkbox" readOnly="false"
    						style="height:28px;" value="선택" width="45" fixColumnWidth="true">
    					</w2:column>
    					<w2:column displayMode="label" id="column5" inputType="text" style="height:28px;" value="한글품명" width="260"></w2:column>
    					<w2:column displayMode="label" id="column3" inputType="text" style="height:28px;" value="영문품명" width="200"></w2:column>
    					<w2:column displayMode="label" id="column20" inputType="text" style="height:28px;" value="단위" width="80"></w2:column>
    					<w2:column displayMode="label" id="column29" inputType="text" style="height:28px;" value="수량" width="70"></w2:column>
    					<w2:column displayMode="label" id="column32" inputType="text" style="height:28px" value="추정단가" width="100"></w2:column>
    					<w2:column displayMode="label" id="column30" inputType="text" style="height:28px" value="추정가격" width="100"></w2:column>
    					<w2:column width="90" inputType="text" style="height:28px" id="column44" value="부가세" displayMode="label"></w2:column>
    					<w2:column width="90" inputType="text" style="height:28px" id="column42" value="부대비" displayMode="label"></w2:column>
    					<w2:column width="100" inputType="text" style="height:28px" id="column40" value="품목코드" displayMode="label"></w2:column>
    					<w2:column width="80" inputType="text" style="height:28px" id="column38" value="중기간경쟁제품여부" displayMode="label"></w2:column>
    					<w2:column width="230" inputType="text" style="height:28px" id="column36" value="비고" displayMode="label"></w2:column>
    				</w2:row>
    			</w2:header>
    			<w2:gBody id="gBody1" style="">
    				<w2:row id="row2" style="">
    					<w2:column displayMode="label" id="chk" inputType="checkbox" readOnly="false" style="height:28px;" width="35"></w2:column>
    					<w2:column displayMode="label" escape="false" id="krchar_gdnm" inputType="link" readOnly="true" style="height:28px;"
    						width="260" class="le">
    					</w2:column>
    					<w2:column displayMode="label" escape="false" id="eng_gdnm" inputType="text" readOnly="true" style="height:28px;"
    						width="200" class="le">
    					</w2:column>
    					<w2:column displayMode="label" id="unit_desc" inputType="text" readOnly="true" style="height:28px;" width="80"></w2:column>
    					<w2:column displayMode="label" id="qty" inputType="text" readOnly="true" style="height:28px;" width="70" class="ri"
    						dataType="number" displayFormat="#,###">
    					</w2:column>
    					<w2:column displayMode="label" id="req_unit_price" inputType="text" readOnly="true" style="height:28px" width="100"
    						class="ri" dataType="number" displayFormat="#,###">
    					</w2:column>
    					<w2:column displayMode="label" id="req_amt" inputType="text" readOnly="true" style="height:28px" width="100"
    						class="ri" dataType="number" displayFormat="#,###">
    					</w2:column>
    					<w2:column width="90" inputType="text" style="height:28px" id="req_time_addtax_extexpns" value=""
    						displayMode="label" readOnly="true" class="ri" dataType="number" displayFormat="#,###">
    					</w2:column>
    					<w2:column width="90" inputType="text" style="height:28px" id="incidntl_expns" value="" displayMode="label"
    						readOnly="true" class="ri" dataType="number" displayFormat="#,###">
    					</w2:column>
    					<w2:column width="100" inputType="text" style="height:28px" id="item_cd" value="" displayMode="label"
    						readOnly="true">
    					</w2:column>
    					<w2:column width="80" inputType="text" style="height:28px" id="cntst_prod_yn" value="" displayMode="label"
    						readOnly="true">
    					</w2:column>
    					<w2:column width="230" inputType="text" style="height:28px" id="rmk" value="" displayMode="label" readOnly="true"
    						class="le">
    					</w2:column>
    				</w2:row>
    			</w2:gBody>
    		</w2:gridView>
    		<xf:group class="w2tb tbl" id="" style="margin-top:0px !important;" tagname="table">
    			<w2:attributes>
    				<w2:summary></w2:summary>
    			</w2:attributes>
    			<xf:group tagname="caption" text="소계, 부가세, 부대비, 합계"></xf:group>
    			<xf:group tagname="colgroup" style="">
    				<xf:group style="width: 50%" tagname="col"></xf:group>
    				<xf:group style="" tagname="col"></xf:group>
    			</xf:group>
    			<xf:group tagname="tr">
    				<xf:group class="w2tb_th" tagname="th">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:textbox id="" label="소 계(공급가액)" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group class="w2tb_td" tagname="td">
    					<w2:attributes></w2:attributes>
    					<xf:input adjustMaxLength="false" class="inp ri" id="ibx_reqAmtSum" style="width: 150px" title="소 계(공급가액)"
    						disabled="true" dataType="number" displayFormat="#,###">
    					</xf:input>
    				</xf:group>
    			</xf:group>
    			<xf:group style="" tagname="tr">
    				<xf:group class="w2tb_th" style="" tagname="th">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:textbox id="" label="부가세" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group class="w2tb_td" style="" tagname="td">
    					<xf:input adjustMaxLength="false" class="inp ri" id="ibx_addTaxSum" style="width: 150px" title="부가세"
    						dataType="number" displayFormat="#,###" ev:onviewchange="scwin.ibx_addTaxSum_onviewchange">
    					</xf:input>
    				</xf:group>
    			</xf:group>
    			<xf:group tagname="tr">
    				<xf:group class="w2tb_th" tagname="th">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:textbox id="" label="부대비" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group class="w2tb_td" tagname="td">
    					<w2:attributes></w2:attributes>
    					<xf:input adjustMaxLength="false" class="inp ri" id="ibx_incidntlExpns" style="width: 150px" title="부대비"
    						disabled="true" dataType="number" displayFormat="#,###">
    					</xf:input>
    				</xf:group>
    			</xf:group>
    			<xf:group tagname="tr" style="">
    				<xf:group class="w2tb_th" tagname="th">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:textbox id="" label="합 계(공급가액+부가세+부대비)" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group class="w2tb_td" tagname="td">
    					<w2:attributes></w2:attributes>
    					<xf:input adjustMaxLength="false" class="inp ri" id="ibx_totlReqAmt" style="width: 150px" title="합 계(공급가액+부가세+부대비)"
    						disabled="true" dataType="number" displayFormat="#,###">
    					</xf:input>
    				</xf:group>
    			</xf:group>
    		</xf:group>
    		<xf:group class="titleSection" id="" style="">
    			<xf:group class="le" id="">
    				<w2:textbox class="tit_tbl" id="" label="계정내역" style="" tagname="h3"></w2:textbox>
    			</xf:group>
    			<xf:group class="btnarea" id="" style="">
    				<xf:trigger class="btn icon down" id="btn_accnt_inform" style="" type="button"
    					ev:onclick="scwin.btn_accnt_inform_onclick">
    					<xf:label><![CDATA[계정종료 구매요구 주의사항]]></xf:label>
    				</xf:trigger>
    				<xf:trigger class="btn" id="btn_accnt_add" style="" type="button" ev:onclick="scwin.btn_accnt_add_onclick">
    					<xf:label><![CDATA[계정추가]]></xf:label>
    				</xf:trigger>
    				<xf:trigger class="bt_minus" id="btn_accnt_del" style="" type="button" ev:onclick="scwin.btn_accnt_del_onclick">
    					<xf:label><![CDATA[삭제]]></xf:label>
    				</xf:trigger>
    			</xf:group>
    		</xf:group>
    		<w2:gridView class="grid" dataList="data:dlt_accnt" defaultCellHeight="28" evenRowBackgroundColor="#f7faff" id="grd_accnt"
    			noResultMessage="조회 결과가 없습니다." noResultMessageClass="noResult" rowMouseOverColor="#e7f0fb" rowNumBackgroundColor="#fff"
    			rowNumHeaderValue="No." rowNumVisible="true" rowNumWidth="40" rowStatusHeaderValue="상태" rowStatusVisible="false" rowStatusWidth="50"
    			scrollByColumn="false" scrollByColumnAdaptive="false" selectedCellColor="#fbf2cd" selectedRowColor="#fbf2cd" style="height: 106px;"
    			summaryAuto="true" visibleRowNum="5" fixedColumn="3" ev:oncellclick="scwin.grd_accnt_oncellclick">
    			<w2:caption id="caption1" style="" value="this is a grid caption."></w2:caption>
    			<w2:header id="header1" style="">
    				<w2:row id="row1" style="">
    					<w2:column checkboxLabel="전체선택" displayMode="label" id="column7" inputType="checkbox" readOnly="false"
    						style="height:28px;" value="선택" width="35" fixColumnWidth="true">
    					</w2:column>
    					<w2:column displayMode="label" id="column5" inputType="text" style="height:28px;" value="계정정보" width="80"></w2:column>
    					<w2:column displayMode="label" id="column3" inputType="text" style="height:28px;" value="계정명" width="200"></w2:column>
    					<w2:column displayMode="label" id="column20" inputType="text" style="height:28px;" value="계정책임자" width="80"></w2:column>
    					<w2:column displayMode="label" id="column29" inputType="text" style="height:28px;" value="회계코드" width="85"></w2:column>
    					<w2:column displayMode="label" id="column32" inputType="text" style="height:28px" value="회계코드명" width="100"></w2:column>
    					<w2:column displayMode="label" id="column30" inputType="text" style="height:28px" value="비용코드" width="70"></w2:column>
    					<w2:column displayMode="label" id="column44" inputType="text" style="height:28px" value="비용코드명" width="90"></w2:column>
    					<w2:column displayMode="label" id="column42" inputType="text" style="height:28px" value="구매요구금액" width="90"></w2:column>
    					<w2:column displayMode="label" id="column40" inputType="text" style="height:28px" value="공급가액" width="90"></w2:column>
    					<w2:column displayMode="label" id="column38" inputType="text" style="height:28px" value="부가세" width="85"></w2:column>
    					<w2:column displayMode="label" id="column36" inputType="text" style="height:28px" value="부대비" width="85"></w2:column>
    					<w2:column width="90" inputType="text" style="height:28px" id="column54" value="통제번호" displayMode="label"></w2:column>
    					<w2:column width="90" inputType="text" style="height:28px" id="column52" value="첨부파일(심의)" displayMode="label"></w2:column>
    					<w2:column width="80" inputType="text" style="height:28px" id="column50" value="심의여부" displayMode="label"></w2:column>
    					<w2:column width="70" inputType="text" style="height:28px" id="column56" value="과세여부" displayMode="label"></w2:column>
    					<w2:column width="70" inputType="text" style="height:28px" id="column58" value="과제구분" displayMode="label"></w2:column>
    					<w2:column width="110" inputType="text" style="height:28px" id="column62" value="NTIS장비번호" displayMode="label"></w2:column>
    				</w2:row>
    			</w2:header>
    			<w2:gBody id="gBody1" style="">
    				<w2:row id="row2" style="">
    					<w2:column displayMode="label" id="chk" inputType="checkbox" readOnly="false" style="height:28px;" width="35"
    						fixColumnWidth="true">
    					</w2:column>
    					<w2:column displayMode="label" escape="false" id="accnt_no" inputType="link" readOnly="true" style="height:28px;"
    						width="80">
    					</w2:column>
    					<w2:column displayMode="label" escape="false" id="accnt_no_nm" inputType="text" readOnly="true" style="height:28px;"
    						width="200" class="le">
    					</w2:column>
    					<w2:column displayMode="label" id="accnt_respn_psn_nm" inputType="text" readOnly="true" style="height:28px;"
    						width="80">
    					</w2:column>
    					<w2:column displayMode="label" id="accnt_cd" inputType="text" readOnly="true" style="height:28px;" width="85"></w2:column>
    					<w2:column displayMode="label" id="accnt_cd_abbr" inputType="text" readOnly="true" style="height:28px" width="100"
    						class="le">
    					</w2:column>
    					<w2:column displayMode="label" id="expns_cd" inputType="text" readOnly="true" style="height:28px" width="70"></w2:column>
    					<w2:column displayMode="label" id="expns_cd_nm" inputType="text" readOnly="true" style="height:28px" value=""
    						width="90" class="le">
    					</w2:column>
    					<w2:column displayMode="label" id="accnt_demnd_amt" inputType="text" readOnly="true" style="height:28px" value=""
    						width="90" class="ri" dataType="number" displayFormat="#,###">
    					</w2:column>
    					<w2:column displayMode="label" id="sum_amt" inputType="text" readOnly="true" style="height:28px" value="" width="90"
    						class="ri" dataType="number" displayFormat="#,###">
    					</w2:column>
    					<w2:column displayMode="label" id="add_tax" inputType="text" readOnly="true" style="height:28px" value="" width="85"
    						class="ri" dataType="number" displayFormat="#,###">
    					</w2:column>
    					<w2:column displayMode="label" id="incidntl_expns" inputType="text" readOnly="true" style="height:28px" value=""
    						width="85" class="ri" dataType="number" displayFormat="#,###">
    					</w2:column>
    					<w2:column width="90" inputType="text" style="height:28px" id="ctrl_no" value="" displayMode="label"
    						readOnly="true">
    					</w2:column>
    					<w2:column width="90" inputType="text" style="height:28px" id="attach_file_no" value="" displayMode="label"
    						readOnly="true">
    					</w2:column>
    					<w2:column width="80" inputType="select" style="height:28px" id="consttn_clsf" value="" displayMode="label"
    						readOnly="true" viewType="icon">
    					</w2:column>
    					<w2:column width="70" inputType="select" style="height:28px" id="tax_cd" value="" displayMode="label" allOption=""
    						chooseOption="" ref="">
    						<w2:choices>
    							<w2:item>
    								<w2:label><![CDATA[과세]]></w2:label>
    								<w2:value><![CDATA[FTX001]]></w2:value>
    							</w2:item>
    							<w2:item>
    								<w2:label><![CDATA[비과세]]></w2:label>
    								<w2:value><![CDATA[FTX002]]></w2:value>
    							</w2:item>
    						</w2:choices>
    					</w2:column>
    					<w2:column width="70" inputType="select" style="height:28px" id="bsns_cd_inout" value="" displayMode="label"></w2:column>
    					<w2:column width="110" inputType="text" style="height:28px" id="ntis_reg_no" value="" displayMode="label"></w2:column>
    				</w2:row>
    			</w2:gBody>
    			<w2:footer style="" id="footer1">
    				<w2:row style="" id="row3">
    					<w2:column width="40" inputType="text" style="height:20px" id="column81" value="" displayMode="label"></w2:column>
    					<w2:column width="360" inputType="text" style="height:20px;" id="column80" value="합 계" displayMode="label" colSpan="3"
    						rowSpan="">
    					</w2:column>
    					<w2:column width="85" inputType="text" style="height:20px" id="column77" value="" displayMode="label"></w2:column>
    					<w2:column width="100" inputType="text" style="height:20px" id="column76" value="" displayMode="label"></w2:column>
    					<w2:column width="70" inputType="text" style="height:20px" id="column75" value="" displayMode="label"></w2:column>
    					<w2:column width="90" inputType="text" style="height:20px" id="column74" value="" displayMode="label"></w2:column>
    					<w2:column width="90" inputType="expression" style="height:20px" id="accnt_demnd_amt_sum" value="" displayMode="label" dataType="number" displayFormat="#,###" class="ri" expression="sum('accnt_demnd_amt')"></w2:column>
    					<w2:column width="90" inputType="expression" style="height:20px" id="sum_amt_sum" value="" displayMode="label" dataType="number" displayFormat="#,###" class="ri" expression="sum('sum_amt')"></w2:column>
    					<w2:column width="85" inputType="expression" style="height:20px" id="add_tax_sum" value="" displayMode="label" dataType="number" displayFormat="#,###" class="ri" expression="sum('add_tax')"></w2:column>
    					<w2:column width="85" inputType="expression" style="height:20px" id="incidntl_expns_sum" value="" displayMode="label" dataType="number" displayFormat="#,###" class="ri" expression="sum('incidntl_expns')"></w2:column>
    					<w2:column width="90" inputType="text" style="height:20px" id="column69" value="" displayMode="label"></w2:column>
    					<w2:column width="90" inputType="text" style="height:20px" id="column68" value="" displayMode="label"></w2:column>
    					<w2:column width="80" inputType="text" style="height:20px" id="column67" value="" displayMode="label"></w2:column>
    					<w2:column width="70" inputType="text" style="height:20px" id="column66" value="" displayMode="label"></w2:column>
    					<w2:column width="70" inputType="text" style="height:20px" id="column65" value="" displayMode="label"></w2:column>
    					<w2:column width="110" inputType="text" style="height:20px" id="column64" value="" displayMode="label"></w2:column>
    				</w2:row>
    			</w2:footer>
    		</w2:gridView>
    		<xf:group id="grp_attach">
    			<xf:group style="" id="" class="titleSection">
    				<w2:textbox tagname="h3" style="" id="" label="첨부서류" class="tit_tbl"></w2:textbox>
    				<xf:group id="" class="re">
    					<w2:span class="note red" id="spa_span1" label="* etube입찰 및 회계코드 51120030 이고 금액이 3000만원이상일 때 등록"
    						style="">
    					</w2:span>
    					<xf:group style="" id="grp_btn_file002" class="btnarea">
    						<xf:trigger ev:onclick="scwin.btn_file_attnt_onclick" style="" id="btn_file_attnt" type="button"
    							class="btn icon down">
    							<xf:label><![CDATA[주의사항]]></xf:label>
    						</xf:trigger>
    						<xf:trigger ev:onclick="scwin.btn_form_down_onclick" style="" id="btn_form_down" type="button"
    							class="btn icon down">
    							<xf:label><![CDATA[양식다운로드]]></xf:label>
    						</xf:trigger>
    					</xf:group>


    				</xf:group>
    			</xf:group>
    			<xf:group tagname="table" style="" id="grp_file002" class="w2tb tbl ">
    			<w2:attributes>
    				<w2:summary></w2:summary>
    			</w2:attributes>
    			<xf:group tagname="caption" text="증빙정보"></xf:group>
    			<xf:group tagname="colgroup">
    				<xf:group tagname="col" style="width:140px;"></xf:group>
    				<xf:group tagname="col" style=""></xf:group>
    				<xf:group tagname="col" style="width:140px;"></xf:group>
    				<xf:group tagname="col" style=""></xf:group>
    			</xf:group>
    			<xf:group tagname="tr">
    				<xf:group tagname="th" class="w2tb_th">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:textbox tagname="span" style="text-decoration:underline;color:#0000ff;" id="" label="중앙조달첨부서류"></w2:textbox>
    				</xf:group>
    				<xf:group tagname="td" class="w2tb_td">
    					<w2:attributes>
    						<w2:colspan>3</w2:colspan>
    						<w2:rowspan>1</w2:rowspan>
    					</w2:attributes>
    					<xf:group style="height:125px;">
    						<xf:group style="height:100%;" id="upload_A" class="full"></xf:group>
    					</xf:group>
    				</xf:group>
    			</xf:group>
    		</xf:group><w2:gridView ev:oncellclick="scwin.grd_file_oncellclick" scrollByColumnAdaptive="false" rowNumVisible="false" rowStatusWidth="50" selectedRowColor="#fbf2cd" summaryAuto="true" rowNumHeaderValue="No." scrollByColumn="false" defaultCellHeight="28" rowStatusHeaderValue="상태" noResultMessage="조회 결과가 없습니다." rowNumBackgroundColor="#fff" noResultMessageClass="noResult" rowStatusVisible="false" selectedCellColor="#fbf2cd" rowNumWidth="60" dataList="data:dlt_file" evenRowBackgroundColor="#f7faff" style="height: 85px;margin-top:4px;" autoFit="allColumn" id="grd_file" visibleRowNum="8" class="grid" rowMouseOverColor="#e7f0fb">
    			<w2:caption style="" id="caption1" value="this is a grid caption."></w2:caption>
    			<w2:header style="" id="header1">
    				<w2:row style="" id="row1">
    					<w2:column width="150" inputType="text" style="height:0px;" id="column7" value="첨부서류" displayMode="label"></w2:column>
    					<w2:column width="400" inputType="text" style="height:0px;" id="column5" value="설명" displayMode="label"></w2:column>
    				</w2:row>
    			</w2:header>
    			<w2:gBody style="" id="gBody1">
    				<w2:row style="" id="row2">
    					<w2:column width="150" inputType="link" readOnly="true" style="height:28px;background-color:#f2f5f8;" id="cd_nm" value="" class="le" escape="false" displayMode="label">
    					</w2:column>
    					<w2:column width="400" inputType="text" readOnly="true" style="height:28px;" id="cd_desc" escape="false" class="le" displayMode="label">
    					</w2:column>
    				</w2:row>
    			</w2:gBody>
    		</w2:gridView></xf:group><xf:group class="btnGroup" id="" style="">
    			<xf:group class="le" id="" style=""></xf:group>
    			<xf:group class="ri" id="">
    				<xf:trigger class="btn pro" disabled="true" id="btn_postSave" style="" type="button" ev:onclick="scwin.btn_postSave_onclick">
    					<xf:label><![CDATA[담당자저장]]></xf:label>
    				</xf:trigger>
    				<xf:trigger class="btn pro" id="btn_del" style="" type="button" ev:onclick="scwin.btn_del_onclick" disabled="true">
    					<xf:label><![CDATA[삭제]]></xf:label>
    				</xf:trigger>
    				<xf:trigger class=" btn pro conf" id="btn_save" style="" type="button" ev:onclick="scwin.btn_save_onclick">
    					<xf:label><![CDATA[저장]]></xf:label>
    				</xf:trigger>
    			</xf:group>
			</xf:group>
    	</xf:group>
    </body>
</html>
