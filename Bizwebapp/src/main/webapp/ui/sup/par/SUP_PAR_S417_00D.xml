<?xml version="1.0" encoding="UTF-8"?>
<html xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ev="http://www.w3.org/2001/xml-events"
    xmlns:w2="http://www.inswave.com/websquare" xmlns:xf="http://www.w3.org/2002/xforms">
    <head meta_programName="파트너기업 정보변경 신청서">
    	<w2:type>DEFAULT</w2:type>
        <w2:buildDate/>
        <xf:model>
        	<xf:instance>
        		<data xmlns="" />
        	</xf:instance>
        	<w2:dataCollection baseNode="map">
        		<w2:dataMap baseNode="map" id="dma_search">
        			<w2:keyInfo>
        				<w2:key id="req_no" name="req_no" dataType="text"></w2:key>
        				<w2:key id="cust_no" name="cust_no" dataType="text"></w2:key>
        				<w2:key id="chng_clsf" name="chng_clsf" dataType="text"></w2:key>
        				<w2:key id="syspayno" name="syspayno" dataType="text"></w2:key>
        			</w2:keyInfo>
        		</w2:dataMap>
        		<w2:dataMap baseNode="map" id="dma_info">
        			<w2:keyInfo>
        				<w2:key id="cmpy_nm_krchar" name="cmpy_nm_krchar" dataType="text"></w2:key>
        				<w2:key id="cust_no" name="cust_no" dataType="text"></w2:key>
        				<w2:key id="bsns_psn_regst_no" name="bsns_psn_regst_no" dataType="text"></w2:key>
        				<w2:key id="reprs_psn" name="reprs_psn" dataType="text"></w2:key>
        				<w2:key id="cmpy_reprs_tel" name="cmpy_reprs_tel" dataType="text"></w2:key>
        				<w2:key id="appont_no" name="appont_no" dataType="text"></w2:key>
        				<w2:key id="chgn_resn" name="chgn_resn" dataType="text"></w2:key>
        				<w2:key id="attach_file_no" name="attach_file_no" dataType="text"></w2:key>
        				<w2:key id="req_ymd" name="req_ymd" dataType="text"></w2:key>
        				<w2:key id="apr_state" name="apr_state" dataType="text"></w2:key>
        				<w2:key id="rmk" name="rmk" dataType="text"></w2:key>
        				<w2:key id="req_ymd_st" name="req_ymd_st" dataType="text"></w2:key>
        				<w2:key id="req_ymd_ed" name="req_ymd_ed" dataType="text"></w2:key>
        				<w2:key id="req_no" name="req_no" dataType="text"></w2:key>
        				<w2:key id="par_mgmt_no" name="par_Mgmt_No" dataType="text"></w2:key>
        				<w2:key id="apr_state_nm" name="apr_State_Nm" dataType="text"></w2:key>
        				<w2:key id="chng_clsf" name="chng_Clsf" dataType="text"></w2:key>
        				<w2:key id="cud_type" name="cud_type" dataType="text"></w2:key>
        				<w2:key id="regst_syspayno" name="regst_syspayno" dataType="text"></w2:key>
        				<w2:key id="service_id" name="service_id" dataType="text"></w2:key>
        				<w2:key id="updt_syspayno" name="updt_syspayno" dataType="text"></w2:key>
        				<w2:key id="doc_id" name="doc_id" dataType="text"></w2:key>
        				<w2:key id="approval" name="approval" dataType="text"></w2:key>
        				<w2:key id="syspayno" name="syspayno" dataType="text"></w2:key>
        				<w2:key id="depthed" name="depthed" dataType="text"></w2:key>
        				<w2:key id="before_mento" name="before_mento" dataType="text"></w2:key>
        				<w2:key id="after_mento" name="after_mento" dataType="text"></w2:key>
        			</w2:keyInfo>
        		</w2:dataMap>
        		<w2:dataList baseNode="list" repeatNode="map" id="dlt_preMento" saveRemovedData="true">
        			<w2:columnInfo>
        				<w2:column id="cust_no" name="cust_no" dataType="text"></w2:column>
        				<w2:column id="syspayno" name="syspayno" dataType="text"></w2:column>
        				<w2:column id="empno" name="empno" dataType="text"></w2:column>
        				<w2:column id="nm" name="nm" dataType="text"></w2:column>
        				<w2:column id="dept_cd" name="dept_cd" dataType="text"></w2:column>
        				<w2:column id="dept_nm" name="dept_nm" dataType="text"></w2:column>
        				<w2:column id="posi_cd" name="posi_cd" dataType="text"></w2:column>
        				<w2:column id="posi_nm" name="posi_nm" dataType="text"></w2:column>
        				<w2:column id="region_centr" name="region_centr" dataType="text"></w2:column>
        				<w2:column id="mngmt_region" name="mngmt_region" dataType="text"></w2:column>
        				<w2:column id="mngmt_regionm" name="mngmt_regionm" dataType="text"></w2:column>
        				<w2:column id="retire_ymd" name="retire_ymd" dataType="text"></w2:column>
        				<w2:column id="cud_type" name="cud_type" dataType="text"></w2:column>
        				<w2:column id="regst_syspayno" name="regst_syspayno" dataType="text"></w2:column>
        				<w2:column id="chng_clsf" name="chng_clsf" dataType="text"></w2:column>
        			</w2:columnInfo>
        		</w2:dataList>
        		<w2:dataList baseNode="list" repeatNode="map" id="dlt_preCharg" saveRemovedData="true">
        			<w2:columnInfo>
        				<w2:column id="cust_no" name="cust_no" dataType="text"></w2:column>
        				<w2:column id="seq" name="seq" dataType="text"></w2:column>
        				<w2:column id="appont_no" name="appont_no" dataType="text"></w2:column>
        				<w2:column id="nm" name="nm" dataType="text"></w2:column>
        				<w2:column id="posi_nm" name="posi_nm" dataType="text"></w2:column>
        				<w2:column id="mobile_no" name="mobile_no" dataType="text"></w2:column>
        				<w2:column id="email" name="email" dataType="text"></w2:column>
        				<w2:column id="tel_no" name="tel_no" dataType="text"></w2:column>
        				<w2:column id="cud_type" name="cud_type" dataType="text"></w2:column>
        				<w2:column id="req_no" name="req_no" dataType="text"></w2:column>
        				<w2:column id="regst_syspayno" name="regst_syspayno" dataType="text"></w2:column>
        				<w2:column id="chng_clsf" name="chng_clsf" dataType="text"></w2:column>
        			</w2:columnInfo>
        		</w2:dataList>
        		<w2:dataList baseNode="list" repeatNode="map" id="dlt_mentoSelect" saveRemovedData="true">
        			<w2:columnInfo>
        				<w2:column id="syspayno" name="syspayno" dataType="text"></w2:column>
        				<w2:column id="empno" name="empno" dataType="text"></w2:column>
        				<w2:column id="nm" name="nm" dataType="text"></w2:column>
        				<w2:column id="dept_cd" name="dept_cd" dataType="text"></w2:column>
        				<w2:column id="dept_typ" name="dept_typ" dataType="text"></w2:column>
        				<w2:column id="mngmt_regionm" name="mngmt_regionm" dataType="text"></w2:column>
        				<w2:column id="dept_nm" name="dept_nm" dataType="text"></w2:column>
        				<w2:column id="posi_cd" name="posi_cd" dataType="text"></w2:column>
        				<w2:column id="posi_nm" name="posi_nm" dataType="text"></w2:column>
        				<w2:column id="cd_nm" name="cd_nm" dataType="text"></w2:column>
        				<w2:column id="region_centr" name="region_centr" dataType="text"></w2:column>
        				<w2:column id="cud_type" name="cud_type" dataType="text"></w2:column>
        				<w2:column id="req_no" name="req_no" dataType="text"></w2:column>
        				<w2:column id="par_mgmt_no" name="par_mgmt_no" dataType="text"></w2:column>
        				<w2:column id="cust_no" name="cust_no" dataType="text"></w2:column>
        				<w2:column id="regst_syspayno" name="regst_syspayno" dataType="text"></w2:column>
        				<w2:column id="chng_clsf" name="chng_clsf" dataType="text"></w2:column>
        			</w2:columnInfo>
        		</w2:dataList>
        		<w2:dataList baseNode="list" repeatNode="map" id="dlt_charge" saveRemovedData="true">
        			<w2:columnInfo>
        				<w2:column id="nm" name="nm" dataType="text"></w2:column>
        				<w2:column id="posi_nm" name="posi_nm" dataType="text"></w2:column>
        				<w2:column id="mobile_no" name="mobile_no" dataType="text"></w2:column>
        				<w2:column id="email" name="email" dataType="text"></w2:column>
        				<w2:column id="tel_no" name="tel_no" dataType="text"></w2:column>
        				<w2:column id="cud_type" name="cud_type" dataType="text"></w2:column>
        				<w2:column id="req_no" name="req_no" dataType="text"></w2:column>
        				<w2:column id="cust_no" name="cust_no" dataType="text"></w2:column>
        				<w2:column id="regst_syspayno" name="regst_syspayno" dataType="text"></w2:column>
        				<w2:column id="chng_clsf" name="chng_clsf" dataType="text"></w2:column>
        			</w2:columnInfo>
        		</w2:dataList>
        	</w2:dataCollection>
        	<w2:workflowCollection></w2:workflowCollection>
        	<xf:submission id="sbm_selectParInfoAll" ref="data:json,dma_search" target="" action="SvcSUPPARSUPR01.pwkjson" method="post"
        		mediatype="application/json" encoding="UTF-8" instance="" replace="" errorHandler="" customHandler="" mode="asynchronous"
        		processMsg="" ev:submit="" ev:submitdone="" ev:submiterror="" abortTrigger="">
        	</xf:submission>
        	<xf:submission id="sbm_deleteSupParPart" ref="data:json,dma_info" target="" action="SvcSUPPARSUPD01.pwkjson" method="post"
        		mediatype="application/json" encoding="UTF-8" instance="" replace="" errorHandler="" customHandler="" mode="asynchronous"
        		processMsg="" ev:submit="" ev:submitdone="" ev:submiterror="" abortTrigger="">
        	</xf:submission>
        	<xf:submission id="sbm_saveParInfoAll"
        		ref='data:json,[{"id":"dma_info","key":"supParCustMentrChnghVo"},{"id":"dlt_preMento","key":"beforeMentoList"},{"id":"dlt_preCharg","key":"beforeChargList"},{"id":"dlt_mentoSelect","key":"afterMentoList"},{"id":"dlt_charge","key":"afterChargList"}]'
        		target="data:json,dma_search" action="SvcSUPPARSPTSI02.pwkjson" method="post" mediatype="application/json" encoding="UTF-8"
        		instance="" replace="" errorHandler="" customHandler="" mode="asynchronous" processMsg="" ev:submit="" ev:submitdone=""
        		ev:submiterror="" abortTrigger="">
        	</xf:submission>
        	<xf:submission id="sbm_supportPsn" ref="data:json,dma_search" target="" action="SvcSUPPARSUPR02.pwkjson" method="post" mediatype="application/json" encoding="UTF-8"
        		instance="" replace="" errorHandler="" customHandler="" mode="asynchronous" processMsg="" ev:submit="" ev:submitdone=""
        		ev:submiterror="" abortTrigger="">
        	</xf:submission>
        </xf:model>
        <script type="text/javascript" lazy="false"><![CDATA[
	 /****************************************************
 	 * 화면 설명 : 파트너기업 정보변경 신청상세
 	 * 변경 이력 : 2023-09-15	송선화 	최초 작성
 	 * 서비스아이디 : S417
 	 ****************************************************/ 
	 scwin.data={};     
	
	/**
	 * 페이지 로딩 이벤트
	 */ 
	scwin.onpageload = function() {
		//parameter
		var param = com.getParameter();
		scwin.data.serviceId="S417";
		scwin.data.doc_id="S07";	
		scwin.data.syspayno;
		scwin.data.apr_yn;
		
		com.biz.disabledButtons(dma_info.get("apr_state"), dma_info.get("req_no"));
		
		// 기관정보 enter key event
		com.setEnterKeyEvent(grp_vend, scwin.btn_searchEnt_onclick);	
		
		scwin.initPage(param);		
	};
	
	scwin.onpageunload = function() {
		
	};
	
	/**
	 * 목록 버튼 클릭 이벤트
	 */
	scwin.btn_pre_onclick = function(e) {
		scwin.backToList();
	};
	
	/**
	 * 인쇄 버튼 클릭 이벤트
	 */
	scwin.btn_print_onclick = function(e) {
		com.oz.openPopup( {
		    formAlias : tbx_outputReqNo.getValue().substring(0,3),	//dma_info.get("req_no")
		    reqNo : tbx_outputReqNo.getValue(), //dma_info.get("req_no"),
		    snapFrame : grp_base_info.getID()
		});
	};
	
	/**
	 * 기업찾기 버튼 클릭 이벤트
	 */
	scwin.btn_searchEnt_onclick = function(e) {
		scwin.vend_popup();	
	};
	
	/**
	 * 기업찾기 조회 팝업 오픈
	 */
	 scwin.vend_popup = function(e) {
		 let data = {
		      vend_abbr : ibx_cmpyNmKrchar.getValue(),		//기업명
		      biz_clsf : "SE",
			  isPartner : "Y"		      
		};
		// 공통 팝업 오픈
		com.pop.open( com.pop.TYPE.VEND, data, function(ret){
			console.log("ret===="+JSON.stringify(ret));
		    if(ret){
			    scwin.setVendInfo(ret);
		        scwin.search();
		    }		    
		});		 
	};
	
	/**
	 * 기업 정보 셋팅
	 */
	 scwin.setVendInfo = function(info) {
		ibx_custNo.setValue(info["vend_cd"]);						//기업번호
        ibx_cmpyNmKrchar.setValue(info["vend_abbr"]);		//기업명
        tbx_bsns_psn_regst_no.setValue(info["bsns_psn_regst_no"]);				//사업자등록번호
        tbx_reprs_psn.setValue(info["reprs_psn_nm"]);			//대표자
        tbx_cmpy_reprs_tel.setValue(info["tel_no"]);			//대표전화 번호
        tbx_appointNo.setValue(info["appont_no"]);			//파트너 기업 지정번호
             	
     	dma_search.set("cust_no", info["vend_cd"]);   		 
	};	 
	
	/**
     * 화면 초기화
     */	
	scwin.initPage = function(param){
		var req_no = param.req_no;				//신청번호 req_no
		var cust_no = param.cust_no;				//고객번호 cust_no
		var appoint_no = param.appoint_no;	//파트너 기업 지정번호 par_mgmt_no
		var param4 = param.param4;
		
		// dataMap 초기화
		com.initDataMap(dma_search);	
		
		// 첨부파일 컴포넌트 초기화
		com.file.init();
		
		com.file.create(upload_A.getID(), {fileKey: scwin.data.serviceId, mode: 'edit'});	
		
		if(param4 !="" && param4 != undefined){
			dma_search.set("req_no",  param.param2);
			//req_no = param.param2;
		}
		
		if(req_no != ""){
			tbx_outputReqNo.setValue( req_no );
			ibx_custNo.setValue(cust_no);
			tbx_appointNo.setValue(appoint_no);
		}
		
		if(cust_no != ""){
			ibx_custNo.setValue(cust_no);
		}
		
		if(req_no == "" || req_no == undefined){
			grid_3.show();
			grid_4.show();	
			grid_5.show();
			grid_6.show();
			
			grid_7.hide();
			grid_8.hide();
			
			tbx_outputReqNo.setValue( "" );	//신청번호 초기화
			
			//btn_save.setDisabled( false );	//trigger5 저장버튼
	    	//btn_del.setDisabled( false );	//trigger4 삭제버튼
	    	//btn_apr.setDisabled( false );	//trigger2 결재신청 버튼					
		} else {
			scwin.search();
		}
	};
	
	/**
	 * 조회 실행 
	*/
	scwin.search = function() {
		if(tbx_outputReqNo.getValue() != ""){
			dma_search.set("req_no", tbx_outputReqNo.getValue());
		} else if(ibx_custNo.getValue() != ""){
			dma_search.set("cust_no", ibx_custNo.getValue());
		}
	
		com.execute(sbm_selectParInfoAll, {
			successCallback : function(e) {
				dma_info.setJSON(e.responseJSON.elData.supParCustMentrChnghVo);
				console.log("====="+JSON.stringify(e.responseJSON.elData));
				var aprState = dma_info.get("apr_state");
				com.biz.disabledButtons(dma_info.get("apr_state"), dma_info.get("req_no"));
				//첨부파일 세팅
				var vMode = "edit";
				if (dma_info.get("apr_state") >= "XAD020") {
					vMode = "view";
				}			
						
						console.log("attach_file_no==="+dma_info.get("attach_file_no").trim());
				var attachFileNo = dma_info.get("attach_file_no").trim();
				com.file.create(upload_A.getID(), {fileKey: (attachFileNo == "") ? scwin.data.serviceId :attachFileNo, mode: vMode});
				
				if(aprState == "XAD005" && aprState == "XAD010"){
						grid_3.hide();
				    	grid_7.show();
				    	dlt_preMento.setJSON(e.responseJSON.elData.beforeMentoList, false);	//grid7.setXML(dataVector);
				    	
				    	//btn_save.setDisabled( true );		//trigger5 저장버튼
				    	//btn_del.setDisabled( true );		//trigger4 삭제버튼
				    	//btn_apr.setDisabled( true );		//trigger2 결재신청 버튼				
				} else {
						grid_7.hide();
				    	grid_3.show();
				    	dlt_preMento.setJSON(e.responseJSON.elData.beforeMentoList, false);	//grid3.setXML(dataVector);
				}
				
				if(dma_info.get("apr_state") == ""){
				    	grid_7.hide();
				    	grid_3.show();
				    	dlt_preMento.setJSON(e.responseJSON.elData.beforeMentoList, false); //grid3.setXML(dataVector);
				    	//btn_save.setDisabled( false );
				    	//btn_del.setDisabled( false );
				    	//btn_apr.setDisabled( false );	
				 }
			
				 //dataVector = dataHash.get("msgSptCustChargMS03").toDocument();			
			    																
					if((aprState != 'XAD005') && (aprState != 'XAD010')){
				    	grid_4.hide();
				    	grid_8.show();
				    	dlt_preCharg.setJSON(e.responseJSON.elData.beforeChargList, false);  //grid_8.setXML(dataVector);
				    } else {
				    	grid_8.hide();
				    	grid_4.show();
				    	dlt_preCharg.setJSON(e.responseJSON.elData.beforeChargList, false);  //grid4.setXML(dataVector);				    
				    }

					if(aprState==null){
						grid_8.hide();
						grid_4.show();
						dlt_preCharg.setJSON(e.responseJSON.elData.beforeChargList, false);  //grid4.setXML(dataVector);
					}
					
					//if(dlt_mentoSelect.getRowCount() != 0 ){ //afterMentoList
					dlt_mentoSelect.setJSON(e.responseJSON.elData.afterMentoList, false);
					//grid5.setXML(dataVector);
					//}
				
					//afterChargList
					dlt_charge.setJSON(e.responseJSON.elData.afterChargList, false);
					//grid6.setXML(dataVector);
			   		
					var mngmt_regionm = grid_3.getCellData( 0 , "mngmt_regionm" );
					var befr_mentr_id="";
        			var after_mentr_id="";
        			 
					for(var k=0;k<grid_3.getRowCount();k++){
			
						if(grid_3.getCellData( k , "retire_ymd" ).trim()==""){
								                       
							befr_mentr_id+=grid_3.getCellData( k , "syspayno")+";";
						}
					}
			
					for(var j=0;j<grid_5.getRowCount();j++){
						
							after_mentr_id+=grid_5.getCellData( j , "syspayno")+";";
					
					}
					
					dma_info.set("before_mento", befr_mentr_id);
					dma_info.set("after_mento", after_mentr_id);
					
					if(grid_3.getRowCount() > 0){
						var after_syspayno=grid_5.getCellData( 0 , "syspayno" );
						//if(!scwin.select_supportPsn(after_syspayno)){}
						scwin.select_supportPsn(after_syspayno, "load");						
					}				
			}
		});	
		
	};
	
	/**
	 * 사업지원 실장 조회
	*/
	scwin.select_supportPsn = function(syspayno, type, row) {
		dma_search.set("syspayno", syspayno);
		//WebSquare.ModelUtil.setInstanceValue("request/support_psn/syspayno/@value", after_syspayno);
			com.execute(sbm_supportPsn, {
				successCallback : function(e) {
					//gfnExecuteSubmission("support_psn");
					//dma_info.setJSON(e.responseJSON.elData.SupParCustMentrChnghVo);
					console.log("depthed====="+e.responseJSON.elData);
					if(type == "load"){
						if(e.responseJSON.elData != undefined){
							if(e.responseJSON.elData.depthed){
								dma_info.set("syspayno", e.responseJSON.elData.depthed);
							}
						}
					} else if(type == "btn"){
						if(e.responseJSON.elData != undefined){
							if(e.responseJSON.elData.depthed){
								dma_info.set("syspayno", e.responseJSON.elData.depthed);
							}
						} else {
							com.alert("멘토등록대상 직원이 아닙니다.");
							dlt_mentoSelect.removeRow(row);
						}
					}
					/**var depthed = e.responseJSON.elData.depthed;
					console.log("depthed===="+depthed);		
					dma_info.set("syspayno", depthed);**/
				},
				exceptionCallback : function(e) {
					// 실패시
					console.log("!!exceptionCallback!!");
				}
			});		
				
	};
	
	
	/**
	* 파트너기업 멘토 정보 + 버튼 클릭
	*/
	scwin.btn_parPlus_onclick = function(e) {
		var rowCnt = dlt_mentoSelect.getRowCount();
		
		dlt_mentoSelect.insertRow(rowCnt);
	};
	
	/**
	* 파트너기업 멘토 정보 - 버튼 클릭
	*/
	scwin.btn_parMinus_onclick = function(e) {
		var rowCnt = grid_5.getFocusedRowIndex();
		
		if(rowCnt < 0){
			com.alert("삭제할 row를 선택하세요.");
		} else {
			dlt_mentoSelect.removeRow(rowCnt);
		}
	};
	
	/**
	* 파트너기업 담당자 정보 + 버튼 클릭
	*/
	scwin.btn_chargPlus_onclick = function(e) {
		var rowCnt = dlt_charge.getRowCount();
		
		dlt_charge.insertRow(rowCnt);
	};
	
	/**
	* 파트너기업 담당자 정보 - 버튼 클릭
	*/
	scwin.btn_chargMinus_onclick = function(e) {
		var rowCnt = grid_6.getFocusedRowIndex();
		
		if(rowCnt < 0){
			com.alert("삭제할 row를 선택하세요.");
		} else {
			dlt_charge.removeRow(rowCnt);
		}
	};
	
	/**
	* 파트너기업 멘토정보 - 멘토검색 이미지 버튼 클릭
	*/
	scwin.grid_5_oncellclick = function(row,col,colId) {
		var rowCnt = grid_5.getFocusedRowIndex();

		if(colId == "btn_hum"){
			let data = {
			      empno : dlt_mentoSelect.getCellData(row, "nm")			//멘토 성명
			};
			// 공통 팝업 오픈
			com.pop.open( com.pop.TYPE.HUM, data, function(ret){
				console.log("====ret===="+JSON.stringify(ret));
			    if(ret){
			        dlt_mentoSelect.setCellData(row, "empno", ret.empno);	 
			        dlt_mentoSelect.setCellData(row, "nm", ret.nm);
			        dlt_mentoSelect.setCellData(row, "syspayno", ret.syspayno);
			        dlt_mentoSelect.setCellData(row, "mngmt_regionm", ret.dept_typ_nm);
			        dlt_mentoSelect.setCellData(row, "dept_nm", ret.dept_nm);
			        dlt_mentoSelect.setCellData(row, "posi_nm", ret.posi_nm);
			        
			        var syspayno = ret.syspayno;
			        scwin.select_supportPsn(syspayno, "btn", row);			        
			    }
			});			
		}
		
		//if(grid_3.getRowCount() > 0){
				//if(!scwin.select_supportPsn(dlt_mentoSelect.getCellData(0, "syspayno"))){
				//	com.alert("멘토등록대상 직원이 아닙니다.");
				//	return false;
				//}
			//}
	};
	
	/**
	* 삭제 버튼 클릭
	*/
	scwin.btn_del_onclick = function(e) {
		scwin.remove();
	};
	
	/**
	* 삭제 실행
	*/
	scwin.remove = function(){
		//dma_info.set("req_no", com.getLoginInfo("sn"));
		
		com.confirm("message.xom.wq.022"/*삭제 하시겠습니까?*/, function(ret) {
			if (ret) {
					com.execute(sbm_deleteSupParPart, {
						successCallback : function(e) { // 성공 콜백
							com.alert("message.xom.wq.023"/*정상적으로 처리되었습니다.*/, function() {
								com.moveList("S416", {mod :"delete"});
								//scwin.backToList();
							});
						}
					});
			}
		});

	};
	
	/**
	 * 목록 페이지로 이동
	 */	
	scwin.backToList = function(){
		var data ={};
		com.moveList("S416");
	};	
	
	/**
	 * 입력필수조건 검사
	 */
	 scwin.preSave = function(){
			if(ibx_custNo.getValue()==""){
						com.alert("고객명은 필수 입니다");
						ibx_cmpyNmKrchar.focus();
						return false;
					}
			if(ibx_chgn_resn.getValue()==""){
				com.alert("변경사유는 필수 입니다");
				ibx_chgn_resn.focus();
				return false;
			}
			
			if(grid_5.getRowCount()==0){
				com.alert(" 변경멘토는 필수입니다");
				return false;
			}else{
				for(var i=0;i<grid_5.getRowCount();i++){
					if(grid_5.getCellData( i , grid_5.getColumnIndex("syspayno") )==""){
						com.alert(" 변경멘토는 필수입니다");
						return false;
					}
				}
			}
				
		return true;
	}	
	
	/**
	 * 저장 버튼 클릭 이벤트
	 */		 
	scwin.btn_save_onclick = function(e) {
		dma_info.set("approval", "false");
		dma_info.set("apr_state", "XAD005");
		if(!scwin.preSave())
		{
			return;
		}
		
		com.confirm("message.xom.wq.017" /*저장 하시겠습니까?*/, function(ret) {
			if (ret) {
				scwin.save();
			}
		});	
	};
	
	/**
	 * 저장
	 */
	scwin.save = function() {
		com.file.transport(function(attachObj){	
			dma_info.set("attach_file_no", attachObj.upload_A);
			//dma_info.set("req_no", tbx_outputReqNo.getValue());
			//dma_info.set("cust_no", ibx_custNo.getValue());
			//dma_info.set("par_mgmt_no",  tbx_appointNo.getValue());
			
			dma_info.set("doc_id",scwin.data.doc_id);
			dma_info.set("service_id",scwin.data.serviceId);
			//dma_info.set("regst_syspayno", com.getLoginInfo("sn"));
			//dma_info.set("updt_syspayno", com.getLoginInfo("sn"));
			
			var attaches = [];
			if(attachObj.upload_A !=""){
				attaches.push(attachObj.upload_A);
			}
			dma_info.set("validAttachNo", attaches.join(","));
			
			//grid_3 preMento
			if(dlt_preMento.getRowCount() > 0){
				for(var i=0; i < dlt_preMento.getRowCount(); i++){
					dlt_preMento.setCellData(i, "cud_type", "C");
					dlt_preMento.setCellData(i, "regst_syspayno", com.getLoginInfo("sn"));
					dlt_preMento.setCellData(i, "chng_clsf", "1");
				}
			}
			
			//grid_5 dlt_mentoSelect
			if(dlt_mentoSelect.getRowCount() > 0){
				for(var j=0; j < dlt_mentoSelect.getRowCount(); j++){		
					dlt_mentoSelect.setCellData(j, "cud_type", "C");
					dlt_mentoSelect.setCellData(j, "req_no", tbx_outputReqNo.getValue());
					dlt_mentoSelect.setCellData(j, "par_mgmt_no", tbx_appointNo.getValue());
					dlt_mentoSelect.setCellData(j, "cust_no", ibx_custNo.getValue());
					dlt_mentoSelect.setCellData(j, "regst_syspayno", com.getLoginInfo("sn"));
					dlt_mentoSelect.setCellData(j, "chng_clsf", "2");
				}
			}
			
			//grid_4 dlt_preCharg
			if(dlt_preCharg.getRowCount() > 0){
				for(var k=0; k < dlt_preCharg.getRowCount(); k++){		
					dlt_preCharg.setCellData(k, "cud_type", "C");
					dlt_preCharg.setCellData(k, "req_no", tbx_outputReqNo.getValue());
					dlt_preCharg.setCellData(k, "cust_no", ibx_custNo.getValue());
					dlt_preCharg.setCellData(k, "regst_syspayno", com.getLoginInfo("sn"));
					dlt_preCharg.setCellData(k, "chng_clsf", "1");
				}
			}	
			
			//grid_6 dlt_charge
			//cbx_updateMngYn checkbox 선택시 = "Y" msgSptCustChargMS03 -> msgSptCustChargMS04
			if(cbx_updateMngYn.getValue() == "Y"){	//dlt_preCharg
				for(var l=0; l < dlt_preCharg.getRowCount(); l++){		
					dlt_preCharg.setCellData(l, "cud_type", "C");
					dlt_preCharg.setCellData(l, "req_no", tbx_outputReqNo.getValue());
					dlt_preCharg.setCellData(l, "cust_no", ibx_custNo.getValue());
					dlt_preCharg.setCellData(l, "regst_syspayno", com.getLoginInfo("sn"));
					dlt_preCharg.setCellData(l, "chng_clsf", "1");
				}
			} else {	// dlt_charge
				for(var m=0; m < dlt_charge.getRowCount(); m++){		
					dlt_charge.setCellData(m, "cud_type", "C");
					dlt_charge.setCellData(m, "req_no", tbx_outputReqNo.getValue());
					dlt_charge.setCellData(m, "cust_no", ibx_custNo.getValue());
					dlt_charge.setCellData(m, "regst_syspayno", com.getLoginInfo("sn"));
					dlt_charge.setCellData(m, "chng_clsf", "2");
				}
			}
			
			com.execute(sbm_saveParInfoAll, {
				successCallback : function(e) { // 성공 콜백
				console.log("scwin.data.apr_yn==="+scwin.data.apr_yn);
					if(scwin.data.apr_yn != "Y"){
					 	com.alert("message.xom.wq.023"/*정상적으로 처리되었습니다.*/, function() {
							scwin.search();
						});	
					} else {
					//	결재신청 후에는 결재진행함으로 이동
//						com.openTabMenu("A005", {});
						com.movePageMenu("A001", { "reqNo" :  dma_info.get("req_no")});	
					}
					
					//var req_no = dma_info.get("req_no");
					//tbx_outputReqNo.setValue(label);
					
					//if(scwin.data.apr_yn == "Y"){
						
					//}
//					if(dma_info.get("approval")=="true"){
//						com.movePageMenu("A001", { "reqNo" :  dma_info.get("req_no")});						
//					}else{
//						com.alert("message.xom.wq.023"/*정상적으로 처리되었습니다.*/, function() {
//							scwin.search();
//						});						
//					}
				} 
			});
		});
	}
	
	/**
	 * 결재신청버튼 클릭 이벤트
	 */
	scwin.btn_apr_onclick = function(e) {
		scwin.data.apr_yn = "Y";
		dma_info.set("approval", "true");
		dma_info.set("apr_state", "XAD010");
		
		dma_info.set("req_no",   		tbx_outputReqNo.getValue());
		dma_info.set("req_ymd", 	com.getServerDateTime());
		dma_info.set("cmpy_nm_krchar", 		ibx_cmpyNmKrchar.getValue());
		dma_info.set("bsns_psn_regst_no",	tbx_bsns_psn_regst_no.getValue());
		dma_info.set("reprs_psn", 				tbx_reprs_psn.getValue());
		dma_info.set("appont_no",				tbx_appointNo.getValue());
		dma_info.set("chgn_resn",				ibx_chgn_resn.getValue());
		dma_info.set("rmk",							ibx_rmk.getValue());

		if(!scwin.preSave())
		{
			return;
		}	
			
		//com.confirm("message.xom.wq.017" /*저장 하시겠습니까?*/, function(ret) {
			//if (ret) {
				scwin.save();				
			//} 
		//});	
	};
	
]]></script>
    </head>
    <body ev:onpageload="scwin.onpageload" ev:onpageunload="scwin.onpageunload">
    	<w2:wframe id="wfm_title" src="/cm/xml/contentTitle.xml" style=""></w2:wframe>
    	<xf:group class="pageWrap" id="grp_base_info" style="">
    		<xf:group class="searchSection step" id="" style="">
    			<xf:group class="le" id="">
    				<xf:trigger class="btn " id="btn_pre" style="" type="button" ev:onclick="scwin.btn_pre_onclick">
    					<xf:label><![CDATA[목록]]></xf:label>
    				</xf:trigger>
    			</xf:group>
    			<xf:group class="btnbox" id="">
    				<xf:trigger class="btn icon print" id="btn_print" style="display:none;" type="button" ev:onclick="scwin.btn_print_onclick">
    					<xf:label><![CDATA[인쇄]]></xf:label>
    				</xf:trigger>
    				<xf:trigger class="btn blue" id="btn_apr" style="" type="button" disabled="true" ev:onclick="scwin.btn_apr_onclick">
    					<xf:label><![CDATA[결재신청]]></xf:label>
    				</xf:trigger>
    			</xf:group>
    		</xf:group>
    		<xf:group class="titleSection" id="" style="">
    			<w2:textbox class="tit_tbl" id="" label="파트너기업 정보" style="" tagname="h3"></w2:textbox>
    		</xf:group>
    		<xf:group class="w2tb tbl" id="" style="" tagname="table">
    			<w2:attributes>
    				<w2:summary></w2:summary>
    			</w2:attributes>
    			<xf:group tagname="caption"></xf:group>
    			<xf:group tagname="colgroup">
    				<xf:group style="width:220px;" tagname="col"></xf:group>
    				<xf:group style="" tagname="col"></xf:group>
    				<xf:group style="width:220px;" tagname="col"></xf:group>
    				<xf:group style="" tagname="col"></xf:group>
    			</xf:group>
    			<xf:group tagname="tr">
    				<xf:group class="w2tb_th" tagname="th">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:span class="bul_req" id="" label="[필수입력항목]" style=""></w2:span>
    					<w2:textbox class="blue" id="" label="기업명" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group class="w2tb_td" tagname="td">
    					<w2:attributes></w2:attributes>
    					<xf:group class="flex" id="" style="">
    						<xf:group class="inpSch fix" id="grp_vend" style="width:120px;">
    							<xf:input adjustMaxLength="false" class="inp" id="ibx_cmpyNmKrchar" style="" ref="data:dma_info.cmpy_nm_krchar" ev:onkeyup="scwin.ibx_cmpyNmKrchar_onkeyup"></xf:input>
    							<xf:trigger class="btn" id="btn_searchEnt" style="" type="button" ev:onclick="scwin.btn_searchEnt_onclick">
    								<xf:label><![CDATA[검색]]></xf:label>
    							</xf:trigger>
    						</xf:group>
    						<xf:input adjustMaxLength="false" class="inp full" id="ibx_custNo" style="max-width: 150px;" disabled="true" ref="data:dma_info.cust_no"></xf:input>
    					</xf:group>
    				</xf:group>
    				<xf:group class="w2tb_th" tagname="th">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:textbox id="" label="사업자등록번호" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group class="w2tb_td" tagname="td">
    					<w2:attributes></w2:attributes>
    					<w2:textbox class="txt" id="tbx_bsns_psn_regst_no" label="" style="" tagname="span" ref="data:dma_info.bsns_psn_regst_no"></w2:textbox>
    				</xf:group>
    			</xf:group>
    			<xf:group tagname="tr">
    				<xf:group class="w2tb_th" tagname="th">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:textbox id="" label="대표자" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group class="w2tb_td" tagname="td">
    					<w2:attributes></w2:attributes>
    					<w2:textbox class="txt" id="tbx_reprs_psn" label="" style="" tagname="span" ref="data:dma_info.reprs_psn"></w2:textbox>
    				</xf:group>
    				<xf:group class="w2tb_th" tagname="th">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:textbox id="" label="파트너기업 지정번호" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group class="w2tb_td" tagname="td">
    					<w2:attributes></w2:attributes>
    					<w2:textbox class="txt" id="tbx_appointNo" label="" style="" tagname="span" ref="data:dma_info.appont_no"></w2:textbox>
    				</xf:group>
    			</xf:group>
    			<xf:group tagname="tr">
    				<xf:group class="w2tb_th" tagname="th">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:textbox id="" label="대표전화 번호" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group class="w2tb_td" tagname="td">
    					<w2:attributes></w2:attributes>
    					<w2:textbox class="txt" id="tbx_cmpy_reprs_tel" label="" style="" tagname="span" ref="data:dma_info.cmpy_reprs_tel"></w2:textbox>
    				</xf:group>
    				<xf:group class="w2tb_th" tagname="th">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:textbox id="" label="신청번호" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group class="w2tb_td" tagname="td">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:textbox class="txt" id="tbx_outputReqNo" label="" style="" tagname="span" ref="data:dma_info.req_no"></w2:textbox>
    				</xf:group>
    			</xf:group>
    			<xf:group tagname="tr">
    				<xf:group class="w2tb_th" tagname="th">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:span class="bul_req" id="" label="[필수입력항목]" style=""></w2:span>
    					<w2:textbox class="blue" id="" label="변경사유" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group class="w2tb_td" tagname="td">
    					<w2:attributes>
    						<w2:colspan>3</w2:colspan>
    						<w2:rowspan>1</w2:rowspan>
    					</w2:attributes>
    					<xf:input adjustMaxLength="false" class="inp full le" id="ibx_chgn_resn" style="" title="" ref="data:dma_info.chgn_resn"></xf:input>
    				</xf:group>
    			</xf:group>
    			<xf:group tagname="tr">
    				<xf:group class="w2tb_th" tagname="th">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:textbox id="" label="소연심의 회차" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group class="w2tb_td" tagname="td">
    					<w2:attributes>
    						<w2:colspan>3</w2:colspan>
    						<w2:rowspan>1</w2:rowspan>
    					</w2:attributes>
    					<xf:input adjustMaxLength="false" class="inp full le" id="ibx_rmk" style="" title="" ref="data:dma_info.rmk" disabled="true"></xf:input>
    				</xf:group>
    			</xf:group>
    			<xf:group tagname="tr">
    				<xf:group tagname="th" class="w2tb_th">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:textbox id="" label="첨부파일" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group tagname="td" class="w2tb_td">
    					<w2:attributes>
    						<w2:colspan>3</w2:colspan>
    						<w2:rowspan>1</w2:rowspan>
    					</w2:attributes>
    					<xf:group class="fileuploadBox" id="upload_A" style="height:150px;"></xf:group>
    				</xf:group>
    			</xf:group>
    		</xf:group>
    		<xf:group class="lybox col2" id="" style="">
    			<xf:group class="ly_column" id="">
    				<xf:group class="titleSection" id="" style="">
    					<w2:textbox class="tit_tbl" id="" label="파트너기업 멘토정보" style="" tagname="h3"></w2:textbox>
    				</xf:group>
    				<w2:gridView autoFit="allColumn" class="grid" dataList="data:dlt_preMento" defaultCellHeight="28"
    					evenRowBackgroundColor="#f7faff" id="grid_7" noResultMessage="조회 결과가 없습니다." noResultMessageClass="noResult_2"
    					rowMouseOverColor="#e7f0fb" rowNumBackgroundColor="#fff" rowNumHeaderValue="No." rowNumVisible="true" rowNumWidth="60"
    					rowStatusHeaderValue="상태" rowStatusVisible="false" rowStatusWidth="50" scrollByColumn="false" scrollByColumnAdaptive="false"
    					selectedCellColor="#fbf2cd" selectedRowColor="#fbf2cd" style="height:205px;" visibleRowNum="10" noResultMessageVisible="true"
    					noResultMessageStyle="display: block !important;" visibleRowNumFix="6" sortable="true">
    					<w2:caption id="caption1" style="" value="this is a grid caption."></w2:caption>
    					<w2:header id="header1" style="">
    						<w2:row id="row1" style="">
    							<w2:column displayMode="label" id="column9" inputType="text" style="height:28px;" value="변경전(변경당시에 멘토입니다)"
    								width="380" colSpan="5">
    							</w2:column>
    							<w2:column width="70" inputType="text" style="height:28px" id="column29" displayMode="label"></w2:column>
    							<w2:column width="70" inputType="text" style="height:28px" id="column26" displayMode="label"></w2:column>
    						</w2:row>
    						<w2:row style="" id="row3">
    							<w2:column width="140" inputType="text" style="height:28px;" id="column25" value="성명" displayMode="label"
    								colSpan="2">
    							</w2:column>
    							<w2:column width="70" inputType="text" style="height:28px;" id="column23" value="관리지역"
    								displayMode="label">
    							</w2:column>
    							<w2:column width="70" inputType="text" style="height:28px;" id="column22" value="부서" displayMode="label">
    							</w2:column>
    							<w2:column width="70" inputType="text" style="height:28px;" id="column21" value="직책" displayMode="label">
    							</w2:column>
    							<w2:column width="70" inputType="text" style="height:28px" id="column30" displayMode="label"></w2:column>
    							<w2:column width="70" inputType="text" style="height:28px" id="column27" displayMode="label"></w2:column>
    						</w2:row>
    					</w2:header>
    					<w2:gBody id="gBody1" style="">
    						<w2:row id="row2" style="">
    							<w2:column displayMode="label" id="cust_no" inputType="text" readOnly="true" style="height:28px;"
    								width="70" textAlign="center">
    							</w2:column>
    							<w2:column displayMode="label" id="empno" inputType="text" readOnly="true" style="height:28px;"
    								width="70" textAlign="center">
    							</w2:column>
    							<w2:column class="le" displayMode="label" escape="false" id="nm" inputType="text" readOnly="true"
    								style="height:28px;" width="70" textAlign="left">
    							</w2:column>
    							<w2:column displayMode="label" id="dept_nm" inputType="text" readOnly="true" style="height:28px;"
    								width="70" textAlign="left">
    							</w2:column>
    							<w2:column displayMode="label" id="posi_nm" inputType="text" readOnly="true" style="height:28px;"
    								width="70" textAlign="left">
    							</w2:column>
    							<w2:column width="70" inputType="text" style="height:28px" id="syspayno" displayMode="label"
    								hidden="true">
    							</w2:column>
    							<w2:column width="70" inputType="text" style="height:28px" id="retire_ymd" displayMode="label"
    								hidden="true">
    							</w2:column>
    						</w2:row>
    					</w2:gBody>
    				</w2:gridView>
    				<w2:gridView autoFit="allColumn" class="grid mt0" dataList="data:dlt_preMento" defaultCellHeight="28"
    					evenRowBackgroundColor="#f7faff" id="grid_3" noResultMessage="조회 결과가 없습니다." noResultMessageClass="noResult_2"
    					noResultMessageStyle="display: block !important;" noResultMessageVisible="true" rowMouseOverColor="#e7f0fb"
    					rowNumBackgroundColor="#fff" rowNumHeaderValue="No." rowNumVisible="true" rowNumWidth="60" rowStatusHeaderValue="상태"
    					rowStatusVisible="false" rowStatusWidth="50" scrollByColumn="false" scrollByColumnAdaptive="false" selectedCellColor="#fbf2cd"
    					selectedRowColor="#fbf2cd" style="height:205px;" visibleRowNum="10" visibleRowNumFix="6" sortable="true">
    					<w2:caption id="caption1" style="" value="this is a grid caption."></w2:caption>
    					<w2:header id="header1" style="">
    						<w2:row id="row1" style="">
    							<w2:column colSpan="5" displayMode="label" id="column9" inputType="text" style="height:28px;" value="변경전"
    								width="380">
    							</w2:column>
    							<w2:column width="70" inputType="text" style="height:28px" id="column28" displayMode="label"></w2:column>
    							<w2:column width="70" inputType="text" style="height:28px" id="column26" displayMode="label"></w2:column>
    						</w2:row>
    						<w2:row id="row3" style="">
    							<w2:column colSpan="2" displayMode="label" id="column25" inputType="text" style="height:28px;" value="성명"
    								width="140">
    							</w2:column>
    							<w2:column displayMode="label" id="column23" inputType="text" style="height:28px;" value="관리지역"
    								width="70">
    							</w2:column>
    							<w2:column displayMode="label" id="column22" inputType="text" style="height:28px;" value="부서" width="70"></w2:column>
    							<w2:column displayMode="label" id="column21" inputType="text" style="height:28px;" value="직책" width="70"></w2:column>
    							<w2:column width="70" inputType="text" style="height:28px" id="column29" displayMode="label"></w2:column>
    							<w2:column width="70" inputType="text" style="height:28px" id="column27" displayMode="label"></w2:column>
    						</w2:row>
    					</w2:header>
    					<w2:gBody id="gBody1" style="">
    						<w2:row id="row2" style="">
    							<w2:column displayMode="label" id="empno" inputType="text" readOnly="true" style="height:28px;" width="70"
    								textAlign="center">
    							</w2:column>
    							<w2:column displayMode="label" id="nm" inputType="text" readOnly="true" style="height:28px;" width="70"
    								textAlign="center">
    							</w2:column>
    							<w2:column class="le" displayMode="label" escape="false" id="mngmt_regionm" inputType="text" readOnly="true"
    								style="height:28px;" width="70" textAlign="left">
    							</w2:column>
    							<w2:column displayMode="label" id="dept_nm" inputType="text" readOnly="true" style="height:28px;" width="70"
    								textAlign="left">
    							</w2:column>
    							<w2:column displayMode="label" id="posi_nm" inputType="text" readOnly="true" style="height:28px;" width="70"
    								textAlign="left">
    							</w2:column>
    							<w2:column width="70" inputType="text" style="height:28px" id="retire_ymd" displayMode="label"
    								hidden="true">
    							</w2:column>
    							<w2:column width="70" inputType="text" style="height:28px" id="syspayno" displayMode="label"
    								hidden="true">
    							</w2:column>
    						</w2:row>
    					</w2:gBody>
    				</w2:gridView>

    			</xf:group>
    			<xf:group class="ly_column" id="" style="">
    				<xf:group class="titleSection" id="" style="">
    					<xf:group class="le" id=""></xf:group>
    					<xf:group class="ri" id="">
    						<xf:group class="btnarea" id="" style="">
    							<xf:trigger class="bt_plus" id="btn_parPlus" style="" type="button" ev:onclick="scwin.btn_parPlus_onclick">
    								<xf:label><![CDATA[추가]]></xf:label>
    							</xf:trigger>
    							<xf:trigger class="bt_minus" id="btn_parMinus" style="" type="button" ev:onclick="scwin.btn_parMinus_onclick">
    								<xf:label><![CDATA[삭제]]></xf:label>
    							</xf:trigger>
    						</xf:group>
    					</xf:group>
    				</xf:group>
    				<w2:gridView autoFit="allColumn" class="grid" dataList="data:dlt_mentoSelect" defaultCellHeight="28"
    					evenRowBackgroundColor="#f7faff" id="grid_5" noResultMessage="조회 결과가 없습니다." noResultMessageClass="noResult_2"
    					rowMouseOverColor="#e7f0fb" rowNumBackgroundColor="#fff" rowNumHeaderValue="No." rowNumVisible="true" rowNumWidth="60"
    					rowStatusHeaderValue="상태" rowStatusVisible="false" rowStatusWidth="50" scrollByColumn="false" scrollByColumnAdaptive="false"
    					selectedCellColor="#fbf2cd" selectedRowColor="#fbf2cd" style="height: 205px;" visibleRowNum="6" noResultMessageVisible="true"
    					noResultMessageStyle="display: block !important;" ev:oncellclick="scwin.grid_5_oncellclick" sortable="true">
    					<w2:caption id="caption1" style="" value="this is a grid caption."></w2:caption>
    					<w2:header id="header1" style="">
    						<w2:row id="row1" style="">
    							<w2:column displayMode="label" id="column9" inputType="text" style="height:28px;" value="변경후" width="450"
    								colSpan="6">
    							</w2:column>
    							<w2:column width="70" inputType="text" style="height:28px" id="column26" displayMode="label"></w2:column>
    						</w2:row>
    						<w2:row style="" id="row3">
    							<w2:column width="190" inputType="text" style="height:28px;" id="column25" value="성명" displayMode="label"
    								colSpan="3">
    							</w2:column>
    							<w2:column width="70" inputType="text" style="height:28px;" id="column23" value="관리지역"
    								displayMode="label">
    							</w2:column>
    							<w2:column width="70" inputType="text" style="height:28px;" id="column22" value="부서" displayMode="label">
    							</w2:column>
    							<w2:column width="70" inputType="text" style="height:28px;" id="column21" value="직책" displayMode="label">
    							</w2:column>
    							<w2:column width="70" inputType="text" style="height:28px" id="column27" displayMode="label"></w2:column>
    						</w2:row>
    					</w2:header>
    					<w2:gBody id="gBody1" style="">
    						<w2:row id="row2" style="">
    							<w2:column displayMode="label" id="empno" inputType="text" readOnly="true" style="height:28px;"
    								width="70" textAlign="center">
    							</w2:column>
    							<w2:column displayMode="label" id="nm" inputType="text" readOnly="true" style="height:28px;" width="70" textAlign="center">
    							</w2:column>
    							<w2:column width="50" inputType="button" style="height:28px" id="btn_hum" value="조회" displayMode="label"
    								class="btn_sch">
    							</w2:column>
    							<w2:column class="le" displayMode="label" escape="false" id="mngmt_regionm" inputType="text" readOnly="true"
    								style="height:28px;" width="70" textAlign="left">
    							</w2:column>
    							<w2:column displayMode="label" id="dept_nm" inputType="text" readOnly="true" style="height:28px;"
    								width="70" textAlign="left">
    							</w2:column>
    							<w2:column displayMode="label" id="posi_nm" inputType="text" readOnly="true" style="height:28px;"
    								width="70" textAlign="left">
    							</w2:column>
    							<w2:column width="70" inputType="text" style="height:28px" id="syspayno" displayMode="label"
    								hidden="true">
    							</w2:column>
    						</w2:row>
    					</w2:gBody>
    				</w2:gridView>
    			</xf:group>
    		</xf:group>
    		<xf:group class="lybox col2" id="" style="">
    			<xf:group class="ly_column" id="">
    				<xf:group class="titleSection" id="" style="">
    					<xf:group class="le" id="">
    						<w2:textbox class="tit_tbl" id="" label="파트너기업 담당자 정보" style="" tagname="h3"></w2:textbox>
    					</xf:group>
    					<xf:group class="ri" id="">
    						<xf:select appearance="full" class="chkGroup" cols="" id="cbx_updateMngYn" ref="" renderType="checkboxgroup" rows=""
    							selectedindex="-1" style="">
    							<xf:choices>
    								<xf:item>
    									<xf:label><![CDATA[변경 없음]]></xf:label>
    									<xf:value><![CDATA[]]></xf:value>
    								</xf:item>
    							</xf:choices>
    						</xf:select>
    					</xf:group>
    				</xf:group>
    				<w2:gridView autoFit="allColumn" class="grid mt0" dataList="data:dlt_preCharg" defaultCellHeight="28"
    					evenRowBackgroundColor="#f7faff" id="grid_8" noResultMessage="조회 결과가 없습니다." noResultMessageClass="noResult_2"
    					rowMouseOverColor="#e7f0fb" rowNumBackgroundColor="#fff" rowNumHeaderValue="No." rowNumVisible="true" rowNumWidth="60"
    					rowStatusHeaderValue="상태" rowStatusVisible="false" rowStatusWidth="50" scrollByColumn="false" scrollByColumnAdaptive="false"
    					selectedCellColor="#fbf2cd" selectedRowColor="#fbf2cd" style="height:205px;" visibleRowNum="10" noResultMessageVisible="true"
    					noResultMessageStyle="display: block !important;" visibleRowNumFix="6" sortable="true">
    					<w2:caption id="caption1" style="" value="this is a grid caption."></w2:caption>
    					<w2:header id="header1" style="">
    						<w2:row id="row1" style="">
    							<w2:column colSpan="5" displayMode="label" id="column9" inputType="text" style="height:28px;" value="변경전"
    								width="380">
    							</w2:column>
    						</w2:row>
    						<w2:row id="row3" style="">
    							<w2:column displayMode="label" id="column25" inputType="text" style="height:28px;" value="성명" width="70"></w2:column>
    							<w2:column displayMode="label" id="column24" inputType="text" style="height:28px;" value="직책" width="70"></w2:column>
    							<w2:column displayMode="label" id="column23" inputType="text" style="height:28px;" value="전화번호"
    								width="100">
    							</w2:column>
    							<w2:column displayMode="label" id="column22" inputType="text" style="height:28px;" value="휴대폰번호"
    								width="100">
    							</w2:column>
    							<w2:column displayMode="label" id="column21" inputType="text" style="height:28px;" value="이메일"
    								width="150">
    							</w2:column>
    						</w2:row>
    					</w2:header>
    					<w2:gBody id="gBody1" style="">
    						<w2:row id="row2" style="">
    							<w2:column displayMode="label" id="nm" inputType="text" readOnly="true" style="height:28px;" width="70" textAlign="center">
    							</w2:column>
    							<w2:column displayMode="label" id="posi_nm" inputType="text" readOnly="true" style="height:28px;"
    								width="70" textAlign="left">
    							</w2:column>
    							<w2:column class="le" displayMode="label" escape="false" id="tel_no" inputType="text" readOnly="true"
    								style="height:28px;" width="100" textAlign="center">
    							</w2:column>
    							<w2:column displayMode="label" id="mobile_no" inputType="text" readOnly="true" style="height:28px;"
    								width="100" textAlign="center">
    							</w2:column>
    							<w2:column displayMode="label" id="email" inputType="text" readOnly="true" style="height:28px;"
    								width="150" textAlign="left">
    							</w2:column>
    						</w2:row>
    					</w2:gBody>
    				</w2:gridView>
    				<w2:gridView autoFit="allColumn" class="grid mt0" dataList="data:dlt_preCharg" defaultCellHeight="28"
    					evenRowBackgroundColor="#f7faff" id="grid_4" noResultMessage="조회 결과가 없습니다." noResultMessageClass="noResult_2"
    					noResultMessageStyle="display: block !important;" noResultMessageVisible="true" rowMouseOverColor="#e7f0fb"
    					rowNumBackgroundColor="#fff" rowNumHeaderValue="No." rowNumVisible="true" rowNumWidth="60" rowStatusHeaderValue="상태"
    					rowStatusVisible="false" rowStatusWidth="50" scrollByColumn="false" scrollByColumnAdaptive="false" selectedCellColor="#fbf2cd"
    					selectedRowColor="#fbf2cd" style="height:205px;" visibleRowNum="10" visibleRowNumFix="6" sortable="true">
    					<w2:caption id="caption1" style="" value="this is a grid caption."></w2:caption>
    					<w2:header id="header1" style="">
    						<w2:row id="row1" style="">
    							<w2:column colSpan="5" displayMode="label" id="column9" inputType="text" style="height:28px;" value="변경전"
    								width="380">
    							</w2:column>
    						</w2:row>
    						<w2:row id="row3" style="">
    							<w2:column displayMode="label" id="column25" inputType="text" style="height:28px;" value="성명" width="70"></w2:column>
    							<w2:column displayMode="label" id="column24" inputType="text" style="height:28px;" value="직책" width="70"></w2:column>
    							<w2:column displayMode="label" id="column23" inputType="text" style="height:28px;" value="전화번호"
    								width="100">
    							</w2:column>
    							<w2:column displayMode="label" id="column22" inputType="text" style="height:28px;" value="휴대폰번호"
    								width="100">
    							</w2:column>
    							<w2:column displayMode="label" id="column21" inputType="text" style="height:28px;" value="이메일"
    								width="150">
    							</w2:column>
    						</w2:row>
    					</w2:header>
    					<w2:gBody id="gBody1" style="">
    						<w2:row id="row2" style="">
    							<w2:column displayMode="label" id="nm" inputType="text" readOnly="true" style="height:28px;" width="70" textAlign="center">
    							</w2:column>
    							<w2:column displayMode="label" id="posi_nm" inputType="text" readOnly="true" style="height:28px;"
    								width="70" textAlign="left">
    							</w2:column>
    							<w2:column class="le" displayMode="label" escape="false" id="tel_no" inputType="text" readOnly="true"
    								style="height:28px;" width="100" textAlign="center">
    							</w2:column>
    							<w2:column displayMode="label" id="mobile_no" inputType="text" readOnly="true" style="height:28px;"
    								width="100" textAlign="center">
    							</w2:column>
    							<w2:column displayMode="label" id="email" inputType="text" readOnly="true" style="height:28px;"
    								width="150" textAlign="left">
    							</w2:column>
    						</w2:row>
    					</w2:gBody>
    				</w2:gridView>
    			</xf:group>
    			<xf:group class="ly_column" id="" style="">
    				<xf:group class="titleSection" id="" style="">
    					<xf:group class="le" id=""></xf:group>
    					<xf:group class="ri" id="">
    						<xf:group class="btnarea" id="" style="">
    							<xf:trigger class="bt_plus" id="btn_chargPlus" style="" type="button" ev:onclick="scwin.btn_chargPlus_onclick">
    								<xf:label><![CDATA[추가]]></xf:label>
    							</xf:trigger>
    							<xf:trigger class="bt_minus" id="btn_chargMinus" style="" type="button" ev:onclick="scwin.btn_chargMinus_onclick">
    								<xf:label><![CDATA[삭제]]></xf:label>
    							</xf:trigger>
    						</xf:group>
    					</xf:group>
    				</xf:group>
    				<w2:gridView autoFit="allColumn" class="grid" dataList="data:dlt_charge" defaultCellHeight="28"
    					evenRowBackgroundColor="#f7faff" id="grid_6" noResultMessage="조회 결과가 없습니다." noResultMessageClass="noResult_2"
    					rowMouseOverColor="#e7f0fb" rowNumBackgroundColor="#fff" rowNumHeaderValue="No." rowNumVisible="true" rowNumWidth="60"
    					rowStatusHeaderValue="상태" rowStatusVisible="false" rowStatusWidth="50" scrollByColumn="false" scrollByColumnAdaptive="false"
    					selectedCellColor="#fbf2cd" selectedRowColor="#fbf2cd" style="height: 205px;" visibleRowNum="10" noResultMessageVisible="true"
    					noResultMessageStyle="display: block !important;" visibleRowNumFix="6" sortable="true">
    					<w2:caption id="caption1" style="" value="this is a grid caption."></w2:caption>
    					<w2:header id="header1" style="">
    						<w2:row id="row1" style="">
    							<w2:column colSpan="5" displayMode="label" id="column9" inputType="text" style="height:28px;" value="변경후"
    								width="580">
    							</w2:column>
    						</w2:row>
    						<w2:row id="row3" style="">
    							<w2:column displayMode="label" id="column25" inputType="text" style="height:28px;" value="성명" width="70">
    							</w2:column>
    							<w2:column hidden="false" width="70" inputType="text" style="height:28px;" id="column27" value="직책"
    								displayMode="label">
    							</w2:column>
    							<w2:column displayMode="label" id="column23" inputType="text" style="height:28px;" value="전화번호"
    								width="100">
    							</w2:column>
    							<w2:column displayMode="label" id="column22" inputType="text" style="height:28px;" value="휴대폰번호"
    								width="100">
    							</w2:column>
    							<w2:column displayMode="label" id="column21" inputType="text" style="height:28px;" value="이메일"
    								width="150">
    							</w2:column>
    						</w2:row>
    					</w2:header>
    					<w2:gBody id="gBody1" style="">
    						<w2:row id="row2" style="">
    							<w2:column displayMode="label" id="nm" inputType="text" style="height:28px;" width="70" textAlign="center"></w2:column>
    							<w2:column displayMode="label" id="posi_nm" inputType="text" style="height:28px;" width="70" textAlign="left"></w2:column>
    							<w2:column class="le" displayMode="label" escape="false" id="tel_no" inputType="text" style="height:28px;"
    								width="100" textAlign="center">
    							</w2:column>
    							<w2:column displayMode="label" id="mobile_no" inputType="text" style="height:28px;" width="100" textAlign="center"></w2:column>
    							<w2:column displayMode="label" id="email" inputType="text" style="height:28px;" width="150" textAlign="left"></w2:column>
    						</w2:row>
    					</w2:gBody>
    				</w2:gridView>
    			</xf:group>
    		</xf:group>
    		<xf:group class="btnGroup" id="" style="">
    			<xf:group class="le" id="" style=""></xf:group>
    			<xf:group class="ri" id="">
    				<xf:trigger class="btn pro" id="btn_del" style="" type="button" ev:onclick="scwin.btn_del_onclick">
    					<xf:label><![CDATA[삭제]]></xf:label>
    				</xf:trigger>
    				<xf:trigger class=" btn pro conf" id="btn_save" style="" type="button" ev:onclick="scwin.btn_save_onclick">
    					<xf:label><![CDATA[저장]]></xf:label>
    				</xf:trigger>
    			</xf:group>
    		</xf:group>
    	</xf:group>
    </body>
</html>
