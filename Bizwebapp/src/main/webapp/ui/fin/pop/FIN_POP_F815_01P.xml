<?xml version="1.0" encoding="UTF-8"?>
<html xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ev="http://www.w3.org/2001/xml-events"
    xmlns:w2="http://www.inswave.com/websquare" xmlns:xf="http://www.w3.org/2002/xforms">
    <head meta_programName="국세청발행계산서수정" meta_author="이영희" meta_date="2023.04.18.">
    	<w2:type>DEFAULT</w2:type>
        <w2:buildDate/>
        <xf:model>
            <xf:instance>
                <data xmlns=""/>
            </xf:instance>
            <w2:dataCollection baseNode="map">
            	<w2:dataList baseNode="list" repeatNode="map" id="dlt_billD" saveRemovedData="true">
            		<w2:columnInfo>
            			<w2:column id="tax_bill_no" name="계산서번호" dataType="text"></w2:column>
            			<w2:column id="odr" name="순번" dataType="text"></w2:column>
            			<w2:column id="issu_ymd" name="발행일자" dataType="text"></w2:column>
            			<w2:column id="item_cd" name="품목코드" dataType="text"></w2:column>
            			<w2:column id="item_nm" name="품명" dataType="text"></w2:column>
            			<w2:column id="std" name="규격" dataType="text"></w2:column>
            			<w2:column id="qty" name="수량" dataType="text"></w2:column>
            			<w2:column id="unit_price" name="단가" dataType="text"></w2:column>
            			<w2:column id="amt" name="공급가액" dataType="text"></w2:column>
            			<w2:column id="taxamt" name="세액" dataType="text"></w2:column>
            			<w2:column id="rmk" name="비고" dataType="text"></w2:column>
            		</w2:columnInfo>
            	</w2:dataList>
            	<w2:dataMap baseNode="map" id="dma_search" style="">
            		<w2:keyInfo>
            			<w2:key dataType="text" id="tax_bill_no" name="계산서번호"></w2:key>
            			<w2:key id="biz_clsf" name="업무구분" dataType="text"></w2:key>
            			<w2:key id="tax_type" name="계산서종류" dataType="text"></w2:key>
            		</w2:keyInfo>
            	</w2:dataMap>
            	<w2:dataMap baseNode="map" id="dma_bill">
            		<w2:keyInfo>
            			<w2:key id="tax_bill_no" name="계산서번호" dataType="text"></w2:key>
            			<w2:key id="old_tax_bill_no" name="계산서번호(구)" dataType="text"></w2:key>
            			<w2:key id="issu_ymd" name="발행일자" dataType="text"></w2:key>
            			<w2:key id="accnt_no" name="계정번호" dataType="text"></w2:key>
            			<w2:key id="wrte_psn" name="작성자" dataType="text"></w2:key>
            			<w2:key id="suply_value" name="공급가액" dataType="text"></w2:key>
            			<w2:key id="taxamt" name="세액" dataType="text"></w2:key>
            			<w2:key id="totl_amt" name="합계금액" dataType="text"></w2:key>
            			<w2:key id="bill_clsf" name="계산서구분" dataType="text"></w2:key>
            			<w2:key id="bill_clsf1" name="결제방법" dataType="text"></w2:key>
            			<w2:key id="demnd_recv_clsf" name="청구영수구분" dataType="number"></w2:key>
            			<w2:key id="bill_knd" name="계산서종류(U-수정)" dataType="number"></w2:key>
            			<w2:key id="wrte_dept" name="작성부서" dataType="number"></w2:key>
            			<w2:key id="wrte_dept_nm" name="작성부서명" dataType="text"></w2:key>
            			<w2:key id="unslip_no" name="결의번호" dataType="text"></w2:key>
            			<w2:key id="prcs_clsf" name="처리구분" dataType="text"></w2:key>
            			<w2:key id="attach_file_no" name="첨부파일" dataType="text"></w2:key>
            			<w2:key id="buyr_chrg_post1" name="담당자우편번호1" dataType="text"></w2:key>
            			<w2:key id="buyr_chrg_nm1" name="담당자이름1" dataType="text"></w2:key>
            			<w2:key id="buyr_chrg_tel1" name="담당자전화1" dataType="text"></w2:key>
            			<w2:key id="buyr_chrg_email1" name="담당자이메일1" dataType="text"></w2:key>
            			<w2:key id="buyr_chrg_mobl1" name="담당자핸드폰1" dataType="text"></w2:key>
            			<w2:key id="buyr_chrg_post2" name="담당자우편번호2" dataType="text"></w2:key>
            			<w2:key id="buyr_chrg_nm2" name="담당자이름2" dataType="text"></w2:key>
            			<w2:key id="buyr_chrg_tel2" name="담당자전화2" dataType="text"></w2:key>
            			<w2:key id="buyr_chrg_email2" name="담당자이메일2" dataType="text"></w2:key>
            			<w2:key id="buyr_chrg_mobl2" name="담당자핸드폰2" dataType="text"></w2:key>
            			<w2:key id="buyr_code" name="종사업장번호" dataType="text"></w2:key>
            			<w2:key id="bizcatg" name="업태" dataType="text"></w2:key>
            			<w2:key id="biztyp" name="업종" dataType="text"></w2:key>
            			<w2:key id="sude_psn" name="업체코드" dataType="text"></w2:key>
            			<w2:key id="vend_abbr" name="거래처명" dataType="text"></w2:key>
            			<w2:key id="bsns_psn_regst_no" name="사업자번호" dataType="text"></w2:key>
            			<w2:key id="buyr_gb" name="공급받는자구분코드" dataType="text"></w2:key>
            			<w2:key id="charg" name="담당자" dataType="text"></w2:key>
            			<w2:key id="tel_no" name="전화번호" dataType="text"></w2:key>
            			<w2:key id="email_addr" name="이메일주소" dataType="text"></w2:key>
            			<w2:key id="prcs_clsf_nm" name="처리구분명" dataType="text"></w2:key>
            			<w2:key id="state_code" name="전자발행여부코드" dataType="text"></w2:key>
            			<w2:key id="state_nm" name="전자발행여부" dataType="text"></w2:key>
            			<w2:key id="addr" name="주소" dataType="text"></w2:key>
            			<w2:key id="mody_code" name="수정사유" dataType="text"></w2:key>
            			<w2:key id="issu_id" name="전자세금계산서번호" dataType="text"></w2:key>
            			<w2:key id="decsn_no" name="역전자발행번호" dataType="text"></w2:key>
            			<w2:key id="reprs_psn_nm" name="대표자성명" dataType="text"></w2:key>
            			<w2:key id="rmk1" name="비고" dataType="text"></w2:key>
            			<w2:key id="validAttachNo" name="첨부파일번호(공통)" dataType="text"></w2:key>
            			<w2:key id="tax_type" name="세금계산서종류" dataType="text"></w2:key>
            			<w2:key id="cud_type" name="cud타입" dataType="text"></w2:key>
            			<w2:key id="biz_clsf" name="업무구분" dataType="text"></w2:key>
            			<w2:key id="issu_req_no" name="입금의뢰번호(기업지원)" dataType="text"></w2:key>
            			<w2:key id="recp_yn" name="역전자발행여부" dataType="text"></w2:key>
            			<w2:key id="tech_supt_req_no" name="기술지원번호" dataType="text"></w2:key>
            		</w2:keyInfo>
            	</w2:dataMap>
            	<w2:dataList baseNode="list" repeatNode="map" id="dlt_charg" saveRemovedData="true">
            		<w2:columnInfo>
            			<w2:column id="buyr_chrg_nm" name="공급받는자 담당자 성명" dataType="text"></w2:column>
            			<w2:column id="buyr_chrg_post" name="담당자부서" dataType="text"></w2:column>
            			<w2:column id="buyr_chrg_tel" name="담당자전화번호" dataType="text"></w2:column>
            			<w2:column id="buyr_chrg_email" name="공급받는자 담당자 이메일" dataType="text"></w2:column>
            			<w2:column id="buyr_chrg_mobl" name="공급받는자 담당자 모바일" dataType="text"></w2:column>
            		</w2:columnInfo>
            	</w2:dataList>
            	<w2:dataMap baseNode="map" id="dma_billCnt">
            		<w2:keyInfo>
            			<w2:key id="tax_bill_no" name="계산서번호" dataType="text"></w2:key>
            			<w2:key id="bill_knd" name="계산서종류(수정 U)" dataType="text"></w2:key>
            			<w2:key id="updt_cnt" name="수정발행전체개수" dataType="text"></w2:key>
            			<w2:key id="org_cnt" name="최초세금계산서 개수" dataType="text"></w2:key>
            			<w2:key id="updt_new_cnt" name="수정 발행개수" dataType="text"></w2:key>
            			<w2:key id="updt_minus_cnt" name="마이너스 발행 개수" dataType="text"></w2:key>
            			<w2:key id="updt_of_updt_cnt" name="수정의 수정 개수" dataType="text"></w2:key>
            		</w2:keyInfo>
            	</w2:dataMap>
            </w2:dataCollection>
            <w2:workflowCollection/>
            <!-- 조회 -->
            <xf:submission id="sbm_selectBill" ref="data:json,dma_search" target='data:json,[{"id":"dma_bill","key":"billHVo"},{"id":"dlt_billD","key":"billDList"},{"id":"dma_billCnt","key":"billCntVo"}]' 
        	    action="SvcFINTAXR02.pwkjson" method="post" mediatype="application/json"
        		encoding="UTF-8" instance="" replace="" errorHandler="" customHandler="" mode="asynchronous" processMsg="" ev:submit=""
        		ev:submitdone="" ev:submiterror="" abortTrigger="">
        	</xf:submission>
        	<!-- 저장 -->
            <xf:submission id="sbm_saveData" ref='data:json,dma_bill' target='' 
        	    action="SvcFINTAXU01.pwkjson" method="post" mediatype="application/json"
        		encoding="UTF-8" instance="" replace="" errorHandler="" customHandler="" mode="asynchronous" processMsg="" ev:submit=""
        		ev:submitdone="" ev:submiterror="" abortTrigger="">
        	</xf:submission>
        </xf:model>
        <script type="text/javascript" lazy="false"><![CDATA[
    /****************************************************
 	 * 화면 설명 : 매출계산서 역전자발행 수정 팝업
	 * 변경 이력 : 2023-04-18	이영희	최초 작성
 	 ****************************************************/  
 	 scwin.data={};
 	/**
	 * 페이지 로딩 이벤트
	 */   
	scwin.onpageload = function() {
		// enter key evend
		com.setEnterKeyEvent(grp_emp, scwin.btn_emp_onclick);
		
		// 공통코드
		var codeOptions = [ { code : "FBE", compID :"sbx_bill_clsf1" } // 수금구분(FBE)
		                   ,{ code : "FBF", compID :"sbx_bill_clsf" } // 계산서구분
		                ];
		com.setCmnCd(codeOptions, function() {
			var param = com.getParameter();
			dma_search.setJSON(param);
			
			if(param.biz_clsf == "S"){
				scwin.data.tech_supt_req_no = param.tech_supt_req_no;
				scwin.data.apr_state = param.apr_state;
				scwin.data.cls_ymd = param.cls_ymd
			}

			if(param.tax_bill_no == undefined || param.tax_bill_no == ""){
				scwin.data.accnt_no = param.accnt_no;
				
				btn_search.trigger("click");
			}else{
				btn_search.hide();
				
				scwin.search();
			}
		});
	};
	
	scwin.onpageunload = function() {
		
	};
	
	/**
	 * 조회
	 */ 
	scwin.search = function(){
		com.execute(sbm_selectBill, {
			successCallback : function(e){
				ibx_empno.setValue(dma_bill.get("wrte_psn").substring(2,8));
				
				dlt_charg.removeAll();
				dlt_charg.reform();				
				
				// 담당자 그리드 셋팅
				var data = {
					buyr_chrg_nm : dma_bill.get("buyr_chrg_nm1"),
					buyr_chrg_post : dma_bill.get("buyr_chrg_post1"),
					buyr_chrg_tel : dma_bill.get("buyr_chrg_tel1"),
					buyr_chrg_email : dma_bill.get("buyr_chrg_email1"),
					buyr_chrg_mobl : dma_bill.get("buyr_chrg_mobl1"),
				};
				dlt_charg.setRowJSON(0, data, false);
				
				data = {
					buyr_chrg_nm : dma_bill.get("buyr_chrg_nm2"),
					buyr_chrg_post : dma_bill.get("buyr_chrg_post2"),
					buyr_chrg_tel : dma_bill.get("buyr_chrg_tel2"),
					buyr_chrg_email : dma_bill.get("buyr_chrg_email2"),
					buyr_chrg_mobl : dma_bill.get("buyr_chrg_mobl2"),
				};
				
				dlt_charg.setRowJSON(1, data, false);
				
				if(dma_bill.get("accnt_no").trim() == ""){
					dma_bill.set("accnt_no", scwin.data.accnt_no);
				}
				
				if(dma_bill.get("unslip_no") != "" || dma_bill.get("issu_req_no") != "" || scwin.data.apr_state >= "XAD070"){
					btn_save.setDisabled(true);	
				}
			}
		});
	};	
	
	//------------------------------------------------------------- event -------------------------------/
	/**
	 * 계정번호 검색 버튼 클릭 이벤트
	 */ 
	scwin.btn_accnt_no_onclick = function(e) {
		var data={
			accnt_no : ibx_accnt_no.getValue().trim(),
			ref_yn : (ibx_accnt_no.getValue().trim() == "")?"Y" : "N"
		};
		
		com.pop.open(com.pop.TYPE.ACNNO, data, function(ret) {			
			dma_bill.set("accnt_no", ret.accnt_no);
			scwin.data.cls_ymd = ret.cls_ymd;
		});
	};
	
	/**
	 * 닫기 버튼 클릭 이벤트
	 */ 
	scwin.btn_close_onclick = function(e) {
		com.closePopup();
	};		
	
	/**
	 * 저장 버튼 클릭 이벤트
	 */
	scwin.btn_save_onclick = function(e) {
		if(!com.validateData(dma_bill,[
			{ id : "accnt_no", mandatory : true, allowChar : "A-Z0-9", maxLength : 8, minLength : 8},
			{ id : "sude_psn", mandatory : true},
			{ id : "issu_ymd", mandatory : true},
			{ id : "bill_clsf", mandatory : true},
			{ id : "bill_clsf1", mandatory : true},			
			{ id : "demnd_recv_clsf", mandatory : true},
			{ id : "wrte_psn", mandatory : true},
		], false)) return ;
		
		dma_bill.set("biz_clsf", dma_search.get("biz_clsf"));
		if(dma_search.get("biz_clsf") == "S"){
			if(ica_issu_ymd.getValue() > scwin.data.cls_ymd){
				alert("발행일 이전에 종료된 계정(종료일 : " + com.formatDate(scwin.data.cls_ymd,"dash") +") 입니다. \n 계정번호를 검색해 주시기 바랍니다.");
				return;
			}
			
			dma_bill.set("tech_supt_req_no", scwin.data.tech_supt_req_no);
		}
		
		com.confirm("message.xom.wq.017"/*저장 하시겠습니까?*/, function( ret) {
			if (ret) {
				com.execute(sbm_saveData, {
					successCallback : function(e) { // 성공 콜백
						com.alert("message.xom.wq.023"/*정상적으로 처리되었습니다.*/, function() {							
							com.closePopup(dma_bill.getJSON());
						});					
					}
				});
			}
		});
	};
	
	/**
	 * 공급받는자 검색 버튼 클릭 이벤트
	 */
	scwin.btn_vend_onclick = function(e) {
		com.pop.open(com.pop.TYPE.VEND, {ref_yn:"Y"}, function(ret) {
			dma_bill.set("sude_psn", ret.vend_cd);
			dma_bill.set("vend_abbr", ret.vend_abbr);
			dma_bill.set("reprs_psn_nm", ret.reprs_psn_nm);
			if(ret.bsns_psn_regst_no.trim() == ""){
				dma_bill.set("bsns_psn_regst_no", ret.corp_resid_no);
			}else{
				dma_bill.set("bsns_psn_regst_no", ret.bsns_psn_regst_no);
			}			
			dma_bill.set("addr", ret.addr);
			dma_bill.set("bizcatg", ret.bizcatg); // 업태
			dma_bill.set("biztyp", ret.biztyp); // 업종
		});
	};	
	
	/**
	 * 공급받는자 변경 이벤트
	 */
	scwin.ibx_vend_cd_onviewchange = function(info) {
		if(this.getValue() == ""){
			dma_bill.set("vend_abbr", "");
			dma_bill.set("reprs_psn_nm", "");
			dma_bill.set("bsns_psn_regst_no", "");
			dma_bill.set("addr", "");
			dma_bill.set("bizcatg", ""); // 업태
			dma_bill.set("biztyp", ""); // 업종
		}
	};
	
	/**
	 * 계정번호 변경 이벤트
	 */
	scwin.ibx_accnt_no_onkeyup = function(e) {
		if(e.keyCode == 13){
			this.setValue(this.getValue().toUpperCase());
			btn_accnt_no.trigger("click");
		}
	};
	
	/**
	 * 담당자 검색 버튼 클릭 이벤트
	 */
	scwin.btn_emp_onclick = function(e) {
		var data={
			empno : ibx_empno.getValue(),
			work_clsf : "HAG010",
			ref_yn : (ibx_empno.getValue() == "")?"Y" : "N"
		};
		com.pop.open(com.pop.TYPE.HUM, data, function(ret) {
			ibx_tel_no.setValue(ret.ext_no);
			ibx_email_addr.setValue(ret.email);
			ibx_empno.setValue(ret.empno);
			dma_bill.set("wrte_psn", ret.syspayno);
			dma_bill.set("charg", ret.nm);
			dma_bill.set("wrte_dept", ret.dept_cd);
		});
	};
	
	/**
	 * 담당자 변경 이벤트
	 */
	scwin.ibx_empno_onviewchange = function(info) {
		if(ibx_empno.getValue() == ""){
			ibx_tel_no.setValue("");
			ibx_email_addr.setValue("");
			ibx_empno.setValue("");
			dma_bill.set("wrte_psn", "");
			dma_bill.set("charg", "");
			dma_bill.set("wrte_dept","");
		}
	};
	
	/**
	 * 검색버튼 클릭이벤트
	 */
	scwin.btn_search_onclick = function(e) {
		var data={
			demnd_recv_clsf : "9", // 역전자발행
			tax_type : dma_search.get("tax_type"),
			biz_clsf : dma_search.get("biz_clsf"),
			ref_yn : "Y"
		};
		
		com.pop.open(com.pop.TYPE.FTXBILL, data, function(ret) {
			dma_search.set("tax_bill_no", ret.tax_bill_no);
			scwin.search();
		});	
	};
	]]></script>
    </head>
    <body ev:onpageload="scwin.onpageload">
    	<xf:group id="" class="pop_contents">
    		<xf:group class="w2tb tbl" id="" style="" tagname="table">
    			<w2:attributes>
    				<w2:summary></w2:summary>
    			</w2:attributes>
    			<xf:group tagname="caption" text="세금 계산서 상세 정보"></xf:group>
    			<xf:group tagname="colgroup">
    				<xf:group style="width:130px;" tagname="col"></xf:group>
    				<xf:group style="width:220px;" tagname="col"></xf:group>
    				<xf:group style="width:140px;" tagname="col"></xf:group>
    				<xf:group style="" tagname="col"></xf:group>
    				<xf:group style="width:130px;" tagname="col"></xf:group>
    				<xf:group style="" tagname="col"></xf:group>
    			</xf:group>
    			<xf:group tagname="tr">
    				<xf:group class="w2tb_th" tagname="th">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:textbox id="" label="계산서 종류" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group class="w2tb_td" tagname="td">
    					<w2:attributes></w2:attributes>
    					<xf:select1 appearance="full" class="radioGroup" cols="" id="rdo_tax_type" ref="data:dma_bill.tax_type"
    						renderType="radiogroup" rows="" selectedIndex="-1" style="" disabled="true">
    						<xf:choices>
    							<xf:item>
    								<xf:label><![CDATA[계산서]]></xf:label>
    								<xf:value><![CDATA[03]]></xf:value>
    							</xf:item>
    							<xf:item>
    								<xf:label><![CDATA[세금계산서]]></xf:label>
    								<xf:value><![CDATA[01]]></xf:value>
    							</xf:item>
    						</xf:choices>
    					</xf:select1>
    				</xf:group>
    				<xf:group class="w2tb_th" tagname="th">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:textbox id="" label="계산서 번호" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group class="w2tb_td" tagname="td">
    					<w2:attributes></w2:attributes>
    					<w2:span escape="false" id="" label="000" ref="data:dma_bill.tax_bill_no" style=""></w2:span>
    					<xf:trigger class="btn" id="btn_search" style="margin-left:5px;" type="button" ev:onclick="scwin.btn_search_onclick">
    						<xf:label><![CDATA[검색]]></xf:label>
    					</xf:trigger>
    				</xf:group>
    				<xf:group class="w2tb_th" style="" tagname="th">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:textbox id="" label="계정번호" style="" tagname="span"></w2:textbox>
    					<w2:span class="bul_req" id="" label="[필수입력항목]" style=""></w2:span>
    				</xf:group>
    				<xf:group class="w2tb_td" style="" tagname="td">
    					<w2:attributes></w2:attributes>
    					<xf:group class="inpSch" id="grp_accnt_no" style="width: 120px;">
    						<xf:input adjustMaxLength="false" class="inp req" id="ibx_accnt_no" ref="data:dma_bill.accnt_no" style=""
    							title="계정번호" ev:onkeyup="scwin.ibx_accnt_no_onkeyup">
    						</xf:input>
    						<xf:trigger class="btn" ev:onclick="scwin.btn_accnt_no_onclick" id="btn_accnt_no" style="" title="보유자 조회"
    							type="button">
    							<xf:label><![CDATA[검색]]></xf:label>
    						</xf:trigger>
    					</xf:group>
    				</xf:group>
    			</xf:group>
    			<xf:group tagname="tr" style="">
    				<xf:group class="w2tb_th" tagname="th">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:textbox id="" label="공급받는자" style="" tagname="span"></w2:textbox>
    					<w2:span class="bul_req" id="" label="[필수입력항목]" style=""></w2:span>
    				</xf:group>
    				<xf:group class="w2tb_td" tagname="td">
    					<w2:attributes></w2:attributes>
    					<xf:group id="" class="flex">
    						<xf:group style="width:140px;" id="grp_vend" class="inpSch">
    							<xf:input maxlength="6" adjustMaxLength="false" style="" allowChar="0-9" id="ibx_vend_cd" title="거래처코드"
    								class="inp" ref="data:dma_bill.sude_psn" ev:onviewchange="scwin.ibx_vend_cd_onviewchange" disabled="true">
    							</xf:input>
    							<xf:trigger style="" id="btn_vend" title="거래처 조회" type="button" class="btn"
    								ev:onclick="scwin.btn_vend_onclick">
    								<xf:label><![CDATA[검색]]></xf:label>
    							</xf:trigger>
    						</xf:group>
    						<xf:input adjustMaxLength="false" readOnly="true" style="" id="" title="회계코드 상세" class="inp full"
    							ref="data:dma_bill.vend_abbr">
    						</xf:input>
    					</xf:group>
    				</xf:group>
    				<xf:group class="w2tb_th" tagname="th">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:textbox id="" label="대표자" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group class="w2tb_td" tagname="td">
    					<w2:attributes></w2:attributes>
    					<w2:span escape="false" id="" label="000" style="" ref="data:dma_bill.reprs_psn_nm"></w2:span>
    				</xf:group>
    				<xf:group class="w2tb_th" style="" tagname="th">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:textbox id="" label="사업자번호" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group class="w2tb_td" style="" tagname="td">
    					<w2:attributes></w2:attributes>
    					<w2:span escape="false" id="" label="000" style="" ref="data:dma_bill.bsns_psn_regst_no"></w2:span>
    				</xf:group>
    			</xf:group>
    			<xf:group tagname="tr" style="">
    				<xf:group class="w2tb_th" tagname="th">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:textbox id="" label="업태" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group class="w2tb_td" tagname="td">
    					<w2:attributes></w2:attributes>
    					<w2:span escape="false" id="" label="000" style="" ref="data:dma_bill.bizcatg"></w2:span>
    				</xf:group>
    				<xf:group class="w2tb_th" tagname="th">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:textbox id="" label="주소" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group class="w2tb_td" tagname="td">
    					<w2:attributes>
    						<w2:colspan>3</w2:colspan>
    						<w2:rowspan>1</w2:rowspan>
    					</w2:attributes>
    					<w2:span escape="false" id="" label="000" style="" ref="data:dma_bill.addr"></w2:span>
    				</xf:group>
    			</xf:group>
    			<xf:group tagname="tr" style="">
    				<xf:group class="w2tb_th" tagname="th">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:textbox id="" label="업종" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group class="w2tb_td" tagname="td">
    					<w2:attributes></w2:attributes>
    					<w2:span escape="false" id="" label="000" style="" ref="data:dma_bill.biztyp"></w2:span>
    				</xf:group>
    				<xf:group class="w2tb_th" tagname="th">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:textbox id="" label="계산서구분" style="" tagname="span"></w2:textbox>
    					<w2:span class="bul_req" id="" label="[필수입력항목]" style=""></w2:span>
    				</xf:group>
    				<xf:group class="w2tb_td" tagname="td">
    					<w2:attributes></w2:attributes>
    					<xf:select1 allOption="" appearance="minimal" chooseOption="true" chooseOptionLabel="-선택-" class="sel req full"
    						direction="auto" disabled="false" disabledClass="w2selectbox_disabled" id="sbx_bill_clsf" ref="data:dma_bill.bill_clsf" style=""
    						submenuSize="auto" title="계산서 구분">
    						<xf:choices></xf:choices>
    					</xf:select1>
    				</xf:group>
    				<xf:group class="w2tb_th" tagname="th" style="">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:textbox id="" label="수금구분" style="" tagname="span"></w2:textbox>
    					<w2:span class="bul_req" id="" label="[필수입력항목]" style=""></w2:span>
    				</xf:group>
    				<xf:group class="w2tb_td" tagname="td" style="">
    					<w2:attributes></w2:attributes>
    					<xf:select1 allOption="" appearance="minimal" chooseOption="true" chooseOptionLabel="-선택-" class="sel req"
    						direction="auto" disabled="false" disabledClass="w2selectbox_disabled" id="sbx_bill_clsf1" ref="data:dma_bill.bill_clsf1"
    						style="width: 120px;" submenuSize="auto" title="계산서 구분">
    						<xf:choices></xf:choices>
    					</xf:select1>
    				</xf:group>
    			</xf:group>
    			<xf:group style="" tagname="tr" id="">
    				<xf:group class="w2tb_th" tagname="th" style="">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:textbox id="" label="금액" style="" tagname="span"></w2:textbox>
    					<w2:span class="bul_req" id="" label="[필수입력항목]" style=""></w2:span>
    				</xf:group>
    				<xf:group class="w2tb_td" tagname="td" style="">
    					<w2:attributes></w2:attributes>
    					<xf:input adjustMaxLength="false" class="inp req ri" dataType="number" displayFormat="#,###" id="ibx_totl_amt"
    						ref="data:dma_bill.totl_amt" style="width: 120px;" title="발행금액" ev:onviewchange="scwin.ibx_totl_amt_onviewchange"
    						disabled="true">
    					</xf:input>
    					<w2:textbox class="txt" id="" label="원" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group class="w2tb_th" tagname="th" style="">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:textbox id="" label="발행일자" style="" tagname="span"></w2:textbox>
    					<w2:span class="bul_req" id="" label="[필수입력항목]" style=""></w2:span>
    				</xf:group>
    				<xf:group class="w2tb_td" tagname="td" style="">
    					<w2:attributes></w2:attributes>
    					<w2:inputCalendar calendarValueType="yearMonthDate" class="inpcal" focusOnDateSelect="false" footerDiv="false"
    						id="ica_issu_ymd" ref="data:dma_bill.issu_ymd" renderDiv="true" rightAlign="false" style="width:130px;" title="발행일자" disabled="true">
    					</w2:inputCalendar>
    				</xf:group>
    				<xf:group class="w2tb_th" style="" tagname="th">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:textbox id="" label="승인번호" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group class="w2tb_td" style="" tagname="td">
    					<w2:attributes></w2:attributes>
    					<w2:span escape="false" id="" label="000" ref="data:dma_bill.issu_id" style=""></w2:span>
    				</xf:group>
    			</xf:group>
    			<xf:group style="" tagname="tr">
    				<xf:group class="w2tb_th" tagname="th">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:textbox id="" label="비고" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group class="w2tb_td" tagname="td">
    					<w2:attributes>
    						<w2:colspan>3</w2:colspan>
    						<w2:rowspan>1</w2:rowspan>
    					</w2:attributes>
    					<xf:input adjustMaxLength="false" class="inp full" id="idx_rmk1" style="" title="비고" ref="data:dma_bill.rmk1"></xf:input>
    				</xf:group>
    				<xf:group class="w2tb_th" style="" tagname="th">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:textbox id="" label="전자발행여부" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group class="w2tb_td" style="" tagname="td">
    					<w2:attributes></w2:attributes>
    					<w2:span escape="false" id="" label="000" ref="data:dma_bill.state_nm" style="color:#FF8000;font-weight:bold;"></w2:span>
    				</xf:group>
    			</xf:group>
    			<xf:group style="" tagname="tr">
    				<xf:group class="w2tb_th" style="" tagname="th">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:textbox id="" label="담당자" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group class="w2tb_td" style="" tagname="td">
    					<w2:attributes></w2:attributes>
    					<xf:group class="inpSch" id="grp_emp" style="width:100px;">
    						<xf:input adjustMaxLength="false" class="inp" id="ibx_empno" style="" title="담당자" ev:onviewchange="scwin.ibx_empno_onviewchange">
    						</xf:input>
    						<xf:trigger class="btn" id="btn_emp" style="" title="담당자조회" type="button" ev:onclick="scwin.btn_emp_onclick">
    							<xf:label><![CDATA[검색]]></xf:label>
    						</xf:trigger>
    					</xf:group>
    					<xf:input adjustMaxLength="false" class="inp" disabled="true" ev:onviewchange="scwin.ibx_vend_cd_onviewchange"
    						id="charg" ref="data:dma_bill.charg" style="width:100px;" title="담당자">
    					</xf:input>
    				</xf:group>
    				<xf:group class="w2tb_th" tagname="th">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:textbox id="" label="전화번호" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group class="w2tb_td" tagname="td">
    					<w2:attributes></w2:attributes>
    					<xf:input adjustMaxLength="false" class="inp full" id="ibx_tel_no" style="" title="발행금액"
    						ref="data:dma_bill.tel_no" disabled="true">
    					</xf:input>
    				</xf:group>
    				<xf:group class="w2tb_th" tagname="th">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:textbox id="" label="E-mail" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group class="w2tb_td" tagname="td">
    					<w2:attributes></w2:attributes>
    					<xf:input adjustMaxLength="false" class="inp full" id="ibx_email_addr" style="" title="발행금액"
    						ref="data:dma_bill.email_addr" disabled="true">
    					</xf:input>
    				</xf:group>
    			</xf:group>
    			<xf:group tagname="tr" style="">
    				<xf:group class="w2tb_th" tagname="th">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:textbox id="" label="발행구분" style="" tagname="span"></w2:textbox>
    					<w2:span class="bul_req" id="" label="[필수입력항목]" style=""></w2:span>
    				</xf:group>
    				<xf:group class="w2tb_td" tagname="td">
    					<w2:attributes></w2:attributes>
    					<xf:select1 appearance="full" class="radioGroup" cols="" id="rdo_demnd_recv_clsf"
    						ref="data:dma_bill.demnd_recv_clsf" renderType="radiogroup" rows="" selectedIndex="-1" style=""
    						disabled="true">
    						<xf:choices>
    							<xf:item>
    								<xf:label><![CDATA[영수]]></xf:label>
    								<xf:value><![CDATA[2]]></xf:value>
    							</xf:item>
    							<xf:item>
    								<xf:label><![CDATA[청구]]></xf:label>
    								<xf:value><![CDATA[1]]></xf:value>
    							</xf:item>
    						</xf:choices>
    					</xf:select1>
    				</xf:group>
    				<xf:group class="w2tb_th" tagname="th">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:textbox id="" label="(역전자)승인번호" style="" tagname="span"></w2:textbox>
    					<w2:span class="bul_req" id="" label="[필수입력항목]" style=""></w2:span>
    				</xf:group>
    				<xf:group class="w2tb_td" tagname="td">
    					<w2:attributes>
    						<w2:colspan>3</w2:colspan>
    						<w2:rowspan>1</w2:rowspan>
    					</w2:attributes>
    					<xf:select appearance="full" class="chkGroup  " cols="" id="cbx_recp_cd" renderType="checkboxgroup" rows=""
    						selectedindex="-1" style="" title="역전자발행" falseValue="N" ref="data:dma_bill.recp_yn"
    						disabled="true">
    						<xf:choices>
    							<xf:item>
    								<xf:label><![CDATA[역전자발행]]></xf:label>
    								<xf:value><![CDATA[Y]]></xf:value>
    							</xf:item>
    						</xf:choices>
    					</xf:select>
    					<xf:input adjustMaxLength="false" class="inp" id="ibx_decsn_no" style="width: 180px;" title="(역전자)승인번호"
    						readOnly="true" ref="data:dma_bill.decsn_no" disabled="true">
    					</xf:input>
    				</xf:group>
    			</xf:group>
    		</xf:group>
    		<xf:group class="titleSection" id="" style="">
    			<xf:group class="le" id="">
    				<w2:textbox class="tit_tbl" id="" label="계산서내역" style="" tagname="h3"></w2:textbox>
    			</xf:group>
    			<xf:group class="re" id="" style="">
    			</xf:group>
    		</xf:group>
    		<w2:gridView autoFit="allColumn" class="grid" dataList="data:dlt_billD" defaultCellHeight="28" evenRowBackgroundColor="#f7faff"
    			id="grd_billD" noResultMessage="조회 결과가 없습니다." noResultMessageClass="noResult" rowMouseOverColor="#e7f0fb"
    			rowNumBackgroundColor="#fff" rowNumHeaderValue="No." rowNumVisible="true" rowNumWidth="40" rowStatusHeaderValue="상태"
    			rowStatusVisible="false" rowStatusWidth="50" scrollByColumn="false" scrollByColumnAdaptive="false" selectedCellColor="#fbf2cd"
    			selectedRowColor="#fbf2cd" style="height: 85px;" summaryAuto="true" visibleRowNum="5" ev:onviewchange="scwin.grd_billD_onviewchange" editModeEvent="onclick" readOnly="true">
    			<w2:caption id="caption1" style="" value="this is a grid caption."></w2:caption>
    			<w2:header id="header1" style="">
    				<w2:row id="row1" style="">
    					<w2:column width="100" inputType="text" style="height:28px" id="column56" value="일자" displayMode="label"></w2:column>
    					<w2:column displayMode="label" id="column5" inputType="text" style="height:28px;" value="품명" width="250"></w2:column>
    					<w2:column displayMode="label" id="column3" inputType="text" style="height:28px;" value="규격" width="80"></w2:column>
    					<w2:column displayMode="label" id="column20" inputType="text" style="height:28px;" value="수량" width="70"></w2:column>
    					<w2:column displayMode="label" id="column29" inputType="text" style="height:28px;" value="단가" width="80"></w2:column>
    					<w2:column displayMode="label" id="column32" inputType="text" style="height:28px" value="공급가액" width="80"></w2:column>
    					<w2:column displayMode="label" id="column30" inputType="text" style="height:28px" value="세액" width="70"></w2:column>
    					<w2:column displayMode="label" id="column44" inputType="text" style="height:28px" value="비고" width="200"></w2:column>
    				</w2:row>
    			</w2:header>
    			<w2:gBody id="gBody1" style="">
    				<w2:row id="row2" style="">
    					<w2:column width="100" inputType="calendar" style="height:28px" id="issu_ymd" value="" displayMode="label" viewType="icon"></w2:column>
    					<w2:column displayMode="label" escape="false" id="item_nm" inputType="text" style="height:28px;"
    						width="250" class="le">
    					</w2:column>
    					<w2:column displayMode="label" escape="false" id="std" inputType="text" style="height:28px;"
    						width="80">
    					</w2:column>
    					<w2:column displayMode="label" id="qty" inputType="text" style="height:28px;" width="70"></w2:column>
    					<w2:column displayMode="label" id="unit_price" inputType="text" style="height:28px;" width="80"
    						class="ri" dataType="number" displayFormat="#,###">
    					</w2:column>
    					<w2:column displayMode="label" id="amt" inputType="text" readOnly="true" style="height:28px" width="80" class="ri"
    						dataType="number" displayFormat="#,###">
    					</w2:column>
    					<w2:column displayMode="label" id="taxamt" inputType="text" readOnly="true" style="height:28px" width="70"
    						class="ri" dataType="number" displayFormat="#,###">
    					</w2:column>
    					<w2:column displayMode="label" id="rmk" inputType="text" style="height:28px" value="" width="200">
    					</w2:column>
    				</w2:row>
    			</w2:gBody>
    			<w2:footer style="" id="footer1">
    				<w2:row style="" id="row3">
    					<w2:column width="390" inputType="text" style="height:20px;" id="column58" value="합 계" displayMode="label"
    						colSpan="2" rowSpan="">
    					</w2:column>
    					<w2:column hidden="false" width="80" inputType="text" style="height:20px;" id="column59" value=""
    						displayMode="label">
    					</w2:column>
    					<w2:column hidden="false" width="70" inputType="text" style="height:20px;" id="column60" value=""
    						displayMode="label">
    					</w2:column>
    					<w2:column width="80" inputType="text" style="height:20px" id="column52" value="" displayMode="label"></w2:column>
    					<w2:column width="80" inputType="expression" style="height:20px" id="amt_sum" value="" displayMode="label"
    						class="ri" dataType="number" displayFormat="#,###" expression="sum('amt')">
    					</w2:column>
    					<w2:column width="70" inputType="expression" style="height:20px" id="taxamt_sum" value="" displayMode="label"
    						class="ri" dataType="number" displayFormat="#,###" expression="sum('taxamt')">
    					</w2:column>
    					<w2:column width="200" inputType="text" style="height:20px" id="column48" value="" displayMode="label"></w2:column>
    				</w2:row>
    			</w2:footer>
    		</w2:gridView>
    		<xf:group class="titleSection" id="" style="">
    			<xf:group class="le" id="">
    				<w2:textbox class="tit_tbl" id="" label="공급 받는자 담당자 정보" style="" tagname="h3"></w2:textbox>
    			</xf:group>
    		</xf:group>
    		<w2:gridView autoFit="allColumn" class="grid" dataList="data:dlt_charg" defaultCellHeight="28" evenRowBackgroundColor="#f7faff"
    			id="grd_charg" noResultMessage="조회 결과가 없습니다." noResultMessageClass="noResult" rowMouseOverColor="#e7f0fb"
    			rowNumBackgroundColor="#fff" rowNumHeaderValue="No." rowNumVisible="false" rowNumWidth="60" rowStatusHeaderValue="상태"
    			rowStatusVisible="false" rowStatusWidth="50" scrollByColumn="false" scrollByColumnAdaptive="false" selectedCellColor="#fbf2cd"
    			selectedRowColor="#fbf2cd" style="height: 85px;" summaryAuto="true" visibleRowNum="2" readOnly="true">
    			<w2:caption id="caption1" style="" value="this is a grid caption."></w2:caption>
    			<w2:header id="header1" style="">
    				<w2:row id="row1" style="">
    					<w2:column displayMode="label" id="column5" inputType="text" style="height:28px;" value="담당자" width="90"></w2:column>
    					<w2:column displayMode="label" id="column3" inputType="text" style="height:28px;" value="부서명" width="200"></w2:column>
    					<w2:column displayMode="label" id="column20" inputType="text" style="height:28px;" value="전화번호" width="120"></w2:column>
    					<w2:column displayMode="label" id="column29" inputType="text" style="height:28px;" value="휴대번호" width="130"></w2:column>
    					<w2:column displayMode="label" id="column32" inputType="text" style="height:28px" value="이메일" width="200"></w2:column>
    				</w2:row>
    			</w2:header>
    			<w2:gBody id="gBody1" style="">
    				<w2:row id="row2" style="">
    					<w2:column displayMode="label" escape="false" id="buyr_chrg_nm" inputType="text" style="height:28px;" width="90"
    						editModeEvent="onclick">
    					</w2:column>
    					<w2:column displayMode="label" escape="false" id="buyr_chrg_post" inputType="text" style="height:28px;" width="200"
    						class="le" editModeEvent="onclick">
    					</w2:column>
    					<w2:column displayMode="label" id="buyr_chrg_tel" inputType="text" style="height:28px;" width="120"
    						editModeEvent="onclick">
    					</w2:column>
    					<w2:column displayMode="label" id="buyr_chrg_mobl" inputType="text" style="height:28px;" width="130"
    						editModeEvent="onclick">
    					</w2:column>
    					<w2:column displayMode="label" id="buyr_chrg_email" inputType="text" style="height:28px" width="200" class="le"
    						editModeEvent="onclick">
    					</w2:column>
    				</w2:row>
    			</w2:gBody>
    		</w2:gridView>
    		<xf:group style="" id="" class="btnGroup">
    			<xf:group style="" id="" class="le"></xf:group>
    			<xf:group id="" class="ri">
    				<xf:trigger class=" btn pro conf" id="btn_save" style="" type="button" ev:onclick="scwin.btn_save_onclick">
    					<xf:label><![CDATA[저장]]></xf:label>
    				</xf:trigger>
    				<xf:trigger style="" id="btn_close" type="button" class=" btn pro" ev:onclick="scwin.btn_close_onclick">
    					<xf:label><![CDATA[닫기]]></xf:label>
    				</xf:trigger>
    			</xf:group>
    		</xf:group>
    	</xf:group>
    </body>
</html>
