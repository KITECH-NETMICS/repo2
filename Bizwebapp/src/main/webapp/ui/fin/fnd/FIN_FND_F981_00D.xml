<?xml version="1.0" encoding="UTF-8"?>
<html xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ev="http://www.w3.org/2001/xml-events"
    xmlns:w2="http://www.inswave.com/websquare" xmlns:xf="http://www.w3.org/2002/xforms">
    <head meta_programName="법인카드 한도증액신청서">
    	<w2:type>DEFAULT</w2:type>
        <w2:buildDate/>
        <xf:model>
            <xf:instance>
                <data xmlns=""/>
            </xf:instance>
            <w2:dataCollection baseNode="map">
            	<w2:dataMap baseNode="map" id="dma_search">
				  <w2:keyInfo>
				       <w2:key id="req_no" name="req_no" dataType="text"></w2:key>
				       <w2:key id="apr_state" name="apr_state" dataType="text"></w2:key>
				 </w2:keyInfo>
				</w2:dataMap>
				<w2:dataMap baseNode="map" id="dma_result">
				  <w2:keyInfo>
				       <w2:key id="req_no" name="req_no" dataType="text"></w2:key>
				       <w2:key id="req_ymd" name="req_ymd" dataType="text"></w2:key>
				       <w2:key id="req_psn" name="req_psn" dataType="text"></w2:key>
				       <w2:key id="req_empno" name="req_empno" dataType="text"></w2:key>
				       <w2:key id="req_nm" name="req_nm" dataType="text"></w2:key>
				       <w2:key id="req_dept_cd" name="req_dept_cd" dataType="text"></w2:key>
				       <w2:key id="req_dept_nm" name="req_dept_nm" dataType="text"></w2:key>
				       <w2:key id="req_posi_cd" name="req_posi_cd" dataType="text"></w2:key>
				       <w2:key id="req_posi_nm" name="req_posi_nm" dataType="text"></w2:key>
				       <w2:key id="use_psn" name="use_psn" dataType="text"></w2:key>
				       <w2:key id="use_empno" name="use_empno" dataType="text"></w2:key>
				       <w2:key id="use_nm" name="use_nm" dataType="text"></w2:key>
				       <w2:key id="use_dept_cd" name="use_dept_cd" dataType="text"></w2:key>
				       <w2:key id="use_dept_nm" name="use_dept_nm" dataType="text"></w2:key>
				       <w2:key id="use_posi_cd" name="use_posi_cd" dataType="text"></w2:key>
				       <w2:key id="use_posi_nm" name="use_posi_nm" dataType="text"></w2:key>
				       <w2:key id="card_no" name="card_no" dataType="text"></w2:key>
				       <w2:key id="req_dom_amt" name="req_dom_amt" dataType="text"></w2:key>
				       <w2:key id="req_over_amt" name="req_over_amt" dataType="text"></w2:key>
				       <w2:key id="str_ymd" name="str_ymd" dataType="text"></w2:key>
				       <w2:key id="cls_ymd" name="cls_ymd" dataType="text"></w2:key>
				       <w2:key id="rmk" name="rmk" dataType="text"></w2:key>
				       <w2:key id="attach_file_no" name="attach_file_no" dataType="text"></w2:key>
				       <w2:key id="attach_file_no1" name="attach_file_no1" dataType="text"></w2:key>
				       <w2:key id="apr_state" name="apr_state" dataType="text"></w2:key>
				       <w2:key id="hide_req_psn" name="hide_req_psn" dataType="text"></w2:key>
				       <w2:key id="hide_req_dept" name="hide_req_dept" dataType="text"></w2:key>
				       <w2:key id="hide_req_posi_cd" name="hide_req_posi_cd" dataType="text"></w2:key>
				       <w2:key id="hide_use_psn" name="hide_use_psn" dataType="text"></w2:key>
				       <w2:key id="hide_use_dept" name="hide_use_dept" dataType="text"></w2:key>
				       <w2:key id="hide_use_posi_cd" name="hide_use_posi_cd" dataType="text"></w2:key>
				 </w2:keyInfo>
				</w2:dataMap>
				<w2:dataMap baseNode="map" id="dma_card_search">
				  <w2:keyInfo>
				       <w2:key id="keep_charg" name="keep_charg" dataType="text"></w2:key>
				 </w2:keyInfo>
				</w2:dataMap>
				<w2:dataList baseNode="list" repeatNode="map" id="dlt_card_list" saveRemovedData="true">
				  <w2:columnInfo>
				       <w2:column id="card_no" name="card_no" dataType="text"></w2:column>
				       <w2:column id="card_knd" name="card_knd" dataType="text"></w2:column>
				       <w2:column id="card_clsf" name="card_clsf" dataType="text"></w2:column>
				       <w2:column id="card_knd_nm" name="card_knd_nm" dataType="text"></w2:column>
				       <w2:column id="card_clsf_nm" name="card_clsf_nm" dataType="text"></w2:column>
				       <w2:column id="apprvl_bank" name="apprvl_bank" dataType="text"></w2:column>
				       <w2:column id="apprvl_ymd" name="apprvl_ymd" dataType="text"></w2:column>
				       <w2:column id="apprvl_bankaccnt" name="apprvl_bankaccnt" dataType="text"></w2:column>
				       <w2:column id="exp_acct_no" name="exp_acct_no" dataType="text"></w2:column>
				       <w2:column id="accnt_no" name="accnt_no" dataType="text"></w2:column>
				       <w2:column id="accnt_cd" name="accnt_cd" dataType="text"></w2:column>
				       <w2:column id="dept_cd" name="dept_cd" dataType="text"></w2:column>
				       <w2:column id="dept_nm" name="dept_nm" dataType="text"></w2:column>
				       <w2:column id="dept_new_ymd" name="dept_new_ymd" dataType="text"></w2:column>
				       <w2:column id="keep_charg" name="keep_charg" dataType="text"></w2:column>
				       <w2:column id="nm" name="nm" dataType="text"></w2:column>
				       <w2:column id="empno" name="empno" dataType="text"></w2:column>
				       <w2:column id="posi_nm" name="posi_nm" dataType="text"></w2:column>
				       <w2:column id="duty_nm" name="duty_nm" dataType="text"></w2:column>
				       <w2:column id="valid_ymd" name="valid_ymd" dataType="text"></w2:column>
				       <w2:column id="pay_ymd" name="pay_ymd" dataType="text"></w2:column>
				       <w2:column id="retrn_ymd" name="retrn_ymd" dataType="text"></w2:column>
				       <w2:column id="rmk" name="rmk" dataType="text"></w2:column>
				       <w2:column id="card_state" name="card_state" dataType="text"></w2:column>
				       <w2:column id="issu_clsf" name="issu_clsf" dataType="text"></w2:column>
				       <w2:column id="email" name="email" dataType="text"></w2:column>
				       <w2:column id="card_state_nm" name="card_state_nm" dataType="text"></w2:column>
				       <w2:column id="issu_clsf_nm" name="issu_clsf_nm" dataType="text"></w2:column>
				  </w2:columnInfo>
				</w2:dataList>
				<w2:dataMap baseNode="map" id="dma_save_search">
					<w2:keyInfo>
						<w2:key id="comments" name="comments" dataType="text"></w2:key>
						<w2:key id="req_nm" name="req_nm" dataType="text"></w2:key>
						<w2:key id="req_no" name="req_no" dataType="text"></w2:key>
						<w2:key id="req_ymd" name="req_ymd" dataType="text"></w2:key>
						<w2:key id="req_psn" name="req_psn" dataType="text"></w2:key>
						<w2:key id="req_dept_cd" name="req_dept_cd" dataType="text"></w2:key>
						<w2:key id="req_posi_cd" name="req_posi_cd" dataType="text"></w2:key>
						<w2:key id="use_psn" name="use_psn" dataType="text"></w2:key>
						<w2:key id="use_dept_cd" name="use_dept_cd" dataType="text"></w2:key>
						<w2:key id="use_posi_cd" name="use_posi_cd" dataType="text"></w2:key>
						<w2:key id="card_no" name="card_no" dataType="text"></w2:key>
						<w2:key id="req_dom_amt" name="req_dom_amt" dataType="text"></w2:key>
						<w2:key id="req_over_amt" name="req_over_amt" dataType="text"></w2:key>
						<w2:key id="str_ymd" name="str_ymd" dataType="text"></w2:key>
						<w2:key id="cls_ymd" name="cls_ymd" dataType="text"></w2:key>
						<w2:key id="rmk" name="rmk" dataType="text"></w2:key>
						<w2:key id="attach_file_no" name="attach_file_no" dataType="text"></w2:key>
						<w2:key id="attach_file_no1" name="attach_file_no1" dataType="text"></w2:key>
						<w2:key id="regst_syspayno" name="regst_syspayno" dataType="text"></w2:key>
						<w2:key id="updt_syspayno" name="updt_syspayno" dataType="text"></w2:key>
						<w2:key id="cud_flag" name="cud_flag" dataType="text"></w2:key>
						<w2:key id="apr_state" name="apr_state" dataType="text"></w2:key>
						<w2:key id="ui_id" name="ui_id" dataType="text"></w2:key>
						<w2:key id="endpoints" name="endpoints" dataType="text"></w2:key>
						<w2:key id="validAttachNo" name="validAttachNo" dataType="text"></w2:key>
					</w2:keyInfo>
				</w2:dataMap>
            </w2:dataCollection>
            <w2:workflowCollection>
            </w2:workflowCollection>
            <!-- 상세정보조회 -->
			<xf:submission id="sbm_selectData" ref='data:json,dma_search'
				target='data:json,{"id":"dma_result","key":"FinCardUseAmtUpReqVo"}' action="SvcFINFNDFINSR01.pwkjson" method="post" mediatype="application/json"
				encoding="UTF-8" instance="" replace="" errorHandler="" customHandler="" mode="asynchronous" processMsg="" ev:submit=""
				ev:submitdone="" ev:submiterror="" abortTrigger="">
			</xf:submission>			
            <!-- 신규일때 카드조회 -->
			<xf:submission id="sbm_selectCard" ref='data:json,dma_card_search'
				target='data:json,{"id":"dlt_card_list","key":"fndCardSelectVoList"}' action="SvcFINFNDFINMR02.pwkjson" method="post" mediatype="application/json"
				encoding="UTF-8" instance="" replace="" errorHandler="" customHandler="" mode="asynchronous" processMsg="" ev:submit=""
				ev:submitdone="" ev:submiterror="" abortTrigger="">
			</xf:submission>
            <!-- 저장 -->
        	<xf:submission id="sbm_saveCert" ref="data:json,dma_save_search" target=''
            	action="SvcFINFNDFINSI01.pwkjson" processMsg="" method="post" mediatype="application/json"
            	encoding="UTF-8" mode="asynchronous">
            </xf:submission>
            <!-- 삭제 -->
        	<xf:submission id="sbm_delCert" ref='data:json,dma_save_search'
				target='' action="SvcFINFNDFINSD01.pwkjson" method="post" mediatype="application/json"
				encoding="UTF-8" instance="" replace="" errorHandler="" customHandler="" mode="asynchronous" processMsg="" ev:submit=""
				ev:submitdone="" ev:submiterror="" abortTrigger="">
			</xf:submission>
			<!-- 결제신청 -->
        	<xf:submission id="sbm_aprCert" ref='data:json,dma_save_search'
				target='' action="SvcFINFNDFINSA01.pwkjson" method="post" mediatype="application/json"
				encoding="UTF-8" instance="" replace="" errorHandler="" customHandler="" mode="asynchronous" processMsg="" ev:submit=""
				ev:submitdone="" ev:submiterror="" abortTrigger="">
			</xf:submission>
			<!-- 승인 및 반려 -->
        	<xf:submission id="sbm_apyConfORrejt" ref='data:json,dma_save_search'
				target='' action="SvcFINFNDFINSA02.pwkjson" method="post" mediatype="application/json"
				encoding="UTF-8" instance="" replace="" errorHandler="" customHandler="" mode="asynchronous" processMsg="" ev:submit=""
				ev:submitdone="" ev:submiterror="" abortTrigger="">
			</xf:submission>						               						
        </xf:model>
         <script type="text/javascript" lazy="false"><![CDATA[
        
	scwin.onpageload = function() {
		//초기화
        com.file.init();
		var codeOptions = [{}];
		com.setCmnCd(codeOptions, function() {
			outputcard_no.hide(); // 카드번호 최초저장이후에는 수정불가함으로 인해 셀렉트박스대신 inputbox로 대체

			reject_label.hide();
			
			
			//==============================================================================
			// 폼변수 선언
			//==============================================================================
			var param2 = com.getParameter("req_no"); 
			var param3 = com.getParameter("aprState"); // 결재에서 넘어올 때 결재상태 의미
			var param5 = com.getParameter("param5"); // 결재에서 넘어올 때 문서고유번호 의미
			var param4 = com.getParameter("param4"); // 결재에서 넘어올 때 apr
			var pagefrom = com.getParameter("pagefrom"); // 결재에서 넘어올 때 결재완료함이나 담당자완료함을 의미
			
			// 목록메뉴에서 넘어오는 파라미터
			var paramInputTag = com.getParameter("inputtag");
			var pramReqFromYmd = com.getParameter("req_from_ymd");
			var paramReqToYmd = com.getParameter("req_to_ymd");
			var pramReqNo = com.getParameter("req_no"); // 목록 조회조건
			var pramReqNo1 = com.getParameter("param_req_no"); // 선택신청번호
			var pramReqPsn = com.getParameter("req_psn"); // 목록 조회조건
			var pramReqPsn1 = com.getParameter("param_req_psn"); // 선택신청자
			var pramUsePsn = com.getParameter("use_psn");
			var paramAprState = com.getParameter("apr_state");
			var xmlId = com.getParameter("xml_id");	
			
			var attachFileNo_A 	= "";
			var attachFileNo_B 	= "";
			
			// 목록에서 넘어왔을 때 혹은 결재 > 신청서양식함에서 넘어왔을 때
			if (param2 == "" || com.getParameter("apr_state")=="XAD100" 
							 || com.getParameter("apr_state")=="XAD070") { 
				if(paramInputTag=="" && param2 == "") {
					paramInputTag = "I";
				}
				
				if (paramInputTag == "I") { // 목록 > 신규
					scwin.btnControl("new");					
					req_ymd.setValue(com.getServerDateTime().substr(0,8));
					fr_ymd.setValue(com.getServerDateTime().substr(0,8));
					to_ymd.setValue(WebSquare.date.dateAdd(com.getServerDateTime().substr(0,8), 30));
					hide_input_tag.setValue(paramInputTag);
					dom_amt.setValue(20000000);
					over_amt.setValue(4000);
					
					com.file.create(upload_A.getID(), {fileKey: ("" !== attachFileNo_A.trim()) ? attachFileNo_A.trim() : 'F981', mode: 'edit'});
                	com.file.create(upload_B.getID(), {fileKey: ("" !== attachFileNo_B.trim()) ? attachFileNo_B.trim() : 'F981', mode: 'edit'});
                	
					scwin.selectHumBtn('New');			

				} else if (param5 == "F70") { // 신청서양식함 > 신규
					scwin.btnControl("new");					
					req_ymd.setValue(com.getServerDateTime().substr(0,8));
					fr_ymd.setValue(com.getServerDateTime().substr(0,8));
					to_ymd.setValue(WebSquare.date.dateAdd(com.getServerDateTime().substr(0,8), 30));
					dom_amt.setValue(20000000);
					over_amt.setValue(4000);
					hide_input_tag.setValue("I");
					
					com.file.create(upload_A.getID(), {fileKey: ("" !== attachFileNo_A.trim()) ? attachFileNo_A.trim() : 'F981', mode: 'edit'});
                	com.file.create(upload_B.getID(), {fileKey: ("" !== attachFileNo_B.trim()) ? attachFileNo_B.trim() : 'F981', mode: 'edit'});
					
					scwin.selectHumBtn('New');
					
				} else { // 목록 > 수정
					hide_input_tag.setValue(paramInputTag);
					req_no.setValue(pramReqNo1);
					
					scwin.menuFind();
					
					if (pramReqPsn1 == com.getLoginInfo("sn")) {
						if (paramAprState > "XAD010") {
							scwin.btnControl("postapprvlreq");
						} else {
							scwin.btnControl("postsave");
						}
					} else {
						scwin.btnControl("postapprvlreq");
					}
				}
			} else { // 결재함에서 넘어왔을 때
				if (param3 == "XAD070") { // 담당자 승인 혹은 반려모드
					hide_input_tag.setValue("U");
					req_no.setValue(param2);
					scwin.menuFind();
				} else if (param3 == "XAD100") { // 승인완료 조회
					hide_input_tag.setValue("U");
					req_no.setValue(param2);
					scwin.menuFind();
				} else if (param4 != "apr" && com.getParameter("apr_state") == "XAD015") { // 목록에서 반려시
					hide_input_tag.setValue("U");
					scwin.btnControl("postapprvlreq");
					req_no.setValue(param2);
					scwin.menuFind();
				} else { // 결재 > 작성중문서함 > 수정
					scwin.btnControl("postsave");
					hide_input_tag.setValue("U");
					req_no.setValue(param2);
					scwin.menuFind();
				}
			}					
		});	
	};
	
	scwin.onpageunload = function() {
		
	};

	//조회
	scwin.menuFind = function()  {		
		var param2 = com.getParameter("req_no"); // 결재에서 넘어올 때 신청번호 의미
		var param3 = com.getParameter("aprStatus"); // 결재에서 넘어올 때 결재상태 의미
		var param5 = com.getParameter("param5"); // 결재에서 넘어올 때 문서고유번호 의미
		var pagefrom = com.getParameter("pagefrom"); // 결재에서 넘어올 때 결재완료함이나 담당자완료함을 의미
		var sn = com.getLoginInfo("sn");
				
		dma_search.set("req_no", req_no.getValue())
		com.execute(sbm_selectData, {
			successCallback: function(e) {
				
				//데이터콜렉션세팅
                dma_result.setJSON(e.responseJSON.elData);				
				// 신청자정보
				req_no.setValue(e.responseJSON.elData.req_no);
				req_ymd.setValue(e.responseJSON.elData.req_ymd);
				req_ymd.setDisabled(true);
				aprstate = e.responseJSON.elData.apr_state;
				
				if (aprstate == "XAD005" || aprstate == "XAD015") { // 반려일 때 반려의견 조회
					scwin.rejectGrid(req_no.getValue());
					reject_label.show("");
				}
				
				req_nm.setValue(e.responseJSON.elData.req_nm);
				req_empno.setValue(e.responseJSON.elData.req_empno);
				hide_req_psn.setValue(e.responseJSON.elData.req_psn);
				hide_req_dept.setValue(e.responseJSON.elData.req_dept_cd);
				req_dept_nm.setValue(e.responseJSON.elData.req_dept_nm);
				hide_req_posi_cd.setValue(e.responseJSON.elData.req_posi_cd);
				req_posi_nm.setValue(e.responseJSON.elData.req_posi_nm);
				
				if(com.getParameter("inputtag")==""){
					if ((param3 ? param3 : aprstate) == "XAD100" && hide_req_psn.getValue() != sn && pagefrom == "mng_comp") {
						scwin.btnControl("damdangrejt");
					} else if ((param3 ? param3 : aprstate) == "XAD100" && hide_req_psn.getValue() != sn && pagefrom != "mng_comp") {
						scwin.btnControl("postconfORrejt");
					} else if ((param3 ? param3 : aprstate) == "XAD100" && hide_req_psn.getValue() == sn) {
						scwin.btnControl("postapprvlreq");
					} else if (aprstate == "XAD070" && hide_req_psn.getValue() != sn) {
						scwin.btnControl("confORrejt");
					} else if (aprstate == "XAD070" && hide_req_psn.getValue() == sn) {
						scwin.btnControl("postapprvlreq");
					}
				}
				
				// 사용자정보
				use_empno.setDisabled(true);
				btn_use_search.setDisabled(true);
				hide_use_psn.setValue(e.responseJSON.elData.use_psn);
				hide_use_dept.setValue(e.responseJSON.elData.use_dept_cd);
				hide_use_posi_cd.setValue(e.responseJSON.elData.use_posi_cd);
				
				// 카드정보				
				outputcard_no.show("");
				outputcard_no.setValue(e.responseJSON.elData.card_no);
				selectbox_card_no.hide();
					
				dom_amt.setValue(e.responseJSON.elData.req_dom_amt);
				over_amt.setValue(e.responseJSON.elData.req_over_amt);
				fr_ymd.setValue(e.responseJSON.elData.str_ymd);
				to_ymd.setValue(e.responseJSON.elData.cls_ymd);
				rmk.setValue(e.responseJSON.elData.rmk);

				
				// 첨부파일
				attachFileNo_A = e.responseJSON.elData.attach_file_no
				attachFileNo_B = e.responseJSON.elData.attach_file_no1
				
				if (aprstate > "XAD010" || param3 == "XAD010") {
					com.file.create(upload_A.getID(), {fileKey: ("" !== attachFileNo_A.trim()) ? attachFileNo_A.trim() : 'F981', mode: 'edit'});
                	com.file.create(upload_B.getID(), {fileKey: ("" !== attachFileNo_B.trim()) ? attachFileNo_B.trim() : 'F981', mode: 'edit'});
				}else{
					com.file.create(upload_A.getID(), {fileKey: ("" !== attachFileNo_A.trim()) ? attachFileNo_A.trim() : 'F981', mode: 'edit'});
                	com.file.create(upload_B.getID(), {fileKey: ("" !== attachFileNo_B.trim()) ? attachFileNo_B.trim() : 'F981', mode: 'edit'});
				}	
			}				
		});		
	}

    /**	
     *	사원 조회
     **/
	scwin.selectHumBtn = function(clsf) {
		var data={work_clsf : "HAG010"}; 
		if(clsf == "Req_Hum"){
			if(inputReqEmpNo.getValue()!=''){
				data.empno = req_empno.getValue();
				data.nm = req_empno.getValue();
			}else{
				data.empno = com.getLoginInfo("empno");
				data.nm = com.getLoginInfo("empno");
			}
		}else if(clsf == "Use_Hum"){
			if(inputUseEmpno.getValue()!=''){
				data.empno = use_empno.getValue();
				data.nm = use_empno.getValue();
			}else{
				data.empno = com.getLoginInfo("empno");
				data.nm = com.getLoginInfo("empno");
			}
		}else if(clsf == "New"){
			data.empno = com.getLoginInfo("empno");
			data.nm = com.getLoginInfo("empno");
		}
		
		data.ref_yn = (data.empno == "")? "Y" : "N";
		
		com.pop.open( com.pop.TYPE.HUM, data, function(ret){
			if(clsf == "Req_Hum"){				
				dma_result.set("req_nm", ret.nm);
				dma_result.set("req_empno", ret.empno);
				dma_result.set("hide_req_psn", ret.syspayno);
				dma_result.set("hide_req_dept", ret.dept_cd);
				dma_result.set("req_dept_nm", ret.dept_nm);
				dma_result.set("hide_req_posi_cd", ret.posi_cd);
				dma_result.set("req_posi_nm", ret.posi_nm);		
			}else if(clsf == "Use_Hum"){
				dma_result.set("use_nm", ret.nm);
				dma_result.set("use_empno", ret.empno);
				dma_result.set("hide_use_psn", ret.syspayno);
				dma_result.set("hide_use_dept", ret.dept_cd);
				dma_result.set("use_dept_nm", ret.dept_nm);
				dma_result.set("hide_use_posi_cd", ret.posi_cd);
				dma_result.set("use_posi_nm", ret.posi_nm);			
			}else if(clsf == "New"){
				// 사용자정보(신규일 때 신청자정보와 동일하게 설정)
				dma_result.set("req_nm", ret.nm);
				dma_result.set("req_empno", ret.empno);
				dma_result.set("hide_req_psn", ret.syspayno);
				dma_result.set("hide_req_dept", ret.dept_cd);
				dma_result.set("req_dept_nm", ret.dept_nm);
				dma_result.set("hide_req_posi_cd", ret.posi_cd);
				dma_result.set("req_posi_nm", ret.posi_nm);
				dma_result.set("use_nm", ret.nm);
				dma_result.set("use_empno", ret.empno);
				dma_result.set("hide_use_psn", ret.syspayno);
				dma_result.set("hide_use_dept", ret.dept_cd);
				dma_result.set("use_dept_nm", ret.dept_nm);
				dma_result.set("hide_use_posi_cd", ret.posi_cd);
				dma_result.set("use_posi_nm", ret.posi_nm);
				dma_card_search.set("keep_charg", hide_use_psn.getValue());
				com.execute(sbm_selectCard, {
					successCallback: function(e) {
					
					}					
				});	
			}
		});
	};
	
	scwin.btn_hum_search_onclick = function(e) {
		scwin.selectHumBtn("Req_Hum");
	};
	
	scwin.btn_use_search_onclick = function(e) {
		scwin.selectHumBtn("Use_Hum");
	};	
		
	// 신청자 빈값일경우 이름, 시스템사번 데이터셋 초기화
	scwin.inputReqEmpNo_onchange = function(info) {
		if(info.newValue == "") {
			dma_search.set("req_nm", "");
			dma_search.set("req_sno", "");
			dma_search.set("req_psn", "");
		}
	};
	scwin.inputReqEmpNo_onkeypress = function(e) {
		if(event.keyCode == 13){
			scwin.selectHumBtn("Req_Hum");
		}
	};

	// 사용지 빈값일경우 이름, 시스템사번 데이터셋 초기화
	scwin.inputUseEmpNo_onchange = function(info) {
		if(info.newValue == "") {
			dma_search.set("use_nm", "");
			dma_search.set("use_no", "");
			dma_search.set("use_psn", "");
		}
	};
	scwin.inputUseEmpNo_onkeypress = function(e) {
		if(event.keyCode == 13){
			scwin.selectHumBtn("Use_Hum");
		}
	};
	
	//버튼 컨트롤러
	scwin.btnControl = function(flag) {
		if (flag == "new") {
			btnApproval.setDisabled(true);
			triggerList.setDisabled(false);
			btnSave.setDisabled(false);
			btnDel.setDisabled(true);
			btnCnf.setDisabled(true);
			btnRjt.setDisabled(true);
			btnCnf.hide();
			btnRjt.hide();
			rejectC.setStyle("display", "none");
		} else if (flag == "postsave") {
			btnApproval.setDisabled(false);
			triggerList.setDisabled(false);
			btnSave.setDisabled(false);
			btnDel.setDisabled(false);
			btnCnf.setDisabled(true);
			btnRjt.setDisabled(true);
			btnCnf.hide();
			btnRjt.hide();
			rejectC.setStyle("display", "none");
		} else if (flag == "postapprvlreq") {
			grp_input.setDisabled(true);//input 요소 disabled
			btnApproval.setDisabled(true);
			triggerList.setDisabled(false);
			btnSave.setDisabled(true);
			btnDel.setDisabled(true);
			btnCnf.setDisabled(true);
			btnRjt.setDisabled(true);
			btnCnf.hide();
			btnRjt.hide();
			rejectC.setStyle("display", "none");
		} else if (flag == "confORrejt") {
			btnApproval.setDisabled(true);
			triggerList.setDisabled(true);
			btnSave.setDisabled(true);
			btnDel.setDisabled(true);
			grp_input.setDisabled(true);//input 요소 disabled
			btnSave.hide();
			btnDel.hide();
			btnCnf.show("");
			btnRjt.show("");
			btnCnf.setDisabled(false);
			btnRjt.setDisabled(false);
			rejectC.setStyle("display", "none");
		} else if (flag == "postconfORrejt") {
			btnApproval.setDisabled(true);
			triggerList.setDisabled(true);
			btnSave.setDisabled(true);
			btnDel.setDisabled(true);
			grp_input.setDisabled(true);//input 요소 disabled
			btnSave.hide();
			btnDel.hide();
			btnCnf.show("");
			btnRjt.show("");
			btnCnf.setDisabled(true);
			btnRjt.setDisabled(true);
			rejectC.setStyle("display", "none");
		} else if (flag == "damdangrejt") {
			grp_input.setDisabled(true);//input 요소 disabled
			btnApproval.setDisabled(true);
			triggerList.setDisabled(true);
			btnSave.setDisabled(true);
			btnDel.setDisabled(true);
			btnSave.hide();
			btnDel.hide();
			btnCnf.show("");
			btnRjt.show("");
			btnCnf.setDisabled(true);
			btnRjt.setDisabled(false);
			rejectC.setStyle("display", "none");
		} else {
			grp_input.setDisabled(true);//input 요소 disabled
			btnApproval.setDisabled(true);
			triggerList.setDisabled(true);
			btnSave.setDisabled(true);
			btnDel.setDisabled(true);
			btnSave.hide();
			btnDel.hide();
			btnCnf.setDisabled(true);
			btnRjt.setDisabled(true);
			btnCnf.hide();
			btnRjt.hide();
			rejectC.setStyle("display", "none");
		}
		
		return true;
	}	

	//목록 이동
    scwin.btn_list_onclick = function(e) {
		var data = { req_from_ymd : com.getParameter("req_from_ymd"),
		 			 req_to_ymd : com.getParameter("req_to_ymd"),
		 			 req_no : req_no.getValue().trim(), 
		 			 req_psn: com.getParameter("req_psn"),
		 			 use_psn: com.getParameter("use_psn")
 					};
        scwin.backToList(data);
    };
    
    scwin.backToList = function(data) {
	    com.moveList("F980", data);
    }
	/*
     * 법인카드 국내외 사용한도 증액 신청서 인쇄
     */
	scwin.btn_print_onclick = function(e) {
		var reqNo = req_no.getValue().trim();
		
		if (reqNo == "") {
			alert("신청번호가 없습니다.");
			return;
		}			
		var node = "req_no=" + reqNo;
       			 		
		com.oz.openPopup({
				ozrCode : "F059",      
				param: node
	    });	
	}    
    
    //저장 버튼 클릭
    scwin.btn_menuSave_onclick = function(e) {
	    if (!preSave()) {
			return;
		}else{
			scwin.save();	    		
		}
    };
    
	//저장 전처리
	scwin.preSave = function(e) {			
		if (req_ymd.getValue() == "" || fr_ymd.getValue() == "" || to_ymd.getValue() == "") {
			if (req_ymd.getValue().length < 8) {
				alert("신청일자를 입력해주세요.");
				return false;
			}
			
			if (fr_ymd.getValue().length < 8 || to_ymd.getValue().length < 8) {
				alert("증액기간을 입력해주세요.");
				return false;
			}
		}
		
		if (req_empno.getValue() == "" || hide_req_psn.getValue() == "" || req_nm.getValue() == "" || use_empno.getValue() == "" || hide_use_psn.getValue() == "" || use_nm.getValue() == "") {
			if (req_dept_nm.getValue() == "" || hide_req_dept.getValue() == "" || req_posi_nm.getValue() == "" || hide_req_posi_cd.getValue() == "") {
				alert("신청자정보가 입력되지 않았습니다.");
				return false;
			}
			
			if (use_dept_nm.getValue() == "" || hide_use_dept.getValue() == "" || use_posi_nm.getValue() == "" || hide_use_posi_cd.getValue() == "") {
				alert("사용자정보가 입력되지 않았습니다.");
				return false;
			}
		}
		
		if (hide_input_tag.getValue() == "I") {
			if (selectbox_card_no.getValue() == "" || selectbox_card_no.getValue() == 'all') {
				alert("카드번호를 선택해주세요.");
				return false;
			}
		}
		
		if (dom_amt.getValue() == "" || over_amt.getValue() == "" || Number(dom_amt.getValue()) == 0 || Number(over_amt.getValue()) == 0 || (Number(dom_amt.getValue()) == 20000000 && over_amt.getValue() < 4000) || (Number(dom_amt.getValue()) < 20000000 && over_amt.getValue() == 4000) || (Number(dom_amt.getValue()) == 20000000 && over_amt.getValue() == 4000)) {
			alert("신청하실 카드사용한도를 다시 입력하세요.");
			return false;
		}
		
		$l("국내카드사용한도>>>>>>>>>>>>" + dom_amt.getValue());
		$l("해외카드사용한도>>>>>>>>>>>>" + over_amt.getValue());
		
		if (com.file.action.getTotalFileCount(upload_A.getID()) < 1 && rmk.getValue() == "") {
			alert("증액사유 첨부파일을 올리거나 비고를 입력해주세요");
			return false;
		}
		
		return true;
	}


    /**	
     *	저장
     **/
    scwin.save = function(e) {
	    
        com.confirm("message.xom.wq.017" /*저장 하시겠습니까?*/ , function(ret) {
            if (ret) {
                com.file.transport(function(attachObj) {
	                
					if (attachObj.upload_A == null || attachObj.upload_A == '') {
                        com.file.create(upload_A.getID(), { fileKey: "F981", mode: "edit" });
                        com.file.create(upload_B.getID(), { fileKey: "F981", mode: "edit" });
                    }
                    var attaches = [];
		            attaches.push(attachObj.upload_A);
		            attaches.push(attachObj.upload_B);
                    dma_save_search.set("cud_flag", hide_input_tag.getValue());
                    dma_save_search.set("apr_state", "XAD010");
                    dma_save_search.set("ui_id", "F981");
                    dma_save_search.set("endpoints", com.getLoginInfo("uid"));
                    dma_save_search.set("req_no", req_no.getValue());
                    dma_save_search.set("req_ymd", req_ymd.getValue());
                    dma_save_search.set("req_psn", hide_req_psn.getValue());
                    dma_save_search.set("req_dept_cd", hide_req_dept.getValue());
                    dma_save_search.set("req_posi_cd", hide_req_posi_cd.getValue());
                    dma_save_search.set("use_psn", hide_use_psn.getValue());
                    dma_save_search.set("use_dept_cd", hide_use_dept.getValue());
                    dma_save_search.set("use_posi_cd", hide_use_posi_cd.getValue());
                    dma_save_search.set("card_no", selectbox_card_no.getValue());
                    dma_save_search.set("req_dom_amt", dom_amt.getValue());
                    dma_save_search.set("req_over_amt", over_amt.getValue());
                    dma_save_search.set("str_ymd", fr_ymd.getValue());
                    dma_save_search.set("cls_ymd", to_ymd.getValue());
                    dma_save_search.set("rmk", rmk.getValue());
                    dma_save_search.set("attach_file_no", attachObj.upload_A);
                    dma_save_search.set("attach_file_no1", attachObj.upload_B);
                    dma_save_search.set("validAttachNo", attaches.join(','));
                    
                    
					if (hide_input_tag.getValue() == "I") {
						dma_save_search.set("regst_syspayno", com.getLoginInfo("empno"));
					} else {
						dma_save_search.set("updt_syspayno", com.getLoginInfo("empno"));
					}                    
                    com.execute(sbm_saveCert, {
                        successCallback: function(e) { // 성공 콜백				
                            com.alert("message.xom.wq.023" /*정상적으로 처리되었습니다.*/ , function() {
	                            
			   					if (hide_input_tag.getValue() == "I") {
									req_no.setValue(e.responseJSON.elData.req_no);
								}
								scwin.btnControl("postsave");
								hide_input_tag.setValue("U");
								scwin.menuFind();
								scwin.btn_apr_onclick();
                            });
                        }
                    });
                });
            }
        });
    	
    };

    //저장 버튼 클릭
    scwin.btn_menuSave_onclick = function(e) {
	    if (!scwin.preSave()) {
			return;
		} else {
			scwin.save();	    		
		}
    };

	//삭제
	scwin.btn_menuDelete_onclick = function(e) {
		if (dma_result.get("apr_state") == "XAD010" || 
			dma_result.get("apr_state") == "XAD005" || 
			dma_result.get("apr_state") == "XAD013" || 
			dma_result.get("apr_state") == "XAD015") {
								
			com.confirm("message.xom.wq.022" /*삭제 하시겠습니까?*/ , function(ret) {
				if (ret) {
					var reqNo= req_no.getValue();
					    dma_save_search.set("cud_flag", "D");
					    dma_save_search.set("req_no", reqNo);
		
					    com.execute(sbm_delCert, {
						    successCallback: function(e) { // 성공 콜백
								alert("삭제되었습니다");
								scwin.btn_list_onclick();					   	
						   	}					    
					    });
					}			
			}); 
		} else {
			alert("해당건은 현재 결재진행중입니다.");
			return false;
		}	
	}
	
	//결제 신청	
    scwin.btn_apr_onclick = function(e) {	    
        com.confirm("결재 하시겠습니까?", function(ret) {
            if (ret) {
                dma_save_search.set("card_no", outputcard_no.getValue());
                dma_save_search.set("req_nm", req_nm.getValue());
                dma_save_search.set("req_no", req_no.getValue());
                com.execute(sbm_aprCert, {
                    successCallback: function(e) { // 성공 콜백
                        com.alert("message.xom.wq.023" /*정상적으로 처리되었습니다.*/ , function() {
	                        scwin.btnControl("postapprvlreq");
                            scwin.menuFind();
                            com.openTabMenu("A005", {});
                        });
                    }
                });
            }
        });
    };


    //승인
    scwin.triggerApprove_onclick = function(e) {
        dma_save_search.set("req_no", req_no.getValue());
        dma_save_search.set("apr_state", "XAD100");
        dma_save_search.set("cud_flag", "A")
        
        com.execute(sbm_apyConfORrejt, {
            successCallback: function(e) {
                alert("승인처리 되었습니다");
                scwin.btnControl("postconfORrejt");
                scwin.menuFind();
                com.openTabMenu("A006", {});
            }
        });
    };
    
	//반려
    scwin.triggerBack_onclick = function(e) {
        var options = {
            id: "APR02P",
            popupName: "반려의견",
            width: 500,
            height: 300
        };
        com.openPopup("/ui/apr/APR_C001_03P.xml", options, "", function(retObj) {
            if (retObj.comments != null) {
                dma_save_search.set("comments", retObj.comments);
                dma_save_search.set("req_no", req_no.getValue());
                com.execute(sbm_apyConfORrejt, {
                    successCallback: function(e) {
                        alert("반려처리 되었습니다");
                        scwin.btnControl("postconfORrejt");
                        scwin.menuFind();
                        com.openTabMenu("A004", {});
                    }
                });
            }
        });
    };    

	scwin.rejectGrid = function(reqNo){
	
	}    	

	scwin.fr_ymd_onviewchange = function(info) {
	    var startDate = fr_ymd.getValue(); // 시작일
	    var endDate = to_ymd.getValue();   // 종료일
	
	    if (startDate > endDate) {
	        alert("증액기간의 시작일은 종료일보다 작아야 합니다.");
	        fr_ymd.setValue("");
	        return false;
	    }					
	};
	
	scwin.to_ymd_onviewchange = function(info) {
	    var startDate = fr_ymd.getValue(); // 시작일
	    var endDate = to_ymd.getValue();   // 종료일
	
	    if (startDate > endDate) {
	        alert("증액기간의 시작일은 종료일보다 작아야 합니다.");
	        to_ymd.setValue("");
	        return false;
	    }				
	};
	]]></script>
    </head>
    <body ev:onpageload="scwin.onpageload" ev:onpageunload="scwin.onpageunload">
    	<w2:wframe id="wfm_title" src="/cm/xml/contentTitle.xml" style=""></w2:wframe>
    	<xf:group class="pageWrap" id="" style="">
    		<xf:group class="searchSection step" id="" style="">
    			<xf:group class="le" id="">
    				<xf:trigger class="btn " id="triggerList" style="" type="button" ev:onclick="scwin.btn_list_onclick">
    					<xf:label><![CDATA[목록]]></xf:label>
    				</xf:trigger>
    			</xf:group>
    			<xf:group class="btnbox" id="">
    				<xf:trigger class="btn icon print" id="btn_print" style="" type="button" ev:onclick="scwin.btn_print_onclick">
    					<xf:label><![CDATA[인쇄]]></xf:label>
    				</xf:trigger>
    				<xf:trigger class="btn blue" id="btnApproval" style="" type="button" ev:onclick="scwin.btn_apr_onclick" >
    					<xf:label><![CDATA[결재신청]]></xf:label>
    				</xf:trigger>
    			</xf:group>
    			<xf:input
    				style="position:absolute;vertical-align:middle;word-wrap:break-word;left:565px;top:3px;width:20px;height:20px;display:none;"
    				onFocusStyle="" id="hide_req_dept" ref="data:dma_result.hide_req_dept">
    				<xf:label></xf:label>
    			</xf:input>
    			<xf:input
    				style="position:absolute;vertical-align:middle;word-wrap:break-word;left:595px;top:3px;width:20px;height:20px;display:none;"
    				onFocusStyle="" id="hide_req_psn" ref="data:dma_result.hide_req_psn">
    				<xf:label></xf:label>
    			</xf:input>
    			<xf:input
    				style="position:absolute;vertical-align:middle;word-wrap:break-word;left:627px;top:3px;width:20px;height:20px;display:none;"
    				onFocusStyle="" id="hide_input_tag">
    				<xf:label></xf:label>
    			</xf:input>
    			<xf:input id="hide_req_posi_cd" onFocusStyle=""
    				style="position:absolute;vertical-align:middle;word-wrap:break-word;left:657px;top:4px;width:20px;height:20px;display:none;"
    				ref="data:dma_result.hide_req_posi_cd">
    				<xf:label></xf:label>
    			</xf:input>
    			<xf:input id="hide_use_psn" onFocusStyle=""
    				style="position:absolute;vertical-align:middle;word-wrap:break-word;left:495px;top:5px;width:20px;height:20px;display:none;"
    				ref="data:dma_result.hide_use_psn">
    				<xf:label></xf:label>
    			</xf:input>
    			<xf:input id="hide_use_posi_cd" onFocusStyle=""
    				style="position:absolute;vertical-align:middle;word-wrap:break-word;left:525px;top:5px;width:20px;height:20px;display:none;"
    				ref="data:dma_result.hide_use_posi_cd">
    				<xf:label></xf:label>
    			</xf:input>
    			<xf:input id="hide_use_dept" onFocusStyle=""
    				style="position:absolute;vertical-align:middle;word-wrap:break-word;left:465px;top:5px;width:20px;height:20px;display:none;"
    				ref="data:dma_result.hide_use_dept">
    				<xf:label></xf:label>
    			</xf:input>
    			<w2:span class="helptxt  red" id="reject_label"
    				label="   * 반려 건 수정은 결재메뉴  > 반려함에서 작성중문서함으로 이동 후 가능합니다." style="">
    			</w2:span>
    		</xf:group>
    		<xf:group id="grp_input" class="" style="margin-top: 20px;">
    			<xf:group tagname="table" style="" id="" class="w2tb tbl">
    				<w2:attributes>
    					<w2:summary></w2:summary>
    				</w2:attributes>
    				<xf:group tagname="caption"></xf:group>
    				<xf:group tagname="colgroup">
    					<xf:group tagname="col" style="width:200px;"></xf:group>
    					<xf:group tagname="col" style=""></xf:group>
    					<xf:group tagname="col" style="width:200px;"></xf:group>
    					<xf:group tagname="col" style=""></xf:group>
    					<xf:group tagname="col" style="width:200px;"></xf:group>
    					<xf:group tagname="col" style=""></xf:group>
    				</xf:group>
    				<xf:group tagname="tr">
    					<xf:group tagname="th" class="w2tb_th">
    						<w2:attributes>
    							<w2:scope>row</w2:scope>
    						</w2:attributes>
    						<w2:textbox tagname="span" style="" id="" label="신청번호"></w2:textbox>
    					</xf:group>
    					<xf:group tagname="td" id="" class="w2tb_td">
    						<w2:attributes></w2:attributes>
    						<xf:input ref="data:dma_search.req_no" adjustMaxLength="false" style="max-width: 200px;" readOnly="true"
    							disabled="true" id="req_no" title="" class="inp full">
    						</xf:input>
    					</xf:group>
    					<xf:group tagname="th" class="w2tb_th">
    						<w2:attributes>
    							<w2:scope>row</w2:scope>
    						</w2:attributes>
    						<w2:span style="" id="" label="[필수입력항목]" class="bul_req"></w2:span>
    						<w2:textbox tagname="span" style="" id="" label="신청일자" class="blue"></w2:textbox>
    					</xf:group>
    					<xf:group tagname="td" class="w2tb_td">
    						<w2:attributes>
    							<w2:colspan>3</w2:colspan>
    							<w2:rowspan>1</w2:rowspan>
    						</w2:attributes>
    						<w2:inputCalendar ref="data:dma_result.req_ymd" footerDiv="false" rightAlign="false" focusOnDateSelect="false"
    							style="max-width: 200px;" disabled="true" readOnly="true" id="req_ymd" class="inpcal full" renderDiv="true"
    							calendarValueType="yearMonthDate">
    						</w2:inputCalendar>
    					</xf:group>
    				</xf:group>
    				<xf:group tagname="tr">
    					<xf:group tagname="th" class="w2tb_th">
    						<w2:attributes>
    							<w2:scope>row</w2:scope>
    						</w2:attributes>
    						<w2:textbox tagname="span" style="" id="" label="신청자"></w2:textbox>
    					</xf:group>
    					<xf:group tagname="td" class="w2tb_td">
    						<w2:attributes></w2:attributes>
    						<xf:group style="" id="" class="flex">
    							<xf:group style="width:120px;" id="" class="inpSch fix">
    								<xf:input ref="data:dma_result.req_empno" ev:onchange="scwin.inputReqEmpNo_onchange"
    									adjustMaxLength="false" style="" readOnly="true" disabled="true" id="req_empno" class="inp"
    									ev:onkeypress="scwin.inputReqEmpNo_onkeypress">
    								</xf:input>
    								<xf:trigger ev:onclick="scwin.btn_hum_search_onclick" style="" disabled="true" id="triggerReqNm"
    									type="button" class="btn">
    									<xf:label><![CDATA[검색]]></xf:label>
    								</xf:trigger>
    							</xf:group>
    							<xf:input ref="data:dma_result.req_nm" adjustMaxLength="false" style="max-width: 150px;" readOnly="true"
    								disabled="true" id="req_nm" class="inp full">
    							</xf:input>
    						</xf:group>
    					</xf:group>
    					<xf:group tagname="th" class="w2tb_th">
    						<w2:attributes></w2:attributes>
    						<w2:textbox tagname="span" style="" id="" label="신청자부서"></w2:textbox>
    					</xf:group>
    					<xf:group tagname="td" class="w2tb_td">
    						<w2:attributes></w2:attributes>
    						<xf:input ref="data:dma_result.req_dept_nm" adjustMaxLength="false" style="max-width: 200px;" readOnly="true"
    							disabled="true" id="req_dept_nm" title="" class="inp full">
    						</xf:input>
    					</xf:group>
    					<xf:group tagname="th" class="w2tb_th">
    						<w2:attributes></w2:attributes>
    						<w2:textbox tagname="span" style="" id="" label="신청자직급"></w2:textbox>
    					</xf:group>
    					<xf:group tagname="td" class="w2tb_td">
    						<w2:attributes></w2:attributes>
    						<xf:input ref="data:dma_result.req_posi_nm" adjustMaxLength="false" style="max-width: 200px;" readOnly="true"
    							disabled="true" id="req_posi_nm" title="" class="inp full">
    						</xf:input>
    					</xf:group>
    				</xf:group>
    				<xf:group tagname="tr">
    					<xf:group tagname="th" class="w2tb_th">
    						<w2:attributes>
    							<w2:scope>row</w2:scope>
    						</w2:attributes>
    						<w2:textbox tagname="span" style="" id="" label="사용자"></w2:textbox>
    					</xf:group>
    					<xf:group tagname="td" class="w2tb_td">
    						<w2:attributes></w2:attributes>
    						<xf:group style="" id="" class="flex">
    							<xf:group style="width:120px;" id="" class="inpSch fix">
    								<xf:input ref="data:dma_result.use_empno" ev:onchange="scwin.inputUseEmpNo_onchange"
    									adjustMaxLength="false" style="" disabled="true" id="use_empno" class="inp" ev:onkeypress="scwin.inputUseEmpNo_onkeypress">
    								</xf:input>
    								<xf:trigger ev:onclick="scwin.btn_use_search_onclick" style="" disabled="true" id="btn_use_search"
    									type="button" class="btn">
    									<xf:label><![CDATA[검색]]></xf:label>
    								</xf:trigger>
    							</xf:group>
    							<xf:input ref="data:dma_result.use_nm" adjustMaxLength="false" style="max-width: 150px;" readOnly="true"
    								disabled="true" id="use_nm" class="inp full">
    							</xf:input>
    						</xf:group>
    					</xf:group>
    					<xf:group tagname="th" class="w2tb_th">
    						<w2:attributes>
    							<w2:scope>row</w2:scope>
    						</w2:attributes>
    						<w2:textbox tagname="span" style="" id="" label="사용자부서"></w2:textbox>
    					</xf:group>
    					<xf:group tagname="td" class="w2tb_td">
    						<w2:attributes></w2:attributes>
    						<xf:input ref="data:dma_result.use_dept_nm" adjustMaxLength="false" style="max-width: 200px;" readOnly="true"
    							disabled="true" id="use_dept_nm" title="" class="inp full">
    						</xf:input>
    					</xf:group>
    					<xf:group tagname="th" class="w2tb_th">
    						<w2:attributes>
    							<w2:scope>row</w2:scope>
    						</w2:attributes>
    						<w2:textbox tagname="span" style="" id="" label="사용자직급"></w2:textbox>
    					</xf:group>
    					<xf:group tagname="td" class="w2tb_td">
    						<w2:attributes></w2:attributes>
    						<xf:input ref="data:dma_result.use_posi_nm" adjustMaxLength="false" style="max-width: 200px;" readOnly="true"
    							disabled="true" id="use_posi_nm" title="" class="inp full">
    						</xf:input>
    					</xf:group>
    				</xf:group>
    				<xf:group tagname="tr">
    					<xf:group tagname="th" class="w2tb_th">
    						<w2:attributes>
    							<w2:scope>row</w2:scope>
    						</w2:attributes>
    						<w2:span style="" id="" label="[필수입력항목]" class="bul_req"></w2:span>
    						<w2:textbox tagname="span" style="" id="" label="카드번호" class="blue"></w2:textbox>
    					</xf:group>
    					<xf:group tagname="td" class="w2tb_td">
    						<w2:attributes>
    							<w2:colspan>5</w2:colspan>
    							<w2:rowspan>1</w2:rowspan>
    						</w2:attributes>
    						<xf:select1 ref="" submenuSize="auto" appearance="minimal" disabledClass="w2selectbox_disabled" chooseOption=""
    							disabled="false" style="max-width: 200px;" allOption="true" id="selectbox_card_no" class="sel" displayMode="label"
    							direction="auto">
    							<xf:choices>
    								<xf:itemset nodeset="data:dlt_card_list">
    									<xf:label ref="card_no"></xf:label>
    									<xf:value ref="card_no"></xf:value>
    								</xf:itemset>
    							</xf:choices>
    						</xf:select1>

    						<xf:input adjustMaxLength="false" disabled="true" style="text-align:center; width:304px;" readOnly="true"
    							id="outputcard_no" title="" class="">
    						</xf:input>
    						<w2:span style="" id="" label="         * 사용한도 증액 신청은 본인이 사용 중인 카드만 작성 가능합니다." class="helptxt  red"></w2:span>
    					</xf:group>
    				</xf:group>
    			</xf:group>
    			<xf:group style="" id="" class="titleSection">
    				<w2:textbox tagname="h3" style="" id="" label="※ 현재사용한도 - 국내 : 2천만원(20,000,000), 국외 : 4천불(4,000)" class="tit_tbl"></w2:textbox>
    			</xf:group>
    			<xf:group tagname="table" style="" id="" class="w2tb tbl">
    				<w2:attributes>
    					<w2:summary></w2:summary>
    				</w2:attributes>
    				<xf:group tagname="caption"></xf:group>
    				<xf:group tagname="colgroup">
    					<xf:group tagname="col" style="width:120px;"></xf:group>
    					<xf:group tagname="col" style="width:80px;"></xf:group>
    					<xf:group tagname="col" style=""></xf:group>
    					<xf:group tagname="col" style="width:200px;"></xf:group>
    					<xf:group tagname="col"></xf:group>
    					<xf:group tagname="col" style="width:200px;"></xf:group>
    					<xf:group tagname="col" style=""></xf:group>
    				</xf:group>
    				<xf:group tagname="tr" style="">
    					<xf:group tagname="th" class="w2tb_th">
    						<w2:attributes>
    							<w2:scope>row</w2:scope>
    							<w2:colspan>1</w2:colspan>
    							<w2:rowspan>2</w2:rowspan>
    						</w2:attributes>
    						<w2:span style="" id="" label="[필수입력항목]" class="bul_req"></w2:span>
    						<w2:textbox tagname="span" style="" id="" label="사용한도 증액" class="blue"></w2:textbox>
    					</xf:group>
    					<xf:group tagname="th" class="w2tb_th">
    						<w2:attributes>
    							<w2:scope>row</w2:scope>
    						</w2:attributes>
    						<w2:textbox tagname="span" style="" id="" label="국내(\)"></w2:textbox>
    					</xf:group>
    					<xf:group tagname="td" class="w2tb_td">
    						<w2:attributes></w2:attributes>
    						<xf:input dataType="number" displayFormat="#,###" adjustMaxLength="false" style="max-width: 200px;" id="dom_amt"
    							title="" class="inp full ri">
    						</xf:input>
    					</xf:group>
    					<xf:group tagname="th" class="w2tb_th">
    						<w2:attributes>
    							<w2:scope>row</w2:scope>
    						</w2:attributes>
    						<w2:span style="" id="" label="[필수입력항목]" class="bul_req"></w2:span>
    						<w2:textbox tagname="span" style="" id="" label="증액기간" class="blue"></w2:textbox>
    					</xf:group>
    					<xf:group tagname="td" class="w2tb_td">
    						<w2:attributes>
    							<w2:colspan>3</w2:colspan>
    							<w2:rowspan>1</w2:rowspan>
    						</w2:attributes>
    						<xf:group style="" id="" class="inpcalWrap">
    							<w2:inputCalendar ref="data:dma_result.str_ymd" footerDiv="false" rightAlign="false"
    								focusOnDateSelect="false" ev:onviewchange="scwin.fr_ymd_onviewchange" style="" id="fr_ymd" placeholder="시작일" class="inpcal"
    								renderDiv="true" calendarValueType="yearMonthDate">
    							</w2:inputCalendar>
    							<w2:textbox tagname="span" style="" id="" label="~" class="dash"></w2:textbox>
    							<w2:inputCalendar ref="data:dma_result.cls_ymd" footerDiv="false" rightAlign="false"
    								focusOnDateSelect="false" ev:onviewchange="scwin.to_ymd_onviewchange" style="" id="to_ymd" placeholder="종료일" class="inpcal"
    								renderDiv="true" calendarValueType="yearMonthDate">
    							</w2:inputCalendar>
    						</xf:group>
    					</xf:group>
    				</xf:group>
    				<xf:group tagname="tr">
    					<xf:group tagname="th" class="w2tb_th">
    						<w2:attributes>
    							<w2:scope>row</w2:scope>
    						</w2:attributes>
    						<w2:textbox tagname="span" style="" id="" label="국외($)"></w2:textbox>
    					</xf:group>
    					<xf:group tagname="td" class="w2tb_td">
    						<w2:attributes>
    							<w2:colspan>5</w2:colspan>
    							<w2:rowspan>1</w2:rowspan>
    						</w2:attributes>
    						<xf:input dataType="number" displayFormat="#,###" adjustMaxLength="false" style="max-width: 200px;"
    							id="over_amt" title="" class="inp full ri">
    						</xf:input>
    					</xf:group>
    				</xf:group>
    				<xf:group tagname="tr">
    					<xf:group tagname="th" class="w2tb_th">
    						<w2:attributes>
    							<w2:scope>row</w2:scope>
    							<w2:colspan>2</w2:colspan>
    							<w2:rowspan>1</w2:rowspan>
    						</w2:attributes>
    						<w2:textbox tagname="span" style="" id="" label="증액사유(첨부파일)"></w2:textbox>
    					</xf:group>
    					<xf:group tagname="td" class="w2tb_td">
    						<w2:attributes>
    							<w2:colspan>5</w2:colspan>
    							<w2:rowspan>1</w2:rowspan>
    						</w2:attributes>
    						<xf:group style="height:150px;" id="upload_A" class="fileuploadBox"></xf:group>
    					</xf:group>
    				</xf:group>
    				<xf:group tagname="tr">
    					<xf:group tagname="th" class="w2tb_th">
    						<w2:attributes>
    							<w2:scope>row</w2:scope>
    							<w2:colspan>2</w2:colspan>
    							<w2:rowspan>1</w2:rowspan>
    						</w2:attributes>
    						<w2:span style="" id="" label="[필수입력항목]" class="bul_req"></w2:span>
    						<w2:textbox tagname="span" style="" id="" label="증액사유(직접입력)" class="blue"></w2:textbox>
    					</xf:group>
    					<xf:group tagname="td" class="w2tb_td">
    						<w2:attributes>
    							<w2:colspan>5</w2:colspan>
    							<w2:rowspan>1</w2:rowspan>
    						</w2:attributes>
    						<xf:textarea style="height:80px;" id="rmk" title="" class=""></xf:textarea>
    					</xf:group>
    				</xf:group>
    				<xf:group tagname="tr">
    					<xf:group tagname="th" class="w2tb_th">
    						<w2:attributes>
    							<w2:scope>row</w2:scope>
    							<w2:colspan>2</w2:colspan>
    							<w2:rowspan>1</w2:rowspan>
    						</w2:attributes>
    						<w2:textbox tagname="span" style="" id="" label="첨부파일"></w2:textbox>
    					</xf:group>
    					<xf:group tagname="td" class="w2tb_td">
    						<w2:attributes>
    							<w2:colspan>5</w2:colspan>
    							<w2:rowspan>1</w2:rowspan>
    						</w2:attributes>
    						<xf:group style="height:150px;" id="upload_B" class="fileuploadBox"></xf:group>
    					</xf:group>
    				</xf:group>
    			</xf:group>
    		</xf:group>
    		<xf:group class="btnGroup" id="" style="">
    			<xf:group class="le" id="" style=""></xf:group>
    			<xf:group class="ri" id="">
    				<xf:trigger class="btn pro" id="btnCnf" style="" type="button" ev:onclick="scwin.triggerApprove_onclick" >
    					<xf:label><![CDATA[승인]]></xf:label>
    				</xf:trigger>
    				<xf:trigger class="btn pro" id="btnRjt" style="" type="button" ev:onclick="scwin.triggerBack_onclick" >
    					<xf:label><![CDATA[반려]]></xf:label>
    				</xf:trigger>
    				<xf:trigger class="btn pro" id="btnDel" style="" type="button" ev:onclick="scwin.btn_menuDelete_onclick">
    					<xf:label><![CDATA[삭제]]></xf:label>
    				</xf:trigger>
    				<xf:trigger class=" btn pro conf" id="btnSave" style="" type="button" ev:onclick="scwin.btn_menuSave_onclick">
    					<xf:label><![CDATA[저장]]></xf:label>
    				</xf:trigger>
    			</xf:group>
    		</xf:group>
   			<xf:group class="btnGroup" id="rejectC" style="">
	    		<w2:gridView autoFit="allColumn" class="grid" dataList="data:dlt_companion" defaultCellHeight="28"
	    			evenRowBackgroundColor="#f7faff" id="gridView1" noResultMessage="조회 결과가 없습니다." noResultMessageClass="noResult"
	    			rowMouseOverColor="#e7f0fb" rowNumBackgroundColor="#fff" rowNumHeaderValue="No." rowNumStatusResize="false" rowNumVisible="true"
	    			rowNumWidth="60" rowStatusHeaderValue="상태" rowStatusVisible="false" rowStatusWidth="50" scrollByColumn="false"
	    			scrollByColumnAdaptive="false" selectedCellColor="#fbf2cd" selectedRowColor="#fbf2cd" style="height: 85px;" summaryAuto="true"
	    			visibleRowNum="5">
	    			<w2:caption id="caption1" style="" value="this is a grid caption."></w2:caption>
	    			<w2:header id="header1" style="">
	    				<w2:row id="row1" style="">
	    					<w2:column displayMode="label" id="column7" inputType="text" style="height:28px;" value="반려자" width="100"></w2:column>
	    					<w2:column displayMode="label" id="column5" inputType="text" style="height:28px;" value="반려의견" width="300"></w2:column>
	    					<w2:column displayMode="label" id="column3" inputType="text" style="height:28px;" value="반려일시" width="100"></w2:column>
	    				</w2:row>
	    			</w2:header>
	    			<w2:gBody id="gBody1" style="">
	    				<w2:row id="row2" style="">
	    					<w2:column displayMode="label" id="reject_name" inputType="text" readOnly="true" style="height:28px;" width="100"></w2:column>
	    					<w2:column displayMode="label" escape="false" id="reject_contents" inputType="text" readOnly="true"
	    						style="height:28px;" width="300">
	    					</w2:column>
	    					<w2:column displayMode="label" escape="false" id="reject_wdate" inputType="text" readOnly="true"
	    						style="height:28px;" width="100">
	    					</w2:column>
	    				</w2:row>
	    			</w2:gBody>
	    		</w2:gridView>
    		</xf:group>
    	</xf:group>
    </body>
</html>
