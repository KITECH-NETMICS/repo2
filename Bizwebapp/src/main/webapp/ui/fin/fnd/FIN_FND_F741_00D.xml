<?xml version="1.0" encoding="UTF-8"?>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:ev="http://www.w3.org/2001/xml-events" xmlns:w2="http://www.inswave.com/websquare"
	xmlns:xf="http://www.w3.org/2002/xforms">
	<head meta_programName="예금입금의뢰등록" meta_author="이영희" meta_date="2023.05.16." meta_programId="F739">
		<w2:type>DEFAULT</w2:type>
		<w2:buildDate />
		<xf:model>
			<xf:instance>
				<data xmlns="" />
			</xf:instance>
			<w2:dataCollection baseNode="map">
				<w2:dataMap baseNode="map" id="dma_search">
					<w2:keyInfo>
						<w2:key id="accnt_no" name="계정번호" dataType="text"></w2:key>
						<w2:key id="req_no" name="신청번호" dataType="text"></w2:key>
						<w2:key id="acct_txday" name="입금일자" dataType="text"></w2:key>
						<w2:key id="acct_txday_seq" name="입금순번" dataType="text"></w2:key>
						<w2:key id="acct_no" name="계좌번호" dataType="text"></w2:key>
						<w2:key id="biz_clsf" name="업무구분" dataType="text"></w2:key>
					</w2:keyInfo>
				</w2:dataMap>
				<w2:dataMap baseNode="map" id="dma_depst">
					<w2:keyInfo>
						<w2:key id="req_no" name="신청번호" dataType="text"></w2:key>
						<w2:key id="accnt_no" name="계정번호" dataType="text"></w2:key>
						<w2:key id="accnt_no_nm" name="계정번호명" dataType="text"></w2:key>
						<w2:key id="acct_txday" name="입금일자" dataType="text"></w2:key>
						<w2:key id="acct_txday_seq" name="입금일자순번" dataType="text"></w2:key>
						<w2:key id="tx_amt" name="입금금액" dataType="text"></w2:key>
						<w2:key id="ramt" name="잔액" dataType="text"></w2:key>
						<w2:key id="remark" name="적요" dataType="text"></w2:key>
						<w2:key id="depst_schdl_seq" name="입금순번" dataType="text"></w2:key>
						<w2:key id="depst_schdl_detls_seq" name="입금상세순번" dataType="text"></w2:key>
						<w2:key id="bankaccnt_no" name="계좌번호" dataType="text"></w2:key>
						<w2:key id="bank_cd" name="은행" dataType="text"></w2:key>
						<w2:key id="bank_nm" name="은행명" dataType="text"></w2:key>
						<w2:key id="depst_liq" name="입금의뢰금액" dataType="text"></w2:key>
						<w2:key id="bf_depst_liq" name="이전입금의뢰금액" dataType="text"></w2:key>
						<w2:key id="depst_unslip_no" name="가결의번호" dataType="text"></w2:key>
						<w2:key id="depst_unslip_odr" name="가결의순번" dataType="text"></w2:key>
						<w2:key id="recv_bill_no" name="영수계산서번호" dataType="text"></w2:key>
						<w2:key id="slip_no" name="확정번호" dataType="text"></w2:key>
						<w2:key id="slip_odr" name="확정번호순번" dataType="text"></w2:key>
						<w2:key id="req_psn" name="신청자" dataType="text"></w2:key>
						<w2:key id="req_psn_nm" name="신청자명" dataType="text"></w2:key>
						<w2:key id="req_ymd" name="신청일자" dataType="text"></w2:key>
						<w2:key id="vend_cd" name="거래처코드" dataType="text"></w2:key>
						<w2:key id="vend_abbr" name="거래처" dataType="text"></w2:key>
						<w2:key id="rmk" name="비고" dataType="text"></w2:key>
						<w2:key id="depst_clsf" name="입금구분" dataType="text"></w2:key>
						<w2:key id="attach_file_no" name="첨부파일번호" dataType="text"></w2:key>
						<w2:key id="unslip_no" name="정산결의번호" dataType="text"></w2:key>
						<w2:key id="apr_state" name="결재상태" dataType="text"></w2:key>
						<w2:key id="req_dept" name="신청부서" dataType="text"></w2:key>
						<w2:key id="req_dept_new_ymd" name="신청부서신설일자" dataType="text"></w2:key>
						<w2:key id="req_dept_nm" name="신청부서명" dataType="text"></w2:key>
						<w2:key id="slip_ymd" name="결의일자" dataType="text"></w2:key>
						<w2:key id="cud_type" name="cud타입" dataType="text"></w2:key>
						<w2:key id="validAttachNo" name="첨부파일" dataType="text"></w2:key>
						<w2:key id="approval" name="결재신청" dataType="text"></w2:key>
						<w2:key id="suply_value" name="공급가액" dataType="text"></w2:key>
						<w2:key id="taxamt" name="세액" dataType="text"></w2:key>
						<w2:key id="accnt_rspns" name="계정책임자" dataType="text"></w2:key>
						<w2:key id="fomat_unit" name="편성단위" dataType="text"></w2:key>
					</w2:keyInfo>
				</w2:dataMap>
				<w2:dataList baseNode="list" id="dlt_depst" repeatNode="map" saveRemovedData="true" style="">
					<w2:columnInfo>
						<w2:column id="req_no" name="신청번호" dataType="text"></w2:column>
						<w2:column id="accnt_no" name="계정번호" dataType="text"></w2:column>
						<w2:column id="accnt_no_nm" name="계정명" dataType="text"></w2:column>
						<w2:column dataType="text" id="acct_txday" name="입금일자"></w2:column>
						<w2:column dataType="text" id="acct_txday_seq" name="입금일자순번"></w2:column>
						<w2:column id="tx_amt" name="입금금액" dataType="text"></w2:column>
						<w2:column id="ramt" name="잔액" dataType="text"></w2:column>
						<w2:column id="remark" name="적요" dataType="text"></w2:column>
						<w2:column dataType="text" id="bankaccnt_no" name="계좌번호"></w2:column>
						<w2:column id="bank_cd" name="은행" dataType="text"></w2:column>
						<w2:column id="bank_nm" name="은행명" dataType="text"></w2:column>
						<w2:column dataType="text" id="depst_liq" name="입금의뢰금액"></w2:column>
						<w2:column id="bf_depst_liq" name="이전입금의뢰금액" dataType="text"></w2:column>
						<w2:column dataType="text" id="depst_unslip_no" name="가결의번호"></w2:column>
						<w2:column dataType="text" id="depst_unslip_odr" name="가결의순번"></w2:column>
						<w2:column id="recv_bill_no" name="영수계산서번호" dataType="text"></w2:column>
						<w2:column dataType="text" id="slip_no" name="확정번호"></w2:column>
						<w2:column dataType="text" id="slip_odr" name="확정번호순번"></w2:column>
						<w2:column id="req_psn" name="신청자" dataType="text"></w2:column>
						<w2:column id="req_psn_nm" name="신청자명" dataType="text"></w2:column>
						<w2:column id="req_ymd" name="신청일자" dataType="text"></w2:column>
						<w2:column id="vend_cd" name="거래처코드" dataType="text"></w2:column>
						<w2:column id="vend_abbr" name="거래처" dataType="text"></w2:column>
						<w2:column id="rmk" name="비고" dataType="text"></w2:column>
						<w2:column id="depst_clsf" name="입금구분" dataType="text"></w2:column>
						<w2:column id="attach_file_no" name="첨부파일번호" dataType="text"></w2:column>
						<w2:column id="unslip_no" name="정산결의번호" dataType="text"></w2:column>
						<w2:column id="apr_state" name="결재상태" dataType="text"></w2:column>
						<w2:column id="req_dept" name="신청부서" dataType="text"></w2:column>
						<w2:column id="req_dept_new_ymd" name="신청부서신설일자" dataType="text"></w2:column>
						<w2:column id="slip_ymd" name="결의일자" dataType="text"></w2:column>
						<w2:column id="cud_type" name="cud타입" dataType="text"></w2:column>
						<w2:column id="suply_value" name="공급가액" dataType="text"></w2:column>
						<w2:column id="taxamt" name="세액" dataType="text"></w2:column>
						<w2:column id="accnt_rspns" name="계정책임자" dataType="text"></w2:column>
						<w2:column id="fomat_unit" name="편성단위" dataType="text"></w2:column>
					</w2:columnInfo>
				</w2:dataList>
			</w2:dataCollection>
			<w2:workflowCollection />
			<!-- 조회 -->
			<xf:submission id="sbm_selectData" ref="data:json,dma_search" target='data:json,{"id":"dlt_depst","key":"depstList"}'
				action="SvcFINFNDDEPR01.pwkjson" method="post" mediatype="application/json" encoding="UTF-8" instance="" replace="" errorHandler=""
				customHandler="" mode="asynchronous" processMsg="" ev:submit="" ev:submitdone="" ev:submiterror="" abortTrigger="">
			</xf:submission>
			<!-- 저장 -->
			<xf:submission id="sbm_saveData" ref='data:json,dma_depst' target='' action="SvcFINFNDDEPM01.pwkjson" method="post"
				mediatype="application/json" encoding="UTF-8" instance="" replace="" errorHandler="" customHandler="" mode="asynchronous" processMsg=""
				ev:submit="" ev:submitdone="" ev:submiterror="" abortTrigger="">
			</xf:submission>
			<!-- 삭제 -->
			<xf:submission id="sbm_deleteData" ref='data:json,dma_depst' target='' action="SvcFINFNDDEPD01.pwkjson" method="post"
				mediatype="application/json" encoding="UTF-8" instance="" replace="" errorHandler="" customHandler="" mode="asynchronous" processMsg=""
				ev:submit="" ev:submitdone="" ev:submiterror="" abortTrigger="">
			</xf:submission>
		</xf:model>
		<script src="/cm/js/biz/fin.js" cache="false"></script>
		<script type="text/javascript" lazy="false"><![CDATA[
    /****************************************************
 	 * 화면 설명 : 예금입금의뢰등록
	 * 변경 이력 : 2023-05-16	이영희	최초 작성
	 * ServiceId : F741
 	 ****************************************************/  
 	scwin.data ={saveFlag : false
 	             }; 
 	 
 	/**
	 * 페이지 로딩 이벤트
	 */  
	scwin.onpageload = function() {
		// 첨부파일 컴포넌트 초기화
		com.file.init();
		com.file.create(upload_A.getID(), {fileKey: "F741", mode: "edit"});
		
		// enter key event
		com.setEnterKeyEvent(grp_accnt_no, scwin.btn_accnt_no_onclick);
		com.setEnterKeyEvent(grp_vend, scwin.btn_vend_onclick);
		
		var param = com.getParameter();
		dma_search.setJSON(param);
		dma_search.set("biz_clsf", "F");
		
		// 공통코드
		var codeOptions = [ { code : "FAA", compID :"sbx_bank,grd_depst:bank_cd" }, // 은행
							{ code : "XAD", compID :"grd_depst:apr_state" }
		                ];
		if(dma_search.get("req_no") != ""){
			codeOptions.push({ code : "FBD", compID :"sbx_depst_clsf"});
		}else{
			codeOptions.push({ code : "FBD", compID :"sbx_depst_clsf", filter : "mngmtItem6 == 'Y'"});
		}
		
		com.setCmnCd(codeOptions, function() {			
			scwin.search();
		});				
	};
	
	scwin.onpageunload = function() {
		
	};

	/**
	 * 조회
	 */ 
	scwin.search = function(){
		com.execute(sbm_selectData, {
			successCallback : function(e){
				var row = 0;
				if(dma_search.get("req_no") != ""){
					row = dlt_depst.getMatchedIndex("req_no", dma_search.get("req_no"), true)[0];
				}
				
				grd_depst.setFocusedCell(row, 0);
				dma_depst.setJSON(dlt_depst.getRowJSON(row));
				
				if(dma_depst.get("req_no") != ""){					
					btn_print.setDisabled(false);
					grp_bill_no.setDisabled(true);
	
					if(com.getParameter("param2") != undefined){
						dma_search.set("acct_txday", dma_depst.get("acct_txday"));
						dma_search.set("acct_txday_seq", dma_depst.get("acct_txday_seq"));
						dma_search.set("acct_no", dma_depst.get("bankaccnt_no").replace(/\-/g));
					}
					
					if(dma_depst.get("req_psn") != com.getLoginInfo("sn")){
						grp_low_button.setDisabled(true);	
					}else{
						com.biz.disabledButtons(dma_depst.get("apr_state"), dma_depst.get("req_no"));
					}
					
					var vMode = (dma_depst.get("apr_state") >= "XAD020")? "view" : "edit";
					// 첨부파일
					var attachFileNo = dma_depst.get("attach_file_no"); 
					if(attachFileNo != ""){
						com.file.create(upload_A.getID(), {fileKey: attachFileNo, mode: vMode});
					}
				}else{
					var session = com.getLoginInfo();
					ibx_req_dept_nm.setValue(session.deptName);
					dma_depst.set("req_psn_nm", session.cn);
					
					dma_depst.set("req_psn", session.sn);
					dma_depst.set("req_dept", session.deptCode);
					dma_depst.set("req_dept_new_ymd", session.deptNewYmd);	
					dma_depst.set("depst_liq", com.parseInt(dma_depst.get("ramt")));	
					
					dma_depst.set("cud_type", "C");		
				}
			}
		});
	};	
	
	/**
	 * 저장전 체크사항
	 */
	scwin.preSave = function(){			
		// 필수값체크		
		if(!com.validateData(dma_depst,[
			{ id : "bankaccnt_no", mandatory : true},
			{ id : "bank_cd", mandatory : true},
			{ id : "acct_txday", mandatory : true},
			{ id : "req_psn", mandatory : true},
			{ id : "req_dept", mandatory : true},
			{ id : "accnt_no", mandatory : true},
			{ id : "vend_cd", mandatory : true},
			{ id : "depst_clsf", mandatory : true},
		], false)) return false;		
		
		if(com.parseInt(dma_depst.get("tx_amt")) < com.parseInt(dma_depst.get("ramt"))){
			alert("[입금잔액]이 [입금금액]을 초과하였습니다. 확인바랍니다.");
			return false;
		}
		
		if(com.parseInt(dma_depst.get("depst_liq")) == 0){
			alert("입금의뢰금액을 입력하세요.");
			return false;
		}
		
		if(dma_depst.get("cud_type") == "C"){
			if(com.parseInt(dma_depst.get("ramt")) < com.parseInt(dma_depst.get("depst_liq"))){
				alert("[알림] 의뢰금액이 입금잔액을 초과하였습니다.");
				return false;
			}
		}else{
			var depstAmtSum = 0;
			for(var i=0; i<dlt_depst.getRowCount(); i++){
				depstAmtSum += com.parseInt(dlt_depst.getCellData(i, "depst_liq"));
			}
			
			if(depstAmtSum > com.parseInt(dma_depst.get("tx_amt"))){
				alert("[의뢰금액의 합]이 [입금금액]을 초과하였습니다. 확인바랍니다.");
				return false;
			}
		}		
		
		return true;		
	};
	
	/**
	 * 저장
	 */
	scwin.save = function(){
		com.file.transport( function( attachObj){
			dma_depst.set("attach_file_no", attachObj.upload_A);
			dma_depst.set("validAttachNo", attachObj.upload_A);
					
			com.execute(sbm_saveData, {
				successCallback : function(e) { // 성공 콜백	
					if(dma_depst.get("approval") == "true"){
						// 결재화면 이동
						com.movePageMenu("A001", { "reqNo" :  e.responseJSON.req_no});
					}else{				
						com.alert("message.xom.wq.023"/*정상적으로 처리되었습니다.*/, function() {
							scwin.data.saveFlag = true;
							
							dma_search.set("req_no", e.responseJSON.req_no);
							scwin.search();
						});	
					}								
				}
			});
		});
	};
	
	//------------------------------------------------------------- event -------------------------------/	
	
	/**
	 * 인쇄버튼 클릭 이벤트
	 */
	scwin.btn_print_onclick = function(e) {	
		var node = "req_no=" + ibx_req_no.getValue() +"&scn_id=F739";
		com.oz.openPopup({
			ozrCode : "F048",      
			param: node
        });
	};	
	
	/**
	 * 저장 버튼 클릭 이벤트
	 */
	scwin.btn_save_onclick = function(e) {
		if(!scwin.preSave()) return;
		
		com.confirm("message.xom.wq.017"/*저장 하시겠습니까?*/, function( ret) {
			if (ret) {
				dma_depst.set("depst_schdl_seq", 1);
				dma_depst.set("depst_schdl_detls_seq", 1);
				
				scwin.save();
			}
		});
	};	
	
	/**
	 * 삭제 버튼 클릭 이벤트
	 */
	scwin.btn_del_onclick = function(e) {	
		if(dma_depst.get("apr_state") > "XAD020"){
			alert("결재중이므로 삭제할 수 없습니다.");
			return;
		}
					
		com.confirm("message.xom.wq.022"/*삭제 하시겠습니까?*/, function(ret) {
			if (ret) {
				com.file.deleteAll( function(){
					com.execute(sbm_deleteData, {
						successCallback : function(e) { // 성공 콜백
							com.alert("message.xom.wq.023"/*정상적으로 처리되었습니다.*/, function() {								
								dma_search.set("req_no", "");
								
								scwin.search();
							});
						}
					});
				});
			}
		});
	};	
	
	/**
	 * 입금처 버튼 클릭 이벤트
	 */
	scwin.btn_vend_onclick = function(e) {
		com.pop.open(com.pop.TYPE.VEND, {ref_yn : "Y"}, function(ret){
			ibx_vend_cd.setValue(ret.vend_cd);
			dma_depst.set("vend_abbr", ret.vend_abbr);
		});
	};
	
	/**
	 * 계정번호 검색 버튼 클릭 이벤트
	 */
	scwin.btn_accnt_no_onclick = function(e) {
		var data={
			accnt_no : ibx_accnt_no.getValue(),
			ref_yn : (ibx_accnt_no.getValue() == "") ? "Y": "N"
		};
		
		com.pop.open(com.pop.TYPE.ACNNO, data, function(ret){
			ibx_accnt_no.setValue(ret.accnt_no);
			dma_depst.set("accnt_no_nm", ret.accnt_no_nm);
		});
	};
	
	/**
	 * 목록 버튼 클릭 이벤트
	 */
	scwin.btn_list_onclick = function(e) {
		com.moveList("F733", scwin.data.saveFlag)
	};
	
	/**
	 * 입금구분 변경 이벤트
	 */
	scwin.sbx_depst_clsf_onviewchange = function(info) {
		ibx_rmk.setValue(sbx_depst_clsf.getText() + "입금(" + dma_depst.get("remark") + ")");
	};
	
	/**
	 * 계산서 조회버튼 클릭 이벤트
	 */
	scwin.btn_bill_onclick = function(e) {
		var data={
			demnd_recv_clsf : "2",
			biz_clsf : dma_search.get("biz_clsf"),
			accnt_no : ibx_accnt_no.getValue(),
			ref_yn : "Y"
		};
		
		com.pop.open(com.pop.TYPE.FTXBILL, data, function(ret) {			
			dma_depst.set("recv_bill_no", ret.tax_bill_no);
		});
	};

	/**
	 * 결재신청 버튼 클릭 이벤트
	 */
	scwin.btn_apr_onclick = function(e) {
		if(!scwin.preSave()) return;
		
		if(ica_slip_ymd.getValue() == ""){
			alert("결의일자를 입력하세요.");
			return;	
		}
		
		dma_depst.set("approval", "true");
		
		scwin.save();
	};
	
	/**
	 * 입금내역 그리드 셀클릭 이벤트
	 */
	scwin.grd_depst_oncellclick = function(row,col,colId) {
		if(colId == "req_no"){
			dma_depst.setJSON(dlt_depst.getRowJSON(row));
		}
	};
	]]></script>
	</head>
	<body ev:onpageload="scwin.onpageload">
		<w2:wframe id="wfm_title" src="/cm/xml/contentTitle.xml" style=""></w2:wframe>
		<xf:group id="" class="pageWrap">
			<xf:group class="searchSection step" id="" style="">
				<xf:group class="le" id="" style="">
					<xf:trigger class="btn" ev:onclick="scwin.btn_list_onclick" id="btn_list" style="" type="button">
						<xf:label><![CDATA[목록]]></xf:label>
					</xf:trigger>
				</xf:group>
				<xf:group class="ri">
					<xf:group class="btnbox" id="">
						<xf:trigger class="btn icon print" disabled="true" ev:onclick="scwin.btn_print_onclick" id="btn_print" style=""
							type="button">
							<xf:label><![CDATA[인쇄]]></xf:label>
						</xf:trigger>
						<xf:trigger class="btn blue" id="btn_apr" style="" type="button" disabled="true" ev:onclick="scwin.btn_apr_onclick">
							<xf:label><![CDATA[결재신청]]></xf:label>
						</xf:trigger>
					</xf:group>
				</xf:group>
			</xf:group>
			<xf:group class="titleSection" id="" style="margin-top:5px;">
				<xf:group class="le" id="">
					<w2:textbox class="tit_tbl" id="tbx_title" label="입금정보" style="" tagname="h3"></w2:textbox>
				</xf:group>
				<xf:group class="ri" id="" style=""></xf:group>
			</xf:group>
			<xf:group class="w2tb tbl" id="" style="" tagname="table">
				<w2:attributes>
					<w2:summary></w2:summary>
				</w2:attributes>
				<xf:group tagname="caption" text="세금 계산서 상세 정보"></xf:group>
				<xf:group tagname="colgroup">
					<xf:group style="width:140px;" tagname="col"></xf:group>
					<xf:group style="width:220px;" tagname="col"></xf:group>
					<xf:group style="width:140px;" tagname="col"></xf:group>
					<xf:group style="" tagname="col"></xf:group>
					<xf:group style="width:140px;" tagname="col"></xf:group>
					<xf:group style="" tagname="col"></xf:group>
				</xf:group>
				<xf:group tagname="tr">
					<xf:group class="w2tb_th" tagname="th">
						<w2:attributes>
							<w2:scope>row</w2:scope>
						</w2:attributes>
						<w2:textbox id="" label="입금일자" style="" tagname="span"></w2:textbox>
					</xf:group>
					<xf:group class="w2tb_td" tagname="td">
						<w2:attributes></w2:attributes>
						<w2:span escape="false" id="" label="000" ref="data:dma_depst.acct_txday" style=""></w2:span>
					</xf:group>
					<xf:group class="w2tb_th" tagname="th">
						<w2:attributes>
							<w2:scope>row</w2:scope>
						</w2:attributes>
						<w2:textbox id="" label="계좌번호" style="" tagname="span"></w2:textbox>
					</xf:group>
					<xf:group class="w2tb_td" tagname="td">
						<w2:attributes></w2:attributes>
						<w2:span escape="false" id="" label="000" ref="data:dma_depst.bankaccnt_no" style=""></w2:span>
					</xf:group>
					<xf:group class="w2tb_th" tagname="th" style="">
						<w2:attributes>
							<w2:scope>row</w2:scope>
						</w2:attributes>
						<w2:textbox id="" label="입금금액" style="" tagname="span"></w2:textbox>
					</xf:group>
					<xf:group class="w2tb_td ri" tagname="td" style="">
						<w2:attributes></w2:attributes>
						<w2:span dataType="number" displayFormat="#,###" escape="false" id="" label="000" ref="data:dma_depst.tx_amt" style="">
						</w2:span>
					</xf:group>
				</xf:group>
				<xf:group tagname="tr" style="">
					<xf:group class="w2tb_th" tagname="th">
						<w2:attributes>
							<w2:scope>row</w2:scope>
						</w2:attributes>
						<w2:textbox id="" label="입금잔액" style="" tagname="span"></w2:textbox>
					</xf:group>
					<xf:group class="w2tb_td ri" tagname="td">
						<w2:attributes></w2:attributes>
						<w2:span escape="false" id="" label="000" ref="data:dma_depst.ramt" style="" dataType="number" displayFormat="#,###">
						</w2:span>
					</xf:group>
					<xf:group class="w2tb_th" tagname="th">
						<w2:attributes>
							<w2:scope>row</w2:scope>
						</w2:attributes>
						<w2:textbox id="" label="적요" style="" tagname="span"></w2:textbox>
					</xf:group>
					<xf:group class="w2tb_td" tagname="td">
						<w2:attributes>
							<w2:colspan>3</w2:colspan>
							<w2:rowspan>1</w2:rowspan>
						</w2:attributes>
						<w2:span escape="false" id="" label="000" style="" ref="data:dma_depst.remark"></w2:span>
					</xf:group>
				</xf:group>
			</xf:group>
			<w2:gridView autoFit="allColumn" class="grid" dataList="data:dlt_depst" defaultCellHeight="28" editModeEvent="onclick"
				evenRowBackgroundColor="#f7faff" id="grd_depst" noResultMessage="조회 결과가 없습니다." noResultMessageClass="noResult"
				rowMouseOverColor="#e7f0fb" rowNumBackgroundColor="#fff" rowNumHeaderValue="No." rowNumVisible="true" rowNumWidth="40"
				rowStatusHeaderValue="상태" rowStatusVisible="false" rowStatusWidth="50" scrollByColumn="false" scrollByColumnAdaptive="false"
				selectedCellColor="#fbf2cd" selectedRowColor="#fbf2cd" style="height: 85px;" summaryAuto="true" visibleRowNum="2" readOnly="true"
				ev:oncellclick="scwin.grd_depst_oncellclick">
				<w2:caption id="caption1" style="" value="this is a grid caption."></w2:caption>
				<w2:header id="header1" style="">
					<w2:row id="row1" style="">
						<w2:column colSpan="" displayMode="label" id="column34" inputType="text" rowSpan="" style="height:28px;" value="입금의뢰번호"
							width="90">
						</w2:column>
						<w2:column displayMode="label" id="column5" inputType="text" style="height:28px;" value="입금일자" width="90"></w2:column>
						<w2:column displayMode="label" fixColumnWidth="true" id="column7" inputType="text" style="height:28px;" value="순번"
							width="45">
						</w2:column>
						<w2:column width="160" inputType="text" style="height:28px" id="column50" value="입금처" displayMode="label"></w2:column>
						<w2:column displayMode="label" id="column3" inputType="text" style="height:28px;" value="계좌번호" width="120"></w2:column>
						<w2:column displayMode="label" id="column20" inputType="text" style="height:28px;" value="입금은행" width="90"></w2:column>
						<w2:column displayMode="label" id="column29" inputType="text" style="height:28px;" value="입금액" width="90"></w2:column>
						<w2:column displayMode="label" id="column27" inputType="text" style="height:28px;" value="가수결의번호" width="90"></w2:column>
						<w2:column displayMode="label" id="column25" inputType="text" style="height:28px;" value="가수결의순번" width="48"></w2:column>
						<w2:column width="70" inputType="text" style="height:28px" id="column56" value="신청자" displayMode="label"></w2:column>
						<w2:column width="90" inputType="text" style="height:28px" id="column47" value="결재상태" displayMode="label"></w2:column>
					</w2:row>
				</w2:header>
				<w2:gBody id="gBody1" style="">
					<w2:row id="row2" style="">
						<w2:column class="" displayMode="label" id="req_no" inputType="link" style="" value="" width="90"></w2:column>
						<w2:column class="" displayMode="label" escape="false" id="acct_txday" inputType="calendar" style="height:28px;" width="90"
							readOnly="true">
						</w2:column>
						<w2:column class="" displayMode="label" id="acct_txday_seq" inputType="text" readOnly="true" style="height:28px;"
							width="45px">
						</w2:column>
						<w2:column width="160" inputType="text" style="height:28px" id="vend_abbr" value="" displayMode="label" class="le">
						</w2:column>
						<w2:column class="" dataType="text" displayMode="label" escape="false" id="bankaccnt_no" inputType="text"
							style="height:28px;" width="120">
						</w2:column>
						<w2:column displayMode="label" id="bank_cd" inputType="select" style="height:28px;" width="90"></w2:column>
						<w2:column class="ri" dataType="number" displayFormat="#,###" displayMode="label" id="depst_liq" inputType="text"
							style="height:28px;" width="90">
						</w2:column>
						<w2:column class="" dataType="text" displayMode="label" id="depst_unslip_no" inputType="text" readOnly="true"
							style="height:28px;" width="90">
						</w2:column>
						<w2:column class="" displayMode="label" id="depst_unslip_odr" inputType="text" readOnly="true" style="height:28px;"
							width="48">
						</w2:column>
						<w2:column width="70" inputType="text" style="height:28px" id="req_psn_nm" value="" displayMode="label"></w2:column>
						<w2:column width="90" inputType="select" style="height:28px" id="apr_state" value="" displayMode="label"></w2:column>
					</w2:row>
				</w2:gBody>
			</w2:gridView>
			<xf:group class="titleSection" id="" style="">
				<xf:group class="le" id="">
					<w2:textbox class="tit_tbl" id="" label="입금내역" style="" tagname="h3"></w2:textbox>
				</xf:group>
				<xf:group class="re" id="" style="">
				</xf:group>
			</xf:group>
			<xf:group class="w2tb tbl" id="" style="" tagname="table">
				<w2:attributes>
					<w2:summary></w2:summary>
				</w2:attributes>
				<xf:group tagname="caption" text="세금 계산서 상세 정보"></xf:group>
				<xf:group tagname="colgroup">
					<xf:group style="width:140px;" tagname="col"></xf:group>
					<xf:group style="width:220px;" tagname="col"></xf:group>
					<xf:group style="width:140px;" tagname="col"></xf:group>
					<xf:group style="" tagname="col"></xf:group>
					<xf:group style="width:140px;" tagname="col"></xf:group>
					<xf:group style="" tagname="col"></xf:group>
				</xf:group>
				<xf:group style="" tagname="tr">
					<xf:group class="w2tb_th" tagname="th">
						<w2:attributes></w2:attributes>
						<w2:textbox id="" label="입금의뢰번호" style="" tagname="span"></w2:textbox>
					</xf:group>
					<xf:group class="w2tb_td" tagname="td">
						<w2:attributes></w2:attributes>
						<xf:input adjustMaxLength="false" class="inp" id="ibx_req_no" style="" title="입금의뢰번호" ref="data:dma_depst.req_no"
							disabled="true">
						</xf:input>
					</xf:group>
					<xf:group class="w2tb_th" style="" tagname="th">
						<w2:attributes></w2:attributes>
						<w2:span class="bul_req" id="" label="[필수입력항목]" style=""></w2:span>
						<w2:textbox id="" label="의뢰부서" style="" tagname="span"></w2:textbox>
					</xf:group>
					<xf:group class="w2tb_td" style="" tagname="td">
						<w2:attributes></w2:attributes>
						<xf:input adjustMaxLength="false" class="inp full" disabled="true" id="ibx_req_dept_nm" ref="data:dma_depst.req_dept_nm"
							style="" title="의뢰부서">
						</xf:input>
					</xf:group>
					<xf:group class="w2tb_th" style="" tagname="th">
						<w2:attributes></w2:attributes>
						<w2:span class="bul_req" id="" label="[필수입력항목]" style=""></w2:span>
						<w2:textbox id="" label="의뢰자" style="" tagname="span"></w2:textbox>
					</xf:group>
					<xf:group class="w2tb_td" style="" tagname="td">
						<w2:attributes></w2:attributes>
						<xf:input adjustMaxLength="false" class="inp" disabled="true" id="" ref="data:dma_depst.req_psn_nm" style="width: 120px;"
							title="의뢰자">
						</xf:input>
					</xf:group>
				</xf:group>
				<xf:group style="" tagname="tr">
					<xf:group class="w2tb_th" tagname="th">
						<w2:attributes></w2:attributes>
						<w2:span class="bul_req" id="" label="[필수입력항목]" style=""></w2:span>
						<w2:textbox id="" label="계좌번호" style="" tagname="span"></w2:textbox>
					</xf:group>
					<xf:group class="w2tb_td" tagname="td">
						<w2:attributes></w2:attributes>
						<xf:input adjustMaxLength="false" class="inp" disabled="true" id="" ref="data:dma_depst.bankaccnt_no" style="" title="계좌번호">
						</xf:input>
					</xf:group>
					<xf:group class="w2tb_th" style="" tagname="th">
						<w2:attributes></w2:attributes>
						<w2:span class="bul_req" id="" label="[필수입력항목]" style=""></w2:span>
						<w2:textbox id="" label="은행" style="" tagname="span"></w2:textbox>
					</xf:group>
					<xf:group class="w2tb_td" style="" tagname="td">
						<w2:attributes></w2:attributes>
						<xf:select1 allOption="" appearance="minimal" chooseOption="true" chooseOptionLabel="-선택-" class="sel" direction="auto"
							disabled="true" disabledClass="w2selectbox_disabled" id="sbx_bank" style="width: 120px;" submenuSize="auto" title="은행"
							ref="data:dma_depst.bank_cd">
							<xf:choices></xf:choices>
						</xf:select1>
					</xf:group>
					<xf:group class="w2tb_th" style="" tagname="th">
						<w2:attributes></w2:attributes>
						<w2:span class="bul_req" id="" label="[필수입력항목]" style=""></w2:span>
						<w2:textbox id="" label="입금의뢰금액" style="" tagname="span"></w2:textbox>
					</xf:group>
					<xf:group class="w2tb_td" style="" tagname="td">
						<w2:attributes></w2:attributes>
						<xf:input adjustMaxLength="false" class="inp req ri" dataType="number" displayFormat="#,###" id=""
							ref="data:dma_depst.depst_liq" style="" title="입금금액">
						</xf:input>
					</xf:group>
				</xf:group>
				<xf:group style="" tagname="tr">
					<xf:group class="w2tb_th" tagname="th">
						<w2:attributes></w2:attributes>
						<w2:textbox id="" label="입금일자/순번" style="" tagname="span"></w2:textbox>
					</xf:group>
					<xf:group class="w2tb_td" tagname="td">
						<w2:attributes></w2:attributes>
						<xf:input adjustMaxLength="false" class="inp" dataType="date" disabled="true" displayFormat="yyyy-MM-dd" id=""
							ref="data:dma_depst.acct_txday" style="width:120px;" title="입금일자">
						</xf:input>
						<xf:input adjustMaxLength="false" class="inp" disabled="true" id="" ref="data:dma_depst.acct_txday_seq" style="width:30px;"
							title="순번">
						</xf:input>
					</xf:group>
					<xf:group class="w2tb_th" style="" tagname="th">
						<w2:attributes></w2:attributes>
						<w2:textbox id="" label="입금가결의번호" style="" tagname="span"></w2:textbox>
					</xf:group>
					<xf:group class="w2tb_td" style="" tagname="td">
						<w2:attributes></w2:attributes>
						<xf:input adjustMaxLength="false" class="inp" disabled="true" id="" ref="data:dma_depst.depst_unslip_no" style="width:120px;"
							title="입금가결의번호">
						</xf:input>
						<xf:input adjustMaxLength="false" class="inp" disabled="true" id="" ref="data:dma_depst.depst_unslip_odr" style="width:30px;"
							title="순번">
						</xf:input>
					</xf:group>
					<xf:group class="w2tb_th" style="" tagname="th">
						<w2:attributes></w2:attributes>
					</xf:group>
					<xf:group class="w2tb_td" style="" tagname="td">
						<w2:attributes></w2:attributes>
					</xf:group>
				</xf:group>
			</xf:group>
			<xf:group class="titleSection" id="" style="">
				<xf:group class="le" id="">
					<w2:textbox class="tit_tbl" id="" label="관련내역" style="" tagname="h3"></w2:textbox>
				</xf:group>
				<xf:group class="re" id="" style=""></xf:group>
			</xf:group>
			<xf:group class="w2tb tbl" id="" style="" tagname="table">
				<w2:attributes>
					<w2:summary></w2:summary>
				</w2:attributes>
				<xf:group tagname="caption" text="세금 계산서 상세 정보"></xf:group>
				<xf:group tagname="colgroup">
					<xf:group style="width:140px;" tagname="col"></xf:group>
					<xf:group style="" tagname="col"></xf:group>
					<xf:group style="width:140px;" tagname="col"></xf:group>
					<xf:group style="" tagname="col"></xf:group>
					<xf:group style="width:140px;" tagname="col"></xf:group>
					<xf:group style="" tagname="col"></xf:group>
				</xf:group>
				<xf:group style="" tagname="tr">
					<xf:group class="w2tb_th" tagname="th">
						<w2:attributes></w2:attributes>
						<w2:span class="bul_req" id="" label="[필수입력항목]" style=""></w2:span>
						<w2:textbox id="" label="계정번호" style="" tagname="span"></w2:textbox>
					</xf:group>
					<xf:group class="w2tb_td" tagname="td">
						<w2:attributes></w2:attributes>
						<xf:group class="flex" id="">
							<xf:group class="inpSch" id="grp_accnt_no" style="width: 120px;">
								<xf:input adjustMaxLength="false" class="inp req" id="ibx_accnt_no" ref="data:dma_depst.accnt_no" style="">
								</xf:input>
								<xf:trigger class="btn" ev:onclick="scwin.btn_accnt_no_onclick" id="btn_accnt_no" style="" title="계정번호 조회" type="button">
									<xf:label><![CDATA[검색]]></xf:label>
								</xf:trigger>
							</xf:group>
							<xf:input adjustMaxLength="false" class="inp" dataType="text" disabled="true" id="" ref="data:dma_depst.accnt_no_nm"
								style="width: 150px;" title="계정번호 상세">
							</xf:input>
						</xf:group>
					</xf:group>
					<xf:group class="w2tb_th" style="" tagname="th">
						<w2:attributes></w2:attributes>
						<w2:span class="bul_req" id="" label="[필수입력항목]" style=""></w2:span>
						<w2:textbox id="" label="입금구분" style="" tagname="span"></w2:textbox>
					</xf:group>
					<xf:group class="w2tb_td" style="" tagname="td">
						<w2:attributes></w2:attributes>
						<xf:select1 allOption="" appearance="minimal" chooseOption="true" chooseOptionLabel="-선택-" class="sel req" direction="auto"
							disabled="false" disabledClass="w2selectbox_disabled" id="sbx_depst_clsf" ref="data:dma_depst.depst_clsf" style="width: 150px;"
							submenuSize="auto" title="입금구분" visibleRowNum="10" ev:onviewchange="scwin.sbx_depst_clsf_onviewchange">
							<xf:choices></xf:choices>
						</xf:select1>
					</xf:group>
					<xf:group class="w2tb_th" style="" tagname="th">
						<w2:attributes></w2:attributes>
						<w2:span class="bul_req" id="" label="[필수입력항목]" style=""></w2:span>
						<w2:textbox id="" label="입금처" style="" tagname="span"></w2:textbox>
					</xf:group>
					<xf:group class="w2tb_td" style="" tagname="td">
						<w2:attributes></w2:attributes>
						<xf:group class="flex" id="">
							<xf:group class="inpSch" id="grp_vend" style="width: 120px;">
								<xf:input adjustMaxLength="false" class="inp req" id="ibx_vend_cd" readOnly="true" ref="data:dma_depst.vend_cd" style="">
								</xf:input>
								<xf:trigger class="btn" ev:onclick="scwin.btn_vend_onclick" id="btn_vend" style="" title="거래처 조회" type="button">
									<xf:label><![CDATA[검색]]></xf:label>
								</xf:trigger>
							</xf:group>
							<xf:input adjustMaxLength="false" class="inp" dataType="text" disabled="true" id="ibx_vend_abbr"
								ref="data:dma_depst.vend_abbr" style="width: 150px;" title="계좌번호">
							</xf:input>
						</xf:group>
					</xf:group>
				</xf:group>
				<xf:group style="" tagname="tr">
					<xf:group class="w2tb_th" tagname="th" style="">
						<w2:attributes></w2:attributes>
						<w2:textbox id="" label="계산서번호" style="" tagname="span"></w2:textbox>
					</xf:group>
					<xf:group class="w2tb_td" tagname="td" style="">
						<w2:attributes></w2:attributes>
						<xf:group class="flex" id="" style="">
							<xf:group class="inpSch" id="grp_bill_no" style="width: 180px;">
								<xf:input adjustMaxLength="false" class="inp req" ev:onclick="scwin.ibx_tax_bill_no_onclick" id="ibx_tax_bill_no"
									readOnly="true" ref="data:dma_depst.recv_bill_no" style="text-decoration:underline;color:blue;" title="계산서번호">
								</xf:input>
								<xf:trigger class="btn" ev:onclick="scwin.btn_bill_onclick" id="btn_bill" style="" title="매출계산서 조회" type="button">
									<xf:label><![CDATA[검색]]></xf:label>
								</xf:trigger>
							</xf:group>
						</xf:group>
					</xf:group>
					<xf:group class="w2tb_th" style="" tagname="th">
						<w2:attributes></w2:attributes>
						<w2:textbox id="" label="결의일자" style="" tagname="span"></w2:textbox>
					</xf:group>
					<xf:group class="w2tb_td" style="" tagname="td">
						<w2:attributes></w2:attributes>
						<w2:inputCalendar calendarValueType="yearMonthDate" class="inpcal  req" focusOnDateSelect="false" footerDiv="false"
							id="ica_slip_ymd" ref="data:dma_depst.slip_ymd" renderDiv="true" rightAlign="false" style="width:130px;" title="결의일자">
						</w2:inputCalendar>
					</xf:group>
					<xf:group class="w2tb_th" style="" tagname="th">
						<w2:attributes></w2:attributes>
						<w2:textbox id="" label="결의번호" style="" tagname="span"></w2:textbox>
					</xf:group>
					<xf:group class="w2tb_td" style="" tagname="td">
						<w2:attributes></w2:attributes>
						<xf:input adjustMaxLength="false" class="inp" disabled="true" id="" ref="data:dma_depst.unslip_no" style="width: 120px;"
							title="결의번호">
						</xf:input>
					</xf:group>
				</xf:group>
				<xf:group style="" tagname="tr">
					<xf:group class="w2tb_th" tagname="th">
						<w2:attributes>
							<w2:scope>row</w2:scope>
						</w2:attributes>
						<w2:textbox id="" label="적요" style="" tagname="span"></w2:textbox>
					</xf:group>
					<xf:group class="w2tb_td" tagname="td">
						<w2:attributes>
							<w2:colspan>5</w2:colspan>
							<w2:rowspan>1</w2:rowspan>
						</w2:attributes>
						<xf:input adjustMaxLength="false" class="inp full le" dataType="text" id="ibx_rmk" style="" title="비고"
							ref="data:dma_depst.rmk">
						</xf:input>
					</xf:group>
				</xf:group>
				<xf:group style="" tagname="tr">
					<xf:group class="w2tb_th" tagname="th">
						<w2:attributes>
							<w2:scope>row</w2:scope>
						</w2:attributes>
						<w2:textbox id="" label="파일첨부" style="" tagname="span"></w2:textbox>
					</xf:group>
					<xf:group class="w2tb_td" tagname="td">
						<w2:attributes>
							<w2:colspan>5</w2:colspan>
							<w2:rowspan>1</w2:rowspan>
						</w2:attributes>
						<xf:group class="full" id="upload_A" style="height:125px;"></xf:group>
					</xf:group>
				</xf:group>
			</xf:group>
			<xf:group style="" id="" class="btnGroup">
				<xf:group style="" id="" class="le"></xf:group>
				<xf:group id="grp_low_button" class="ri">
					<xf:trigger class=" btn pro " id="btn_init" style="" type="button">
						<xf:label><![CDATA[초기화]]></xf:label>
					</xf:trigger>
					<xf:trigger class=" btn pro " id="btn_del" style="" type="button" disabled="true" ev:onclick="scwin.btn_del_onclick">
						<xf:label><![CDATA[삭제]]></xf:label>
					</xf:trigger>
					<xf:trigger class=" btn pro conf" id="btn_save" style="" type="button" ev:onclick="scwin.btn_save_onclick">
						<xf:label><![CDATA[저장]]></xf:label>
					</xf:trigger>
				</xf:group>
			</xf:group>
		</xf:group>
	</body>
</html>
