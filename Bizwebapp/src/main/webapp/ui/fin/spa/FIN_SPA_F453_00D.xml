<?xml version="1.0" encoding="UTF-8"?>
<html xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ev="http://www.w3.org/2001/xml-events"
    xmlns:w2="http://www.inswave.com/websquare" xmlns:xf="http://www.w3.org/2002/xforms">
    <head meta_programName="가지급금정산신청서">
    	<w2:type>DEFAULT</w2:type>
        <w2:buildDate/>
        <xf:model>
            <xf:instance>
                <data xmlns=""/>
            </xf:instance>
            <w2:dataCollection baseNode="map">
			<w2:dataMap baseNode="map" id="dma_search">
				<w2:keyInfo>
					<w2:key id="req_no" name="신청번호" dataType="text"></w2:key>
					<w2:key id="adjst_req_no" name="정산번호" dataType="text"></w2:key>
					<w2:key id="cud_type" name="상태" dataType="text"></w2:key>
					<w2:key id="approval" name="결재상태" dataType="text"></w2:key>
				</w2:keyInfo>
			</w2:dataMap>
			<w2:dataMap baseNode="map" id="dma_form_result">
			 	<w2:keyInfo>
			 		<w2:key id="req_no" name="req_no" dataType="text"></w2:key>
			 		<w2:key id="req_psn" name="req_psn" dataType="text"></w2:key>
			 		<w2:key id="req_psn_nm" name="req_psn_nm" dataType="text"></w2:key>
			 		<w2:key id="req_amt" name="req_amt" dataType="text"></w2:key>
			 		<w2:key id="req_cause" name="req_cause" dataType="text"></w2:key>
			 		<w2:key id="req_dept_nm" name="req_dept_nm" dataType="text"></w2:key>
			 		<w2:key id="recv_ymd" name="recv_ymd" dataType="text"></w2:key>
			 		<w2:key id="recv_amt" name="recv_amt" dataType="text"></w2:key>
			 		<w2:key id="adjst_ymd" name="정산일자" dataType="text"></w2:key>
			 		<w2:key id="adjst_psn" name="정산자" dataType="text"></w2:key>
			 		<w2:key id="adjst_emp_no" name="adjst_emp_no" dataType="text"></w2:key>
			 		<w2:key id="adjst_psn_nm" name="adjst_psn_nm" dataType="text"></w2:key>
			 		<w2:key id="adjst_dept_nm" name="정산부서" dataType="text"></w2:key>
			 		<w2:key id="adjst_dept" name="adjst_dept" dataType="text"></w2:key>
			 		<w2:key id="adjst_detls" name="정산내역" dataType="text"></w2:key>
			 		<w2:key id="adjst_amt" name="adjst_amt" dataType="text"></w2:key>
			 		<w2:key id="adjst_req_no" name="adjst_req_no" dataType="text"></w2:key>
			 		<w2:key id="adjst_req_odr" name="adjst_req_odr" dataType="text"></w2:key>
			 		<w2:key id="unslip_no" name="unslip_no" dataType="text"></w2:key>
			 		<w2:key id="org_req_amt" name="org_req_amt" dataType="text"></w2:key>
			 		<w2:key id="bank" name="bank" dataType="text"></w2:key>
			 		<w2:key id="bank_nm" name="bank_nm" dataType="text"></w2:key>
			 		<w2:key id="bankaccnt_no" name="bankaccnt_no" dataType="text"></w2:key>
			 		<w2:key id="depstr_nm" name="depstr_nm" dataType="text"></w2:key>
			 		<w2:key id="vend_cd" name="vend_cd" dataType="text"></w2:key>
			 		<w2:key id="attach_file_no1" name="증빙첨부" dataType="text"></w2:key>
			 		<w2:key id="attach_file_no2" name="attach_file_no2" dataType="text"></w2:key>
			 		<w2:key id="apr_state" name="apr_state" dataType="text"></w2:key>
			 		<w2:key id="cud_type" name="상태" dataType="text"></w2:key>
			 		<w2:key id="approval" name="결재상태" dataType="text"></w2:key>
			 		<w2:key id="validAttachNo" name="validAttachNo" dataType="text"></w2:key>
			 		<w2:key id="dept_new_ymd" name="dept_new_ymd" dataType="text"></w2:key>
			 	</w2:keyInfo>
			 </w2:dataMap>
			 <w2:dataList baseNode="list" repeatNode="map" id="dlt_adjst_list" saveRemovedData="true">
			 	<w2:columnInfo>
			 		<w2:column id="adjst_req_no" name="adjst_req_no" dataType="text"></w2:column>
			 		<w2:column id="adjst_req_odr" name="adjst_req_odr" dataType="text"></w2:column>
			 		<w2:column id="req_no" name="req_no" dataType="text"></w2:column>
			 		<w2:column id="req_seq" name="req_seq" dataType="text"></w2:column>
			 		<w2:column id="accnt_no" name="accnt_no" dataType="text"></w2:column>
			 		<w2:column id="accnt_cd" name="accnt_cd" dataType="text"></w2:column>
			 		<w2:column id="accnt_cd_nm" name="accnt_cd_nm" dataType="text"></w2:column>
			 		<w2:column id="expns_cd" name="expns_cd" dataType="text"></w2:column>
			 		<w2:column id="expns_cd_nm" name="expns_cd_nm" dataType="text"></w2:column>
			 		<w2:column id="req_amt" name="req_amt" dataType="text"></w2:column>
			 		<w2:column id="adjst_amt" name="adjst_amt" dataType="text"></w2:column>
			 		<w2:column id="ctrl_no" name="ctrl_no" dataType="text"></w2:column>
			 		<w2:column id="rmk" name="rmk" dataType="text"></w2:column>
			 		<w2:column id="cud_type" name="cud_type" dataType="text"></w2:column>
			 	</w2:columnInfo>
			 </w2:dataList>
			 <w2:dataList baseNode="list" repeatNode="map" id="dlt_detle_list" saveRemovedData="true">
			 	<w2:columnInfo>
			 		<w2:column id="adjst_req_no" name="adjst_req_no" dataType="text"></w2:column>
			 		<w2:column id="acct_txday_seq" name="acct_txday_seq" dataType="text"></w2:column>
			 		<w2:column id="syspayno" name="syspayno" dataType="text"></w2:column>
			 		<w2:column id="empno" name="empno" dataType="text"></w2:column>
			 		<w2:column id="nm" name="nm" dataType="text"></w2:column>
			 		<w2:column id="acct_txday" name="acct_txday" dataType="text"></w2:column>
			 		<w2:column id="bankaccnt_no" name="bankaccnt_no" dataType="text"></w2:column>
			 		<w2:column id="depst_amt" name="depst_amt" dataType="text"></w2:column>
			 		<w2:column id="detls" name="detls" dataType="text"></w2:column>
			 		<w2:column id="rmk" name="rmk" dataType="text"></w2:column>
			 		<w2:column id="depst_unslip_no" name="depst_unslip_no" dataType="text"></w2:column>
			 		<w2:column id="depst_unslip_odr" name="depst_unslip_odr" dataType="text"></w2:column>
			 		<w2:column id="depst_req_no" name="depst_req_no" dataType="text"></w2:column>
			 		<w2:column id="chk" name="선택" dataType="text"></w2:column>
			 		<w2:column id="bank_cd" name="bank_cd" dataType="text"></w2:column>
			 		<w2:column id="depst_odr" name="depst_odr" dataType="text"></w2:column>
			 		<w2:column id="req_dept_new_ymd" name="req_dept_new_ymd" dataType="text"></w2:column>
			 		<w2:column id="req_dept" name="req_dept" dataType="text"></w2:column>
			 		<w2:column id="depst_liq" name="depst_liq" dataType="text"></w2:column>
			 		<w2:column id="depst_ymd" name="depst_ymd" dataType="text"></w2:column>
			 		<w2:column id="cud_type" name="cud_type" dataType="text"></w2:column>
			 		<w2:column id="bf_depst_amt" name="bf_depst_amt" dataType="text"></w2:column>
			 		<w2:column id="slip_no" name="slip_no" dataType="text"></w2:column>
			 		<w2:column id="slip_odr" name="slip_odr" dataType="text"></w2:column>
			 		<w2:column id="unslip_no" name="결의번호" dataType="text"></w2:column>
			 	</w2:columnInfo>
			 </w2:dataList>
			 <w2:dataList baseNode="list" repeatNode="map" id="dlt_add_list" saveRemovedData="true">
			 	<w2:columnInfo>
			 		<w2:column id="adjst_req_no" name="adjst_req_no" dataType="text"></w2:column>
			 		<w2:column id="adjst_req_odr" name="adjst_req_odr" dataType="text"></w2:column>
			 		<w2:column id="req_clsf" name="req_clsf" dataType="text"></w2:column>
			 		<w2:column id="cd_nm" name="cd_nm" dataType="text"></w2:column>
			 		<w2:column id="accnt_no" name="accnt_no" dataType="text"></w2:column>
			 		<w2:column id="accnt_no_nm" name="accnt_no_nm" dataType="text"></w2:column>
			 		<w2:column id="accnt_rspns" name="accnt_rspns" dataType="text"></w2:column>
			 		<w2:column id="accnt_rspns_empno" name="accnt_rspns_empno" dataType="text"></w2:column>
			 		<w2:column id="accnt_rspns_nm" name="accnt_rspns_nm" dataType="text"></w2:column>
			 		<w2:column id="accnt_cd" name="accnt_cd" dataType="text"></w2:column>
			 		<w2:column id="accnt_cd_abbr" name="accnt_cd_abbr" dataType="text"></w2:column>
			 		<w2:column id="expns_cd" name="expns_cd" dataType="text"></w2:column>
			 		<w2:column id="expns_cd_nm" name="expns_cd_nm" dataType="text"></w2:column>
			 		<w2:column id="req_amt" name="req_amt" dataType="text"></w2:column>
			 		<w2:column id="adjst_amt" name="adjst_amt" dataType="text"></w2:column>
			 		<w2:column id="ctrl_no" name="ctrl_no" dataType="text"></w2:column>
			 		<w2:column id="bugt_ctrl_way" name="bugt_ctrl_way" dataType="text"></w2:column>
			 		<w2:column id="rmk" name="rmk" dataType="text"></w2:column>
			 		<w2:column id="depstr_nm" name="depstr_nm" dataType="text"></w2:column>
			 		<w2:column id="chk2" name="선택" dataType="text"></w2:column>
			 		<w2:column id="cud_type" name="cud_type" dataType="text"></w2:column>
			 		<w2:column id="req_psn" name="req_psn" dataType="text"></w2:column>
			 		<w2:column id="req_dept" name="req_dept" dataType="text"></w2:column>
			 		<w2:column id="req_dept_new_ymd" name="req_dept_new_ymd" dataType="text"></w2:column>
			 	</w2:columnInfo>
			 </w2:dataList>
            </w2:dataCollection>
            <w2:workflowCollection>
            </w2:workflowCollection>
			<!-- Form, 정산계정내역, 잔액입금내역, 정산계정추가내역 조회 -->
			<xf:submission id="sbm_selectData" ref="data:json,dma_search"
        		target='data:json,[{"id":"dma_form_result","key":"fspPayAdvcAdjstVo"},{"id":"dlt_adjst_list","key":"fspPayAdvcAdjstGridVoList"},
        						   {"id":"dlt_detle_list","key":"fcpDepstDetlsVoList"},{"id":"dlt_add_list","key":"fspPayAdvcAdjstAddVoList"}]'
        		action="SvcFINSPAADJR02.pwkjson" method="post" mediatype="application/json" encoding="UTF-8" instance="" replace=""
        		errorHandler="" customHandler="" mode="asynchronous" processMsg="" ev:submit="" ev:submitdone="" ev:submiterror=""
        		abortTrigger="">
        	</xf:submission> 	
        	<!-- 저장 -->
            <xf:submission id="sbm_saveData" ref='data:json,[{"id":"dma_form_result","key":"fspPayAdvcAdjstVo"},{"id":"dlt_adjst_list","key":"fspPayAdvcAdjstGridVoList"},
            												 {"id":"dlt_detle_list","key":"fcpDepstDetlsVoList"},{"id":"dlt_add_list","key":"fspPayAdvcAdjstAddVoList"}]' target='data:json,dma_search' 
        	    action="SvcFINSPAADJI01.pwkjson" method="post" mediatype="application/json"
        		encoding="UTF-8" instance="" replace="" errorHandler="" customHandler="" mode="asynchronous" processMsg="" ev:submit=""
        		ev:submitdone="" ev:submiterror="" abortTrigger="">
        	</xf:submission>
        	<!-- 삭제 -->
            <xf:submission id="sbm_deleteData" ref='data:json,[{"id":"dma_form_result","key":"fspPayAdvcAdjstVo"},{"id":"dlt_adjst_list","key":"fspPayAdvcAdjstGridVoList"},
            												  {"id":"dlt_detle_list","key":"fcpDepstDetlsVoList"},{"id":"dlt_add_list","key":"fspPayAdvcAdjstAddVoList"}]' target='data:json,dma_search' 
        	    action="SvcFINSPAADJD01.pwkjson" method="post" mediatype="application/json"
        		encoding="UTF-8" instance="" replace="" errorHandler="" customHandler="" mode="asynchronous" processMsg="" ev:submit=""
        		ev:submitdone="" ev:submiterror="" abortTrigger="">
        	</xf:submission>         	        				
        </xf:model>
         <script type="text/javascript" lazy="false"><![CDATA[

 	scwin.data ={saveTag : "I",
 				 tag : "",
 				 recv_ymd : "",
 				 apr_state : "XAD010",
 				 reqNo : "",
 				 req_clsf : ""
 	             };
        
	scwin.onpageload = function() {		
		var codeOptions = [ { code : "FEG", compID : "grid_adjst_add_accnt:req_clsf", ignoreUseYn : true},];
		com.setCmnCd(codeOptions, function() {						
		 	// 첨부파일 컴포넌트 초기화
			com.file.init();						
			com.file.create(upload_A.getID(), {fileKey: "F903", mode: 'edit'});
			com.file.create(upload_B.getID(), {fileKey: "F903", mode: 'edit'});
			
			var fomatUnit = "";		
			var param = com.getParameter();
			var session = com.getLoginInfo();
			
			if (param.param4 == "apr") {
				dma_search.set("adjst_req_no", param.req_no);
				dma_search.set("approval", "true");
			} else {			
				dma_search.setJSON(param);
			}
									
			if (dma_search.get("adjst_req_no") != "") {				
				dma_search.set("cud_type", "U");//정산번호가 있을시?
			} else {
				dma_search.set("cud_type", "I");		
			}
			
			// 신청서 양식함에서 넘어올 때
			if (dma_search.get("adjst_req_no") == "" && dma_search.get("req_no") == "") {
				ica_adjst_ymd.setValue(com.getServerDateTime());
				dma_form_result.set("adjst_psn", session.sn);
				dma_form_result.set("adjst_psn_nm", session.cn);
				dma_form_result.set("adjst_emp_no", session.sn.substring(2,8));
				dma_form_result.set("adjst_dept", session.deptCode);
				dma_form_result.set("adjst_dept_nm", session.deptName);	
			} else {			
				scwin.menuFind();							
			}
		});			
	};        
               	
	scwin.menuFind = function(e) {		
		com.biz.checkRole({ serviceId : "F453", roleCodes : com.getLoginInfo('roleCode')}, function(e){
			scwin.data.isRoleYn = e.isRoleYn;					
			com.execute(sbm_selectData, { 
		        successCallback: function(e) { // 성공 콜백
		        					
	//				데이터콜렉션세팅					
					var approval = inputApproval.getValue();
					var adjstVo = e.responseJSON.elData.fspPayAdvcAdjstVo
					var session = com.getLoginInfo();
					dma_form_result.set("dept_new_ymd", session.deptNewYmd);
					var vMode = "edit";									
					if(dma_form_result.get("apr_state") >= "XAD020"){
						vMode = "view";
						ica_adjst_ymd.setDisabled(true);
						ibx_adjst_detls.setDisabled(true);
						btn_depst.setDisabled(true);
						btn_add.setDisabled(true);
						btn_depst_del.setDisabled(true);
						for(var i = 0; i < dlt_adjst_list.getRowCount(); i++) {							
							grid_adjst_accnt.setCellDisabled(i, "adjst_amt", true);
							grid_adjst_accnt.setCellDisabled(i, "rmk", true);		
						}
						for(var i = 0; i < dlt_detle_list.getRowCount(); i++) {								
							grid_depst.setCellDisabled(i, "depst_amt", true);
							grid_depst.setCellDisabled(i, "rmk", true);			
						}						
						for(var i = 0; i < dlt_add_list.getRowCount(); i++) {								
							grid_adjst_add_accnt.setCellDisabled(i, "req_amt", true);	
							grid_adjst_add_accnt.setCellDisabled(i, "rmk", true);
							grid_adjst_add_accnt.setCellDisabled(i, "btn_accnt_no", true);
							grid_adjst_add_accnt.setCellDisabled(i, "btn_expns_cd", true);
							grid_adjst_add_accnt.setCellDisabled(i, "btn_accnt_no_rspns", true);											
						}															
					}						
					// 첨부파일
					if (dma_form_result.get("attach_file_no1").trim() !== '') {
				    	com.file.create(upload_A.getID(), {fileKey: dma_form_result.get("attach_file_no1"), mode: vMode});
					}
					if (dma_form_result.get("attach_file_no2").trim() !== '') {				
						com.file.create(upload_B.getID(), {fileKey: dma_form_result.get("attach_file_no2"), mode: vMode});
					}	
					if (adjstVo.cud_type == "I") {
						ica_adjst_ymd.setValue(com.getServerDateTime());
						dma_form_result.set("adjst_psn", session.sn);
						dma_form_result.set("adjst_psn_nm", session.cn);
						dma_form_result.set("adjst_emp_no", session.sn.substring(2,8));
						dma_form_result.set("adjst_dept", session.deptCode);
						dma_form_result.set("adjst_dept_nm", session.deptName);						
					} else if (adjstVo.cud_type == "U") {
						// 구분에 따른 정산추가계정내역 컴포넌트 컨트롤
						for(var i = 0; i < dlt_add_list.getRowCount(); i++) {
							// 20150714 환차손추가
							if (grid_adjst_add_accnt.getCellData(i, "req_clsf") == "FEG004" || 
								grid_adjst_add_accnt.getCellData(i, "req_clsf") == "FEG005" || 
								grid_adjst_add_accnt.getCellData(i, "req_clsf") == "FEG003") {									
								grid_adjst_add_accnt.setCellDisabled(i, "btn_accnt_no", true);
								grid_adjst_add_accnt.setCellDisabled(i, "btn_expns_cd", true);
								grid_adjst_add_accnt.setCellDisabled(i, "btn_accnt_no_rspns", true);		
							} else {
								grid_adjst_add_accnt.setCellDisabled(i, "btn_accnt_no", false);
								grid_adjst_add_accnt.setCellDisabled(i, "btn_expns_cd", false);
								grid_adjst_add_accnt.setCellDisabled(i, "btn_accnt_no_rspns", false);
							}
						}					
					}
										
					// 버튼 제어
					com.biz.disabledButtons(dma_form_result.get("apr_state"), dma_form_result.get("adjst_req_no")); // 버튼 세팅
														
					// 신청자와 세션이 다를 경우 화면 비활성화					
					if((dma_form_result.get("adjst_psn") != com.getLoginInfo("sn")) || !(scwin.data.isRoleYn)){						
						btn_del.setDisabled(true);
						btn_save.setDisabled(true);
						btn_apr.setDisabled(true);
					}
		      	}		      	
	        });
		});
	}
			
////////////////////////////////////////////////클릭 이벤트
/**
	 * 행추가
	 */
	scwin.btn_add_onclick = function(e) {		
		com.addRow(grid_adjst_add_accnt);
	};

	/**
	 * 행삭제
	 */
	scwin.btn_depst_del_onclick = function(e) {	
		var req_amt = Number(ibx_adjst_amt.getValue());
		var arr = grid_adjst_add_accnt.getCheckedIndex("chk2");
		var row_cnt = arr.length;		
		if (row_cnt == 0) {
			alert("선택되지 않았습니다.");
			return;
		}
		for (var i = row_cnt-1; i >= 0; i--) {			
			var idx = arr[i];
			if (grid_adjst_add_accnt.getCellData(idx, "req_clsf") != "FEG004" && 
				grid_adjst_add_accnt.getCellData(idx, "req_clsf") != "FEG005") {					
				var adjst_amt = Number(grid_adjst_add_accnt.getCellData(idx, "req_amt"));				
				ibx_adjst_amt.setValue(
				  (isNaN(req_amt) ? 0 : req_amt) - 
				  (isNaN(adjst_amt) ? 0 : adjst_amt)
				);
			}
		}																					
		com.deleteRow(grid_adjst_add_accnt);
	};
	
	/**
	 * 행취소
	 */
	scwin.btn_undo_onclick = function(e) {
		com.undoRow(grid_adjst_add_accnt);
	};

    /**	
     *	정산계정내역(계정추가, 초과분, 환차손, 환차익, 과입금) 그리드 버튼 클릭
     **/
	scwin.grid_adjst_add_accnt_oncellclick = function(row,col,colId) {		
		scwin.data.req_clsf = grid_adjst_add_accnt.getCellData(row, "req_clsf");			
		// 계정번호 팝업
		if (colId == "btn_accnt_no") {
			if (scwin.data.req_clsf == "") {
				alert("구분을를 먼저 선택하시기 바랍니다.");
				grid_adjst_add_accnt.setFocusedCell(row, col);
				return;
			}
			var adjst_ymd = ica_adjst_ymd.getValue();
			if (adjst_ymd == "") {
				alert("결의일자를 입력하세요.");
				ica_adjst_ymd.focus();
				return;
			}				
			var data={
				accnt_no : "",
				clsf : "gen",
				std_ymd : adjst_ymd,
				ref_yn : (grid_adjst_add_accnt.getCellData(row, "accnt_no") == "") ? "Y": "N"
			};				
			com.pop.open(com.pop.TYPE.ACNNO, data, function(ret){
				var accnt_no = ret.accnt_no;				
				if (accnt_no.substr(0, 3) != "FF0") {
					dlt_add_list.setCellData(row, "accnt_rspns", ret.accnt_rspns);
					dlt_add_list.setCellData(row, "accnt_rspns_nm", ret.emp_nm);
				}	
				dlt_add_list.setCellData(row, "accnt_no", ret.accnt_no);
				dlt_add_list.setCellData(row, "accnt_no_nm", ret.accnt_no_nm);
				dlt_add_list.setCellData(row, "expns_cd", "");
				dlt_add_list.setCellData(row, "expns_cd_nm", "");
				dlt_add_list.setCellData(row, "accnt_cd", "");
				dlt_add_list.setCellData(row, "accnt_cd_abbr", "");
				dlt_add_list.setCellData(row, "req_psn", dma_form_result.get("adjst_psn"));
				dlt_add_list.setCellData(row, "req_dept", dma_form_result.get("adjst_dept"));	
				dlt_add_list.setCellData(row, "req_dept_new_ymd", com.getLoginInfo().deptNewYmd);							
			}); 	
			
		// 비용코드 팝업
		} else if (colId == "btn_expns_cd") {
			var accnt_no = grid_adjst_add_accnt.getCellData(row, "accnt_no");			
			if (accnt_no == "") {
				alert("계정번호를 먼저 입력하시기 바랍니다.");
				grid_adjst_add_accnt.setFocusedCell(row, col);
				return;
			}			
			var data = {
				accnt_no : accnt_no,
			};
			com.pop.open(com.pop.TYPE.EXPNS, data, function(ret) {								
				dlt_add_list.setCellData(row, "expns_cd", ret.expns_cd);
				dlt_add_list.setCellData(row, "expns_cd_nm", ret.expns_cd_nm);
				dlt_add_list.setCellData(row, "accnt_cd", ret.accnt_cd);
				dlt_add_list.setCellData(row, "accnt_cd_abbr", ret.accnt_cd_abbr);							
			});						
		// 계정 책임자 팝업
		} else if (colId == "btn_accnt_no_rspns"){
			var repnsNm = grid_adjst_add_accnt.getCellData(row, "accnt_rspns_nm");
			if (scwin.data.req_clsf == "") {
				alert("구분을를 먼저 선택하시기 바랍니다.");
				grid_adjst_add_accnt.setFocusedCell(row, col);
				return;			
			}
			var data = {
				nm : repnsNm
			};
			com.pop.open( com.pop.TYPE.HUM, data, function(ret){
				dlt_add_list.setCellData(row, "accnt_rspns_nm", ret.nm);
				dlt_add_list.setCellData(row, "accnt_rspns", ret.syspayno);	
			});						
		}					
	};
		
	scwin.onpageunload = function() {
				
	};
	
	//가지급금신청서의 정산예정계정내역 그리드
	scwin.grid_adjst_accnt_onafteredit = function(row,col,value) {			
		if (col == grid_adjst_accnt.getColumnIndex("adjst_amt")) {
			if (Number(ibx_req_amt.getValue()) < Number(grid_adjst_accnt.getFooterData("tot_adjst_amt"))) {
				alert("정산금액(B)은 신청금액(A)를 초과할 수 없습니다.");
				dlt_adjst_list.setCellData(row, "adjst_amt", "");
				return false;
			}	
			if (Number(grid_adjst_accnt.getCellData(row, "adjst_amt")) > Number(grid_adjst_accnt.getCellData(row, "req_amt"))) {				
				alert("계정번호["+grid_adjst_accnt.getCellData(row, "accnt_no")+"]의 정산금액(B)은 신청금액을 초과하여 입력할 수 없습니다.");
				dlt_adjst_list.setCellData(row, "adjst_amt", "");
				return false;
			}	
			var tot_req_amt = Number(grid_adjst_add_accnt.getFooterData("tot_req_amt"));
			var tot_adjst_amt = Number(grid_adjst_accnt.getFooterData("tot_adjst_amt"));
			var tot_depst_amt = Number(grid_depst.getFooterData("tot_depst_amt"));			
			ibx_adjst_amt.setValue(
			  (isNaN(tot_req_amt) ? 0 : tot_req_amt) +
			  (isNaN(tot_adjst_amt) ? 0 : tot_adjst_amt) +
			  (isNaN(tot_depst_amt) ? 0 : tot_depst_amt)
			);
		}			
	};
	
	/**
	 * 입금내역 추가 버튼 클릭 이벤트
	 */	
	scwin.btn_depst_onclick = function(e) {
		var data ={
			biz_clsf : "R",
			ref_yn : "Y",
			open_id : "F453"
		};
		com.pop.open(com.pop.TYPE.DEPST, data, function(ret){			
			var ret_arr = (Array.isArray(ret))? ret : new Array(ret);			
			var row_cnt = dlt_detle_list.getRowCount();
			var cnt = 0;
			// 내부함수
			var set_depst = function(row, data){				
				dlt_detle_list.setRowJSON(row, data);
				dlt_detle_list.setCellData(row, "bankaccnt_no", data.bankaccnt_no);
				dlt_detle_list.setCellData(row, "bank_cd", data.bank_cd);
				dlt_detle_list.setCellData(row, "depst_ymd", data.acct_txday);
				dlt_detle_list.setCellData(row, "depst_liq", data.depst_liq);
				dlt_detle_list.setCellData(row, "depst_amt", data.ramt);
				dlt_detle_list.setCellData(row, "detls", data.remark);
				dlt_detle_list.setCellData(row, "depst_unslip_no", data.depst_unslip_no);
				dlt_detle_list.setCellData(row, "depst_unslip_odr", data.depst_unslip_odr);
				dlt_detle_list.setCellData(row, "slip_no", data.slip_no);
				dlt_detle_list.setCellData(row, "slip_odr", data.slip_odr);
				dlt_detle_list.setCellData(row, "depst_odr", row_cnt+1); // 입금순번
				dlt_detle_list.setCellData(row, "req_dept", dma_form_result.get("adjst_dept"));
				dlt_detle_list.setCellData(row, "req_dept_new_ymd", com.getLoginInfo().deptNewYmd);
				dlt_detle_list.setCellData(row, "syspayno", dma_form_result.get("req_psn"));
				dlt_detle_list.setCellData(row, "nm", dma_form_result.get("req_psn_nm"));
				dlt_detle_list.setCellData(row, "adjst_req_no", dma_form_result.get("adjst_req_no"));	
							
				var tot_req_amt = Number(grid_adjst_add_accnt.getFooterData("tot_req_amt"));
				var tot_adjst_amt = Number(grid_adjst_accnt.getFooterData("tot_adjst_amt"));
				var tot_depst_amt = Number(grid_depst.getFooterData("tot_depst_amt"));	
											
				ibx_adjst_amt.setValue(
				  (isNaN(tot_req_amt) ? 0 : tot_req_amt) +
				  (isNaN(tot_adjst_amt) ? 0 : tot_adjst_amt) +
				  (isNaN(tot_depst_amt) ? 0 : tot_depst_amt)
				);				
			};
			
			for (var i=0; i<ret_arr.length; i++) {
				var data = ret_arr[i];				
				if (row_cnt == 0) {
					(set_depst)(i, data);
				} else {
					for (var j=0; j<row_cnt; j++) {
						if (data.acct_txday == dlt_detle_list.getCellData(j, "acct_txday") && data.acct_txday_seq == dlt_detle_list.getCellData(j, "acct_txday_seq")) {
							alert("선택한 자료가 [" + (j+1) + "]행과 중복되고 있습니다.");
						} else {							
							(set_depst)(row_cnt+cnt, data);							
							cnt++
						}
					}
				}
			}		
			grid_depst.setFocusedCell(0, 0);
		});						
	};
	
	/**
	 * 입금내역 삭제 버튼 클릭 이벤트
	 */		
	scwin.btn_depst_remove_onclick = function(e) {		
		var req_amt = Number(ibx_adjst_amt.getValue());
		var arr = grid_depst.getCheckedIndex("chk");
		var row_cnt = arr.length;
			
		if (row_cnt == 0) {
			alert("선택되지 않았습니다.");
			return;
		}
		
		for(var i = row_cnt-1; i >= 0; i--) {			
			var idx = arr[i];	
			var tot_depst_amt = Number(grid_depst.getCellData(idx, "depst_amt"));			
			ibx_adjst_amt.setValue(
			  (isNaN(req_amt) ? 0 : req_amt) - 
			  (isNaN(tot_depst_amt) ? 0 : tot_depst_amt)
			);			
		}												
		com.deleteRow(grid_depst);			
	};

	/**
	 * 정산계정내역 그리드 변경 이벤트 
	 */		
	scwin.grid_adjst_add_accnt_onafteredit = function(row,col,value) {		
		if (col == grid_adjst_add_accnt.getColumnIndex("req_amt")) {
			var tot_add_amt02 = 0; // 정산계정금액 합계(과입금, 환차익 그 외)
			var addAmt02 = 0; // 정산계정내역금액(과입금, 환차익 그 외)
			for (var i = 0; i<dlt_add_list.getRowCount(); i++) {
				if (grid_adjst_add_accnt.getCellData(i, "req_clsf") != "FEG004" && 
					grid_adjst_add_accnt.getCellData(i, "req_clsf") != "FEG005") { 
											
					// 과입금, 환차익 그 외
					add_amt02 = grid_adjst_add_accnt.getCellData(i, "req_amt");
					tot_add_amt02 = tot_add_amt02 + parseInt(add_amt02); // 정산계정내역금액					
					var tot_adjst_amt = Number(grid_adjst_accnt.getFooterData("tot_adjst_amt"));
					var tot_depst_amt = Number(grid_depst.getFooterData("tot_depst_amt"));
										
					ibx_adjst_amt.setValue(
					  (isNaN(tot_add_amt02) ? 0 : tot_add_amt02) +
					  (isNaN(tot_adjst_amt) ? 0 : tot_adjst_amt) +
					  (isNaN(tot_depst_amt) ? 0 : tot_depst_amt)
					);					
				}
			}						
		} 
		if (col == grid_adjst_add_accnt.getColumnIndex("req_clsf")) {
			if (grid_adjst_add_accnt.getCellData(row, "req_clsf") == "FEG004" || 
				grid_adjst_add_accnt.getCellData(row, "req_clsf") == "FEG005" || 
				grid_adjst_add_accnt.getCellData(row, "req_clsf") == "FEG003") {
					
				// 계정번호 - FF030001
				dlt_add_list.setCellData(row, "accnt_no", "FF030001");
				dlt_add_list.setCellData(row, "accnt_no_nm", "재무회계");
				grid_adjst_add_accnt.setCellDisabled(row, "accnt_no", true);
				grid_adjst_add_accnt.setCellDisabled(row, "btn_accnt_no", true);
				grid_adjst_add_accnt.setCellDisabled(row, "accnt_no_nm", true);
				dlt_add_list.setCellData(row, "accnt_rspns_nm", "구자운");
				dlt_add_list.setCellData(row, "accnt_rspns", "19906086");
				grid_adjst_add_accnt.setCellDisabled(row, "btn_accnt_no_rspns", true);
				dlt_add_list.setCellData(row, "req_amt", "");
				dlt_add_list.setCellData(row, "adjst_amt", "");
				dlt_add_list.setCellData(row, "ctrl_no", "");
				dlt_add_list.setCellData(row, "rmk", "");
	
				// 비용코드 - 999
				dlt_add_list.setCellData(row, "expns_cd", "999");
				dlt_add_list.setCellData(row, "expns_cd_nm", "기타");
				grid_adjst_add_accnt.setCellDisabled(row, "btn_expns_cd", true);
	
				if (grid_adjst_add_accnt.getCellData(row, "req_clsf") == "FEG004") { // 환차익
					// 회계코드 - 45005010
					dlt_add_list.setCellData(row, "accnt_cd", "45005010");
					dlt_add_list.setCellData(row, "accnt_cd_abbr", "일반잡수익(현금성)");
				} else if (grid_adjst_add_accnt.getCellData(row, "req_clsf") == "FEG005") { // 과입금
					// 회계코드 - 21009010
					dlt_add_list.setCellData(row, "accnt_cd", "21009010");
					dlt_add_list.setCellData(row, "accnt_cd_abbr", "미지급(당좌)");
				} else { // 환차손
					// 회계코드 - 53175010
					dlt_add_list.setCellData(row, "accnt_cd", "53175010");
					dlt_add_list.setCellData(row, "accnt_cd_abbr", "잡손실(현금성)");
				}
			} else { // 계정추가, 초과분, 환차손
				dlt_add_list.setCellData(row, "accnt_no", "");
				dlt_add_list.setCellData(row, "accnt_no_nm", "");
				grid_adjst_add_accnt.setCellDisabled(row, "accnt_no", false);
				grid_adjst_add_accnt.setCellDisabled(row, "btn_accnt_no", false);
				grid_adjst_add_accnt.setCellDisabled(row, "accnt_no_nm", false);
				dlt_add_list.setCellData(row, "accnt_cd", "");
				dlt_add_list.setCellData(row, "accnt_cd_abbr", "");
				dlt_add_list.setCellData(row, "expns_cd", "");
				dlt_add_list.setCellData(row, "expns_cd_nm", "");
				grid_adjst_add_accnt.setCellDisabled(row, "btn_expns_cd", false);
				dlt_add_list.setCellData(row, "req_amt", "");
				dlt_add_list.setCellData(row, "adjst_amt", "");
				dlt_add_list.setCellData(row, "ctrl_no", "");
				dlt_add_list.setCellData(row, "accnt_rspns_nm", "");
				dlt_add_list.setCellData(row, "accnt_rspns", "");
				grid_adjst_add_accnt.setCellDisabled(row, "btn_accnt_no_rspns", false);
				dlt_add_list.setCellData(row, "rmk", "");
			}					
		}				
	};
	//목록 이동
	scwin.btn_list_onclick = function(e) {
		var data={};
//		com.openTabUrl("가지급금정산", "/ui/fin/spa/FIN_SPA_F403_00L.xml", 1, data, function() {
//			scwin.menuFind();
//		});
		com.moveList("F403", data);									
	};
	
	/**
	 * 잔액 입금 내역 그리드 변경 이벤트 
	 */		
	scwin.grid_depst_onviewchange = function(info) {		
		var row = info.rowIndex;
		var col = info.colIndex;
		var colId = grid_depst.getColumnID(col);
		if (info.oldValue != info.newValue) {
			if (colId == "depst_amt") {							
				var tot_req_amt = Number(grid_adjst_add_accnt.getFooterData("tot_req_amt"));
				var tot_adjst_amt = Number(grid_adjst_accnt.getFooterData("tot_adjst_amt"));
				var tot_depst_amt = Number(grid_depst.getFooterData("tot_depst_amt"));								
				ibx_adjst_amt.setValue(
				  (isNaN(tot_req_amt) ? 0 : tot_req_amt) +
				  (isNaN(tot_adjst_amt) ? 0 : tot_adjst_amt) +
				  (isNaN(tot_depst_amt) ? 0 : tot_depst_amt)
				);								
			}
		}					
	};
	
	scwin.grid_depst_onafteredit = function(row,col,value) {		
		if (col == grid_depst.getColumnIndex("depst_amt")) {		
			var tot_req_amt = Number(grid_adjst_add_accnt.getFooterData("tot_req_amt"));
			var tot_adjst_amt = Number(grid_adjst_accnt.getFooterData("tot_adjst_amt"));
			var tot_depst_amt = Number(grid_depst.getFooterData("tot_depst_amt"));							
			ibx_adjst_amt.setValue(
			  (isNaN(tot_req_amt) ? 0 : tot_req_amt) +
			  (isNaN(tot_adjst_amt) ? 0 : tot_adjst_amt) +
			  (isNaN(tot_depst_amt) ? 0 : tot_depst_amt)
			);					
		}				
	};

	/*
     * 저장 버튼 클릭 이벤트
     */	
	scwin.btn_save_onclick = function(e) {
		if(!scwin.preSave()) return;
		dma_form_result.set("approval", "false");
		scwin.data.isApproval = false;		
		scwin.callSave();						
	};
	
	/*
     * 저장 호출
     */
	scwin.callSave = function(){
		com.file.transport( function( attachObj){
			var attaches = [];
			attaches.push(attachObj.upload_A);
			attaches.push(attachObj.upload_B);
			dma_form_result.set("attach_file_no1", attachObj.upload_A);
			dma_form_result.set("attach_file_no2", attachObj.upload_B);
			dma_form_result.set("validAttachNo", attaches.join(','));		
			if(!com.validateData(dma_form_result,[
					 { id : "attach_file_no1", mandatory : true }
				], false)
			) return false;			
			if (scwin.data.isApproval === false) {			
				com.confirm("message.xom.wq.017"/*저장 하시겠습니까?*/, function( ret) {
					if (ret) {
						scwin.save();
					}
				});
			} else {
				scwin.save();
			}
		});	
	};
	
	/*
     * 저장 호출
     */
	scwin.save = function(){
		var status = "";		
		// 정산계정내역		
		for(var i=0; i<dlt_adjst_list.getRowCount(); i++) {			
			status = dlt_adjst_list.getRowStatus(i);
			if (status != "R") { // R : DB에서 가져온 수정되지 않은 data
				if (status == "C") {
					dlt_adjst_list.setCellData(i, "cud_type", "C");
				} else if (status == "U") {
					dlt_adjst_list.setCellData(i, "cud_type", "U");								
				}
			}
		}					
		// 입금내역
		for(var i=0; i<dlt_detle_list.getRowCount(); i++) {			
			status = dlt_detle_list.getRowStatus(i);
			if (status != "R") { // R : DB에서 가져온 수정되지 않은 data
				if (status == "C") {
					dlt_detle_list.setCellData(i, "cud_type", "C");
				} else if (status == "U") {
					dlt_detle_list.setCellData(i, "cud_type", "U");
				}
			}
		}
		// 정산계정내역(계정추가, 초과분, 환차손, 환차익, 과입금)
		for(var i=0; i<dlt_add_list.getRowCount(); i++) {			
			status = dlt_add_list.getRowStatus(i);
			if (status != "R") { // R : DB에서 가져온 수정되지 않은 data
				if (status == "C") {
					dlt_add_list.setCellData(i, "cud_type", "C");
				} else if (status == "U") {
					dlt_add_list.setCellData(i, "cud_type", "U");
				}
			}
		}																					
		com.execute(sbm_saveData, {
			successCallback : function(e) { // 성공 콜백					
				com.alert("message.xom.wq.023"/*정상적으로 처리되었습니다.*/, function() {
					if (scwin.data.isApproval) {												
						com.movePageMenu("A001", { "reqNo" : dma_form_result.get("adjst_req_no")});
					} else {
						scwin.data.saveFlag = true;
						dma_search.set("depst_req_no", e.responseJSON.elData.depst_req_no);
						dma_search.set("cud_type", "U");					
						// 조회
						scwin.menuFind();
					}					
				});										
			}
		});		
	}		
	
	/*
     * 저장 전 체크
     */
	scwin.preSave = function(){

		if (!com.validateData(dma_form_result,[
				 { id : "adjst_ymd", mandatory : true }
				,{ id : "adjst_dept_nm", mandatory : true }
				,{ id : "adjst_psn", mandatory : true }
				,{ id : "adjst_detls", mandatory : true }
				,{ id : "entsch_check_dept", mandatory : true }
			], false)
		) return false;				
		var adjst_amt = dma_form_result.get("adjst_amt"); // 정산금액
		var req_amt = dma_form_result.get("req_amt"); // 신청금액(가지급신청당시의...)
		var tot_depst_amt = 0; // 잔액 입금금액 합계
		var depst_amt = 0; // 건별 잔액입금금액
		var tot_add_amt01 = 0; // 정산계정금액 합계(과입금, 환차익)
		var add_amt01 = 0; // 정산계정내역금액(과입금, 환차익)
		var tot_add_amt02 = 0; // 정산계정금액 합계(그외)
		var add_amt02 = 0; // 정산계정내역금액(그외)
		var tot_add_amt03 = 0; // 정산계정금액 합계(그외)
		var add_amt03 = 0; // 정산계정내역금액(그외)				
		if (adjst_amt == "0" || adjst_amt == "") {
			alert("정산금액이 정산내역의 합과 일치하지 않습니다.\n확인바랍니다.");
			return false;
		}		
		// 잔액 입금내역
		for (var i = 0; i<dlt_detle_list.getRowCount(); i++) {
			depst_amt = grid_depst.getCellData(i, "depst_amt");
			tot_depst_amt = tot_depst_amt + parseInt(depst_amt); // 입금금액 합계
		}		
		// 정산계정내역
		for (var i = 0; i<dlt_add_list.getRowCount(); i++) {
			if (grid_adjst_add_accnt.getCellData(i, "req_clsf") == "FEG004" || grid_adjst_add_accnt.getCellData(i, "req_clsf") == "FEG005") { // 과입금, 환차익				
				add_amt01 = grid_adjst_add_accnt.getCellData(i, "req_amt");
				tot_add_amt01 = tot_add_amt01 + parseInt(add_amt01); // 정산계정내역금액
			} else if (grid_adjst_add_accnt.getCellData(i, "req_clsf") == "FEG003") { // 환차손
				add_amt03 = grid_adjst_add_accnt.getCellData(i, "req_amt");
				tot_add_amt03 = tot_add_amt03 + parseInt(add_amt03); // 정산계정내역금액
			} else { // 그 외
				add_amt02 = grid_adjst_add_accnt.getCellData(i, "req_amt");
				tot_add_amt02 = tot_add_amt02 + parseInt(add_amt02); // 정산계정내역금액
			}
		}
		
		var tot_adjst_amt = grid_adjst_accnt.getFooterData("tot_adjst_amt");
		var tot_req_amt = grid_adjst_add_accnt.getFooterData("tot_req_amt");
		
		// 계정추가 없이 정산예정계정내역과 잔액입금내역만 존재할 때....
		if (tot_req_amt == "0" || tot_req_amt == "") {
			// 가지급금신청서의 정산예정계정내역의 정산금액합 + 잔액 입금내역의 입금금액합 = 가지급금신청 당시의 신청금액과 같아야 한다.			
			if (Number(req_amt) != (Number(tot_depst_amt) + Number(tot_adjst_amt))) {
				alert("정산금액(B)과 입금금액(C)의 합이 신청금액(A)과 일치하지 않습니다.\n신청금액(A) = 정산금액(B) + 입금금액(C)");
				return false;
			} else {
					if (Number(tot_add_amt03) == 0) {
						if (Number(tot_add_amt01) == 0 && Number(tot_add_amt02) > 0) { // 계정추가, 초과분, 환차손만 있는 경우
							if (Number(tot_add_amt02) + Number(tot_depst_amt) + Number(tot_adjst_amt) != Number(tot_add_amt02) + Number(req_amt)) {
								alert("정산금액(B)과 입금금액(C)의 합은 신청금액(A)과 같아야합니다.\n신청금액(A) = 정산금액(B) + 입금금액(C)");
								return false;
							}
						}
						if (Number(tot_add_amt01) > 0 && Number(tot_add_amt02) == 0) { // 과입금, 환차익만 있는 경우
							if (Number(tot_depst_amt) + Number(tot_adjst_amt) != Number(tot_add_amt01) + Number(req_amt)) {
								alert("정산금액(B)과 입금금액(C)의 합은 신청금액(A)과 사용금액(D)_과입금/환차익의 합과 같아야합니다.\n신청금액(A) + 사용금액(D) = 정산금액(B) + 입금금액(C)");
								return false;
							}
						}
						if (Number(tot_add_amt01) > 0 && Number(tot_add_amt02) > 0) { // 모두있는 경우
							if (Number(tot_add_amt02) + Number(tot_depst_amt) + Number(tot_adjst_amt) != Number(tot_add_amt01) + Number(req_amt) + Number(tot_add_amt02)) {
								alert("정산금액(B)과 입금금액(C)의 합은 신청금액(A)과 사용금액(D)의 합과 같아야합니다.\n신청금액(A) + 사용금액(D) = 정산금액(B) + 입금금액(C)");
								return false;
							}
						}
					} else {
						if (Number(req_amt) != Number(tot_depst_amt) + Number(tot_adjst_amt) + (Number(tot_add_amt01)+Number(tot_add_amt02)+Number(tot_add_amt03))) {
							alert("정산금액(B)과 입금금액(C), 사용금액(D)의 합은 신청금액(A)과 같아야합니다.\n신청금액(A) = 정산금액(B) + 입금금액(C) + 사용금액(D)");
							return false;
						}
					}
				}
		}
		
		if (Number(adjst_amt) != (Number(tot_adjst_amt) + Number(tot_depst_amt) + (Number(tot_add_amt02) +Number(tot_add_amt03)))) {
			alert("정산금액(E)이 정산내역 금액의 합과 일치하지 않습니다.");
			return false;
		}
		if (tot_depst_amt == "0" || tot_depst_amt == "") {
			if (Number(req_amt) + (Number(tot_add_amt02) +Number(tot_add_amt03)) != Number(tot_adjst_amt) + (Number(tot_add_amt02) +Number(tot_add_amt03))) {
				alert("신청금액(A)과 정산금액(B)은 같아야합니다.\n신청금액(A) = 정산금액(B))");
				return false;
			}
		}		
		var adjst_accnt_No = "";
		var adjst_accnt_cd = "";
		var adjst_expns_cd = "";
		var accnt_rspns = "";
		var req_amt = "";
		var rmk = "";
		
		for(var i = 0; i < dlt_adjst_list.getRowCount(); i++) {
			rmk = grid_adjst_accnt.getCellData(i, "rmk");
			if (rmk == "") {
				alert("가지급금신청서의 정산예정계정내역의 비고란 입력은 필수입니다.");
				return false;
			}
		}		
		for(var i = 0; i < dlt_add_list.getRowCount(); i++) {
			adjst_accnt_No = grid_adjst_add_accnt.getCellData(i, "accnt_no");
			adjst_accnt_cd = grid_adjst_add_accnt.getCellData(i, "accnt_cd");
			adjst_expns_cd = grid_adjst_add_accnt.getCellData(i, "expns_cd");
			accnt_rspns = grid_adjst_add_accnt.getCellData(i, "accnt_rspns");
			req_amt = grid_adjst_add_accnt.getCellData(i, "req_amt");
			rmk = grid_adjst_add_accnt.getCellData(i, "rmk");
			
			if (adjst_accnt_No == "" || adjst_accnt_cd =="" || adjst_expns_cd == "" || accnt_rspns == "" || req_amt == "") {
				alert("정산계정내역(계정추가, 초과분, 환차손, 환차익, 과입금)에 빠진 항목이 있습니다. 확인바랍니다.");
				return false;
			}
			if (rmk == "") {
				alert("정산계정내역(계정추가, 초과분, 환차손, 환차익, 과입금)의 비고란 입력은 필수입니다.");
				return false;
			}
		}		
		return true; 																			
	}
	
	/*
     * 삭제 버튼 클릭 이벤트
     */			
	scwin.btn_del_onclick = function(e) {		
		if (dma_form_result.get("adjst_req_no") == "") {
			alert("삭제할 내역이 없습니다");
			return;
		}
		com.confirm("message.xom.wq.022" /*삭제 하시겠습니까?*/ , function(ret) {
			if (ret) {
				com.execute(sbm_deleteData, {
					successCallback : function(e) { // 성공 콜백					
						com.alert("message.xom.wq.023"/*정상적으로 처리되었습니다.*/, function() {
							scwin.data.saveFlag = true;
							//com.moveList("F901", scwin.data.save_flag);
							var data={};
							com.openTabUrl("가지급금정산", "/ui/fin/spa/FIN_SPA_F403_00L.xml", 1, data, function() {
								scwin.menuFind();
							});	
						});										
					}
				});								
			}
		});								
	};
	
	/*
     * 결제신청 버튼 클릭 이벤트
     */	
	scwin.btn_apr_onclick = function(e) {
		dma_form_result.set("approval", "true");
		scwin.data.isApproval = true;
		if(!scwin.preSave()) return;
		scwin.callSave();		
	};
	]]></script>
    </head>   	
    <body ev:onpageload="scwin.onpageload">
    	<w2:wframe id="wfm_title" src="/cm/xml/contentTitle.xml" style=""></w2:wframe>
    	<xf:group class="pageWrap" id="" style="">
    		<xf:group class="searchSection step" id="" style="">
    			<xf:group class="le" id="">
    				<xf:trigger class="btn " id="btn_list" style="" type="button" ev:onclick="scwin.btn_list_onclick">
    					<xf:label><![CDATA[목록]]></xf:label>
    				</xf:trigger>
    			</xf:group>
    			<xf:group class="btnbox ri" id="">
    				<xf:trigger class="btn" id="btn_save" style="" type="button" ev:onclick="scwin.btn_save_onclick">
    					<xf:label><![CDATA[저장]]></xf:label>
    				</xf:trigger>
    				<xf:trigger class="btn" id="btn_del" style="" type="button" ev:onclick="scwin.btn_del_onclick">
    					<xf:label><![CDATA[삭제]]></xf:label>
    				</xf:trigger>
    				<xf:trigger class="btn blue" id="btn_apr" style="" type="button" ev:onclick="scwin.btn_apr_onclick">
    					<xf:label><![CDATA[결재신청]]></xf:label>
    				</xf:trigger>
    			</xf:group>
    		</xf:group>
    		<xf:input style="position:absolute;vertical-align:middle;word-wrap:break-word;left:275px;top:5px;width:40px;height:19px;"
    			onFocusStyle="" id="inputApproval" type="hidden">
    		</xf:input>
    		<xf:input
    			style="position:absolute;vertical-align:middle;word-wrap:break-word;left:215px;top:3px;width:50px;height:20px;display:none;"
    			onFocusStyle="" id="input_adjst_psn" type="hidden">
    		</xf:input>
    		<xf:input id="input_req_psn_syspayno" style="position: absolute;left: 920px;top: 6px;width:59px;height:15px;;display:none"
    			disabled="true" ref="data:dma_form_result.req_psn" />
    		<xf:input class="" disabled="true" id="input_bankCd" onFocusClass="" onFocusStyle="" readOnly="true"
    			style="word-wrap:break-word;position:absolute;top:179px;left:292px;width:43px;height:19px;" type="hidden"
    			ref="data:dma_form_result.bank">
    		</xf:input>
    		<xf:input class="" disabled="true" id="input_empno" onFocusClass="" onFocusStyle="" readOnly="true"
    			style="word-wrap:break-word;position:absolute;top:178px;left:938px;width:43px;height:19px;" type="hidden"
    			ref="data:dma_form_result.vend_cd">
    		</xf:input>
    		<xf:input id="input_apr_state" onFocusStyle=""
    			style="position:absolute;vertical-align:middle;word-wrap:break-word;left:327px;top:5px;width:40px;height:19px;" type="hidden"
    			ref="data:dma_form_result.apr_state">
    		</xf:input>
    		<xf:group class="w2tb tbl" id="" style="" tagname="table">
    			<w2:attributes>
    				<w2:summary></w2:summary>
    			</w2:attributes>
    			<xf:group tagname="caption"></xf:group>
    			<xf:group tagname="colgroup">
    				<xf:group style="width:150px;" tagname="col"></xf:group>
    				<xf:group style="" tagname="col"></xf:group>
    				<xf:group style="width:150px;" tagname="col"></xf:group>
    				<xf:group style="" tagname="col"></xf:group>
    				<xf:group style="width:150px;" tagname="col"></xf:group>
    				<xf:group style="" tagname="col"></xf:group>
    			</xf:group>
    			<xf:group style="" tagname="tr">
    				<xf:group class="w2tb_th" tagname="th">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:textbox id="" label="신청번호" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group class="w2tb_td" tagname="td">
    					<w2:attributes></w2:attributes>
    					<xf:input adjustMaxLength="false" class="inp full" id="ibx_req_no" style="max-width: 200px;" title=""
    						ref="data:dma_form_result.req_no" readOnly="true" disabled="true">
    					</xf:input>
    				</xf:group>
    				<xf:group class="w2tb_th" tagname="th">
    					<w2:attributes></w2:attributes>
    					<w2:textbox id="" label="신청부서" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group class="w2tb_td" tagname="td">
    					<w2:attributes></w2:attributes>
    					<xf:input adjustMaxLength="false" class="inp full" id="ibx_req_dept_nm" style="max-width: 200px;" title=""
    						ref="data:dma_form_result.req_dept_nm" disabled="true">
    					</xf:input>
    				</xf:group>
    				<xf:group class="w2tb_th" tagname="th">
    					<w2:attributes></w2:attributes>
    					<w2:textbox id="" label="신청자" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group class="w2tb_td" tagname="td">
    					<w2:attributes></w2:attributes>
    					<xf:input adjustMaxLength="false" class="inp full" id="ibx_req_psn_nm" style="max-width: 200px;" title=""
    						ref="data:dma_form_result.req_psn_nm" disabled="true">
    					</xf:input>
    				</xf:group>
    			</xf:group>
    			<xf:group tagname="tr">
    				<xf:group class="w2tb_th" tagname="th">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:textbox id="" label="신청사유" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group class="w2tb_td" tagname="td">
    					<w2:attributes>
    						<w2:colspan>3</w2:colspan>
    						<w2:rowspan>1</w2:rowspan>
    					</w2:attributes>
    					<xf:input adjustMaxLength="false" class="inp full" id="ibx_req_cause" style="" title=""
    						ref="data:dma_form_result.req_cause" disabled="true">
    					</xf:input>
    				</xf:group>
    				<xf:group class="w2tb_th" tagname="th">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:textbox id="" label="신청금액(A)" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group class="w2tb_td" tagname="td">
    					<w2:attributes></w2:attributes>
    					<xf:input adjustMaxLength="false" class="inp full" id="ibx_req_amt" style="max-width: 200px;" title=""
    						ref="data:dma_form_result.req_amt" readOnly="true" disabled="true" displayFormat="#,###" dataType="number">
    					</xf:input>
    				</xf:group>
    			</xf:group>
    		</xf:group>
    		<xf:group class="titleSection" id="" style="">
    			<w2:textbox class="tit_tbl" id="" label="정산내역" style="" tagname="h3"></w2:textbox>
    		</xf:group>
    		<xf:group class="w2tb tbl" id="" style="" tagname="table">
    			<w2:attributes>
    				<w2:summary></w2:summary>
    			</w2:attributes>
    			<xf:group tagname="caption"></xf:group>
    			<xf:group tagname="colgroup">
    				<xf:group style="width:150px;" tagname="col"></xf:group>
    				<xf:group style="" tagname="col"></xf:group>
    				<xf:group style="width:150px;" tagname="col"></xf:group>
    				<xf:group style="" tagname="col"></xf:group>
    				<xf:group style="width:150px;" tagname="col"></xf:group>
    				<xf:group style="" tagname="col"></xf:group>
    			</xf:group>
    			<xf:group style="" tagname="tr">
    				<xf:group class="w2tb_th" tagname="th">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:textbox id="" label="정산신청번호" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group class="w2tb_td" tagname="td">
    					<w2:attributes></w2:attributes>
    					<xf:input adjustMaxLength="false" class="inp full" id="ibx_adjst_req_no" style="max-width: 200px;" title=""
    						readOnly="true" disabled="true" ref="data:dma_form_result.adjst_req_no">
    					</xf:input>
    				</xf:group>
    				<xf:group class="w2tb_th" tagname="th">
    					<w2:attributes></w2:attributes>
    					<w2:textbox id="" label="정산부서" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group class="w2tb_td" tagname="td">
    					<w2:attributes></w2:attributes>
    					<xf:input adjustMaxLength="false" class="inp full" id="ibx_adjst_dept_nm" style="max-width: 200px;" title=""
    						disabled="true" ref="data:dma_form_result.adjst_dept_nm">
    					</xf:input>
    				</xf:group>
    				<xf:group class="w2tb_th" tagname="th">
    					<w2:attributes></w2:attributes>
    					<w2:textbox id="" label="정산자" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group class="w2tb_td" tagname="td">
    					<w2:attributes></w2:attributes>
    					<xf:group class="flex" id="" style="">
    						<xf:input adjustMaxLength="false" class="inp full" id="ibx_adjst_empno" style="max-width: 200px;"
    							readOnly="true" disabled="true" ref="data:dma_form_result.adjst_emp_no">
    						</xf:input>
    						<xf:input adjustMaxLength="false" class="inp full" id="ibx_adjst_psn_nm" style="max-width: 200px;"
    							readOnly="true" disabled="true" ref="data:dma_form_result.adjst_psn_nm">
    						</xf:input>
    					</xf:group>
    				</xf:group>
    			</xf:group>
    			<xf:group tagname="tr">
    				<xf:group class="w2tb_th" tagname="th">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:span class="bul_req" id="" label="[필수입력항목]" style=""></w2:span>
    					<w2:textbox class="blue" id="" label="결의일자" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group class="w2tb_td" tagname="td">
    					<w2:attributes></w2:attributes>
    					<w2:inputCalendar calendarValueType="yearMonthDate" class="inpcal full" focusOnDateSelect="false" footerDiv="false"
    						id="ica_adjst_ymd" renderDiv="true" rightAlign="false" style="max-width: 200px;" ref="data:dma_form_result.adjst_ymd">
    					</w2:inputCalendar>
    				</xf:group>
    				<xf:group class="w2tb_th" tagname="th">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:textbox id="" label="정산금액(E)" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group class="w2tb_td" tagname="td">
    					<w2:attributes></w2:attributes>
    					<xf:input adjustMaxLength="false" class="inp full" id="ibx_adjst_amt" style="max-width: 200px;" title=""
    						readOnly="true" disabled="true" displayFormat="#,###" dataType="number" ref="data:dma_form_result.adjst_amt">
    					</xf:input>
    				</xf:group>
    				<xf:group class="w2tb_th" tagname="th">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:textbox id="" label="정산결의번호" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group class="w2tb_td" tagname="td">
    					<w2:attributes></w2:attributes>
    					<xf:input adjustMaxLength="false" class="inp full" id="ibx_adjst_unslip_no" style="max-width: 200px;" title=""
    						disabled="true" ref="data:dma_form_result.unslip_no">
    					</xf:input>
    				</xf:group>
    			</xf:group>
    			<xf:group tagname="tr">
    				<xf:group tagname="th" class="w2tb_th">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:span class="bul_req" id="" label="[필수입력항목]" style=""></w2:span>
    					<w2:textbox class="blue" id="" label="정산내역" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group tagname="td" class="w2tb_td">
    					<w2:attributes>
    						<w2:colspan>5</w2:colspan>
    						<w2:rowspan>1</w2:rowspan>
    					</w2:attributes>
    					<xf:textarea class="" id="ibx_adjst_detls" maxlength="133" style="height:80px;" title="" ref="data:dma_form_result.adjst_detls"></xf:textarea>
    				</xf:group>
    			</xf:group>
    		</xf:group>
    		<xf:group class="titleSection" id="" style="">
    			<w2:textbox class="tit_tbl" id="" label="입금예정계좌(계정추가, 초과분, 과입금)" style="" tagname="h3"></w2:textbox>
    		</xf:group>
    		<xf:group class="w2tb tbl" id="" style="" tagname="table">
    			<w2:attributes>
    				<w2:summary></w2:summary>
    			</w2:attributes>
    			<xf:group tagname="caption"></xf:group>
    			<xf:group tagname="colgroup">
    				<xf:group style="width:150px;" tagname="col"></xf:group>
    				<xf:group style="" tagname="col"></xf:group>
    				<xf:group style="width:150px;" tagname="col"></xf:group>
    				<xf:group style="" tagname="col"></xf:group>
    				<xf:group style="width:150px;" tagname="col"></xf:group>
    				<xf:group style="" tagname="col"></xf:group>
    			</xf:group>
    			<xf:group tagname="tr">
    				<xf:group class="w2tb_th" tagname="th">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:textbox id="" label="은행" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group class="w2tb_td" tagname="td">
    					<w2:attributes></w2:attributes>
    					<xf:input adjustMaxLength="false" class="inp full" id="input_bank_nm" style="max-width: 200px;" title=""
    						ref="data:dma_form_result.bank_nm" disabled="true" readOnly="true">
    					</xf:input>
    				</xf:group>
    				<xf:group class="w2tb_th" tagname="th">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:textbox id="" label="입금계좌" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group class="w2tb_td" tagname="td">
    					<w2:attributes></w2:attributes>
    					<xf:input adjustMaxLength="false" class="inp full" id="input_bankaccnt_no" style="max-width: 200px;" title=""
    						ref="data:dma_form_result.bankaccnt_no" readOnly="true" disabled="true">
    					</xf:input>
    				</xf:group>
    				<xf:group class="w2tb_th" tagname="th">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:textbox id="" label="예금주" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group class="w2tb_td" tagname="td">
    					<w2:attributes></w2:attributes>
    					<xf:input adjustMaxLength="false" class="inp full" id="input_depstr_nm" style="max-width: 200px;" title=""
    						ref="data:dma_form_result.depstr_nm" disabled="true" readOnly="true">
    					</xf:input>
    				</xf:group>
    			</xf:group>
    		</xf:group>
    		<xf:group class="titleSection" id="" style="">
    			<w2:textbox class="tit_tbl" id="" label="가지급금신청서의 정산예정계정내역" style="" tagname="h3"></w2:textbox>
    		</xf:group>
    		<w2:gridView autoFit="allColumn" class="grid" dataList="data:dlt_adjst_list" defaultCellHeight="28"
    			evenRowBackgroundColor="#f7faff" id="grid_adjst_accnt" noResultMessage="조회 결과가 없습니다." noResultMessageClass="noResult"
    			rowMouseOverColor="#e7f0fb" rowNumBackgroundColor="#fff" rowNumHeaderValue="" rowNumVisible="" rowNumWidth="50"
    			rowStatusHeaderValue="Stat." rowStatusVisible="false" rowStatusWidth="50" scrollByColumn="false" scrollByColumnAdaptive="false"
    			selectedCellColor="#fbf2cd" selectedRowColor="#fbf2cd" style="height:106px;" visibleRowNum="" ev:onafteredit="scwin.grid_adjst_accnt_onafteredit">
    			<w2:caption id="caption1" style="" value="this is a grid caption."></w2:caption>
    			<w2:header id="header1" style="">
    				<w2:row id="row1" style="">
    					<w2:column inputType="text" valueType="binary" style="height:26px" id="column1" width="70" value="정산신청번호" />
    					<w2:column inputType="text" valueType="binary" style="height:26px" id="column2" width="40" rowSpan="1" value="순번" />
    					<w2:column displayMode="label" id="column41" inputType="text" style="height:28px" value="계정번호" width="70"></w2:column>
    					<w2:column displayMode="label" id="column9" inputType="text" style="height:28px;" value="회계코드" width="70"></w2:column>
    					<w2:column displayMode="label" id="column43" inputType="text" style="height:28px" value="회계코드명" width="150"></w2:column>
    					<w2:column displayMode="label" id="column45" inputType="text" style="height:28px" value="비용코드" width="70"></w2:column>
    					<w2:column displayMode="label" id="column47" inputType="text" style="height:28px" value="비용코드명" width="150"></w2:column>
    					<w2:column displayMode="label" id="column49" inputType="text" style="height:28px" value="통제번호" width="70"></w2:column>
    					<w2:column displayMode="label" id="column61" inputType="text" style="height:28px" value="신청금액	" width="70"></w2:column>
    					<w2:column width="100" inputType="text" style="height:28px" id="column63" value="정산금액(B)" displayMode="label"></w2:column>
    					<w2:column width="150" inputType="text" style="height:28px" id="column65" value="비고" displayMode="label"></w2:column>
    					<w2:column inputType="text" valueType="binary" style="height:26px" id="column11" width="94" value="신청번호" />
    					<w2:column inputType="text" valueType="binary" style="height:26px" id="column12" width="70" value="신청순번" />
    				</w2:row>
    			</w2:header>
    			<w2:gBody id="gBody1" style="">
    				<w2:row id="row2" style="">
    					<w2:column inputType="text" valueType="binary" style="height:22px" id="adjst_req_no" width="70" hidden="true" />
    					<w2:column inputType="text" valueType="binary" style="height:22px;background-color:#f8f8f8;" width="40" id="req_seq"
    						readOnly="true" disabled="true" />
    					<w2:column displayMode="label" id="accnt_no" inputType="text" style="height:28px" value="" width="70"
    						readOnly="true" disabled="true">
    					</w2:column>
    					<w2:column displayMode="label" id="accnt_cd" inputType="text" style="height:28px;" width="70" readOnly="true"
    						disabled="true">
    					</w2:column>
    					<w2:column displayMode="label" id="accnt_cd_nm" inputType="text" style="height:28px" value="" width="150"
    						readOnly="true" disabled="true">
    					</w2:column>
    					<w2:column displayMode="label" id="expns_cd" inputType="text" style="height:28px" value="" width="70"
    						readOnly="true" disabled="true">
    					</w2:column>
    					<w2:column displayMode="label" id="expns_cd_nm" inputType="text" style="height:28px" value="" width="150"
    						readOnly="true" disabled="true">
    					</w2:column>
    					<w2:column displayMode="label" id="ctrl_no" inputType="text" style="height:28px" value="" width="70" readOnly="true"
    						disabled="true">
    					</w2:column>
    					<w2:column displayMode="label" id="req_amt" inputType="text" style="height:28px" value="" width="70" readOnly="true"
    						disabled="true" displayFormat="#,###" dataType="number" textAlign="right">
    					</w2:column>
    					<w2:column width="100" inputType="text" style="height:28px" id="adjst_amt" value="" displayMode="label" dataType="number" displayFormat="#,###" textAlign="right"></w2:column>
    					<w2:column width="150" inputType="text" style="height:28px" id="rmk" value="" displayMode="label"></w2:column>
    					<w2:column inputType="text" valueType="binary" style="height:22px" id="req_no" width="94" hidden="true"
    						readOnly="true" />
    					<w2:column inputType="text" valueType="binary" style="height:22px" id="adjst_req_odr" width="70" hidden="true" />
    				</w2:row>
    			</w2:gBody>
    			<w2:footer style="" id="footer1">
    				<w2:row style="" id="row3">
    					<w2:column width="70" inputType="text" style="height:20px" id="column77" value="" displayMode="label"></w2:column>
    					<w2:column width="220" inputType="text" style="height:20px;" id="column76" value="합계" displayMode="label"
    						colSpan="2" rowSpan="">
    					</w2:column>
    					<w2:column width="70" inputType="text" style="height:20px" id="column74" value="" displayMode="label"></w2:column>
    					<w2:column width="150" inputType="text" style="height:20px" id="column73" value="" displayMode="label"></w2:column>
    					<w2:column width="70" inputType="text" style="height:20px" id="column72" value="" displayMode="label"></w2:column>
    					<w2:column width="70" inputType="text" style="height:20px" id="column71" value="" displayMode="label"></w2:column>
    					<w2:column width="100" inputType="text" style="height:20px" id="column70" value="" displayMode="label"></w2:column>
    					<w2:column width="100" inputType="expression" style="height:20px" id="" value="" displayMode="label" expression="sum('req_amt')" dataType="number" displayFormat="#,###" textAlign="right"></w2:column>
    					<w2:column width="100" inputType="expression" style="height:20px" id="tot_adjst_amt" value="" displayMode="label" expression="sum('adjst_amt')" dataType="number" displayFormat="#,###" textAlign="right"></w2:column>
    					<w2:column width="150" inputType="text" style="height:20px" id="column69" value="" displayMode="label"></w2:column>
    				</w2:row>
    			</w2:footer>
    		</w2:gridView>
    		<xf:group class="titleSection" id="" style="">
    			<xf:group class="le" id="">
    				<w2:textbox class="tit_tbl" id="" label="잔액 입금내역" style="" tagname="h3"></w2:textbox>
    			</xf:group>
    			<xf:group class="ri" id="">
    				<xf:group class="btnarea" id="" style="">
    					<xf:trigger class="btn" id="btn_depst" style="" type="button" ev:onclick="scwin.btn_depst_onclick">
    						<xf:label><![CDATA[입금조회]]></xf:label>
    					</xf:trigger>
    					<xf:trigger class="bt_minus" id="btn_depst_remove" style="" type="button" ev:onclick="scwin.btn_depst_remove_onclick">
    						<xf:label><![CDATA[삭제]]></xf:label>
    					</xf:trigger>
    				</xf:group>
    			</xf:group>
    		</xf:group>
    		<w2:gridView autoFit="allColumn" class="grid" dataList="data:dlt_detle_list" defaultCellHeight="28"
    			evenRowBackgroundColor="#f7faff" id="grid_depst" noResultMessage="조회 결과가 없습니다." noResultMessageClass="noResult"
    			rowMouseOverColor="#e7f0fb" rowNumBackgroundColor="#fff" rowNumHeaderValue="" rowNumVisible="" rowNumWidth="50"
    			rowStatusHeaderValue="Stat." rowStatusVisible="false" rowStatusWidth="50" scrollByColumn="false" scrollByColumnAdaptive="false"
    			selectedCellColor="#fbf2cd" selectedRowColor="#fbf2cd" style="height:101px;" visibleRowNum="" fixedColumn="3" ev:onafteredit="scwin.grid_depst_onafteredit" ev:onviewchange="scwin.grid_depst_onviewchange">
    			<w2:caption id="caption1" style="" value="this is a grid caption."></w2:caption>
    			<w2:header id="header1" style="">
    				<w2:row id="row1" style="">
    					<w2:column width="50" inputType="checkbox" style="height:28px" id="column67" value="선택" displayMode="label"
    						checkboxLabel="전체선택">
    					</w2:column>
    					<w2:column inputType="text" valueType="binary" style="height:26px" id="column62" width="40" rowSpan="1" value="순번" />
    					<w2:column displayMode="label" id="column41" inputType="text" style="height:28px" value="입금일자" width="100"></w2:column>
    					<w2:column displayMode="label" id="column9" inputType="text" style="height:28px;" value="계좌번호" width="150"></w2:column>
    					<w2:column displayMode="label" id="column43" inputType="text" style="height:28px" value="입금금액(C)" width="100"></w2:column>
    					<w2:column displayMode="label" id="column45" inputType="text" style="height:28px" value="입금내역" width="150"></w2:column>
    					<w2:column displayMode="label" id="column65" inputType="text" style="height:28px" value="비고" width="150"></w2:column>
    				</w2:row>
    			</w2:header>
    			<w2:gBody id="gBody1" style="">
    				<w2:row id="row2" style="">
    					<w2:column width="50" inputType="checkbox" style="height:28px" id="chk" value="" displayMode="label"
    						checkboxLabel="선택">
    					</w2:column>
    					<w2:column inputType="text" valueType="binary" style="height:22px;background-color:#f8f8f8;" width="40" rowSpan="1"
    						id="depst_odr" readOnly="true" disabled="true" />
    					<w2:column displayMode="label" id="depst_ymd" inputType="text" style="height:28px" value="" width="100" readOnly="true"></w2:column>
    					<w2:column displayMode="label" id="bankaccnt_no" inputType="text" readOnly="true" style="height:28px;"
    						width="150">
    					</w2:column>
    					<w2:column displayMode="label" id="depst_amt" inputType="text" style="height:28px" value="" width="100" textAlign="right" dataType="number" displayFormatter="#,###"></w2:column>
    					<w2:column displayMode="label" id="detls" inputType="text" style="height:28px" value="" width="150" readOnly="true"></w2:column>
    					<w2:column displayMode="label" id="rmk" inputType="text" style="height:28px" value="" width="150"></w2:column>
    				</w2:row>
    			</w2:gBody>
    			<w2:footer style="" id="footer1">
    				<w2:row style="" id="row3">
    					<w2:column width="50" inputType="text" style="height:28px;" id="column74" value="" displayMode="label"></w2:column>
    					<w2:column width="50" inputType="text" style="height:28px;" id="column74" value="" displayMode="label"></w2:column>
    					<w2:column width="100" inputType="text" style="height:28px;" id="column73" value="합계" displayMode="label"></w2:column>
    					<w2:column width="150" inputType="text" style="height:28px;" id="column72" value="" displayMode="label"></w2:column>
    					<w2:column width="100" inputType="expression" style="height:28px;" id="tot_depst_amt" value="" displayMode="label" expression="sum('depst_amt')" displayFormat="#,###" dataType="number" textAlign="right"></w2:column>
    					<w2:column width="150" inputType="text" style="height:28px;" id="column70" value="" displayMode="label"></w2:column>
    					<w2:column width="150" inputType="text" style="height:28px;" id="column69" value="" displayMode="label"></w2:column>
    				</w2:row>
    			</w2:footer>
    		</w2:gridView>
    		<xf:group class="titleSection" id="" style="">
    			<xf:group class="le" id="">
    				<w2:textbox class="tit_tbl" id="" label="정산계정내역(계정추가, 초과분, 환차손, 환차익, 과입금)" style="" tagname="h3"></w2:textbox>
    			</xf:group>
    			<xf:group class="ri" id="">
    				<xf:group class="btnarea" id="" style="">
    					<xf:trigger class="bt_plus" id="btn_add" style="" type="button" ev:onclick="scwin.btn_add_onclick">
    						<xf:label><![CDATA[추가]]></xf:label>
    					</xf:trigger>
    					<xf:trigger class="bt_minus" id="btn_depst_del" style="" type="button" ev:onclick="scwin.btn_depst_del_onclick">
    						<xf:label><![CDATA[삭제]]></xf:label>
    					</xf:trigger>
    				</xf:group>
    			</xf:group>
    		</xf:group>
    		<w2:gridView autoFit="allColumn" class="grid" dataList="data:dlt_add_list" defaultCellHeight="28"
    			evenRowBackgroundColor="#f7faff" id="grid_adjst_add_accnt" noResultMessage="조회 결과가 없습니다." noResultMessageClass="noResult"
    			rowMouseOverColor="#e7f0fb" rowNumBackgroundColor="#fff" rowNumHeaderValue="No." rowNumVisible="true" rowNumWidth="50"
    			rowStatusHeaderValue="상태" rowStatusVisible="false" rowStatusWidth="50" scrollByColumn="false" scrollByColumnAdaptive="false"
    			selectedCellColor="#fbf2cd" selectedRowColor="#fbf2cd" style="height:123px;" visibleRowNum="10" fixedColumn="4"
    			ev:oncellclick="scwin.grid_adjst_add_accnt_oncellclick" ev:onafteredit="scwin.grid_adjst_add_accnt_onafteredit">
    			<w2:caption id="caption1" style="" value="this is a grid caption."></w2:caption>
    			<w2:header id="header1" style="">
    				<w2:row id="row1" style="">
    					<w2:column checkboxLabel="전체선택" displayMode="label" id="column67" inputType="checkbox" style="height:28px"
    						value="선택" width="50">
    					</w2:column>
    					<w2:column displayMode="label" id="column41" inputType="text" style="height:28px" value="구분" width="100"></w2:column>
    					<w2:column colSpan="2" displayMode="label" id="column9" inputType="text" style="height:28px;" value="계정번호" width="100"></w2:column>
    					<w2:column displayMode="label" id="column43" inputType="text" style="height:28px" value="계정명" width="150"></w2:column>
    					<w2:column width="70" inputType="text" style="height:28px" id="column81" value="회계코드" displayMode="label"></w2:column>
    					<w2:column width="150" inputType="text" style="height:28px" id="column79" value="회계코드명" displayMode="label"></w2:column>
    					<w2:column colSpan="2" width="70" inputType="text" style="height:28px" id="column77" value="비용코드" displayMode="label"></w2:column>
    					<w2:column width="150" inputType="text" style="height:28px" id="column75" value="비용코드명" displayMode="label"></w2:column>
    					<w2:column width="100" inputType="text" style="height:28px" id="column73" value="사용금액(D)" displayMode="label"></w2:column>
    					<w2:column width="100" inputType="text" style="height:28px" id="column71" value="정산금액" displayMode="label"></w2:column>
    					<w2:column width="100" inputType="text" style="height:28px" id="column69" value="통제번호" displayMode="label"></w2:column>
    					<w2:column colSpan="2" displayMode="label" id="column45" inputType="text" style="height:28px" value="계정책임자" width="100"></w2:column>
    					<w2:column displayMode="label" id="column65" inputType="text" style="height:28px" value="비고" width="150"></w2:column>
    				</w2:row>
    			</w2:header>
    			<w2:gBody id="gBody1" style="">
    				<w2:row id="row2" style="">
    					<w2:column checkboxLabel="선택" displayMode="label" id="chk2" inputType="checkbox" style="height:28px" value=""
    						width="50">
    					</w2:column>
    					<w2:column displayMode="label" id="req_clsf" escape="false" inputType="select" style="height:28px" chooseOption=""
    						chooseOptionLabel="&lt;선택&gt;" valueType="binary" value="" width="100">
    					</w2:column>
    					<w2:column displayMode="label" class="btn glass" id="btn_accnt_no" inputType="text" style="height:28px;" width="50" value=""
    							readOnly="false">
    					</w2:column>
    					<w2:column displayMode="label" id="accnt_no" inputType="text" style="height:28px;" width="100" readOnly="true"></w2:column>
    					<w2:column displayMode="label" id="accnt_no_nm" inputType="text" style="height:28px" value="" width="150"
    						fixedRightColumn="4" readOnly="true">
    					</w2:column>
    					<w2:column width="70" inputType="text" style="height:28px" id="accnt_cd" value="" displayMode="label" readOnly="true"></w2:column>
    					<w2:column width="150" inputType="text" style="height:28px" id="accnt_cd_abbr" value="" displayMode="label" readOnly="true"></w2:column>
    					<w2:column displayMode="label" class="btn glass" id="btn_expns_cd" inputType="text" style="height:28px;" width="50" value=""
    							readOnly="false">
    					</w2:column>
    					<w2:column width="70" inputType="text" style="height:28px" id="expns_cd" value="" displayMode="label" readOnly="true"></w2:column>
    					<w2:column width="150" inputType="text" style="height:28px" id="expns_cd_nm" value="" displayMode="label" readOnly="true"></w2:column>
    					<w2:column width="100" inputType="text" style="height:28px" id="req_amt" value="" displayMode="label" dataType="number" displayFormat="#,###" textAlign="right"></w2:column>
    					<w2:column width="100" inputType="text" style="height:28px" id="adjst_amt" value="" displayMode="label" readOnly="true"></w2:column>
    					<w2:column width="100" inputType="text" style="height:28px" id="ctrl_no" value="" displayMode="label" readOnly="true"></w2:column>
    					<w2:column displayMode="label" class="btn glass" id="btn_accnt_no_rspns" inputType="text" style="height:28px;" width="50" value=""
    							readOnly="false">
    					</w2:column>
    					<w2:column displayMode="label" id="accnt_rspns_nm" inputType="text" style="height:28px" value="" width="100" readOnly="true"></w2:column>
    					<w2:column displayMode="label" id="rmk" inputType="text" style="height:28px" value="" width="150"></w2:column>
    				</w2:row>
    			</w2:gBody>
    			<w2:footer style="" id="footer1">
    				<w2:row style="" id="row3">
    					<w2:column width="50" inputType="text" style="height:20px" id="column95" value="" displayMode="label"></w2:column>
    					<w2:column width="100" inputType="text" style="height:20px" id="column94" value="" displayMode="label"></w2:column>
    					<w2:column width="250" inputType="text" style="height:20px;" id="column93" value="합계" displayMode="label"
    						colSpan="2" rowSpan="">
    					</w2:column>
    					<w2:column width="70" inputType="text" style="height:20px" id="column91" value="" displayMode="label"></w2:column>
    					<w2:column width="150" inputType="text" style="height:20px" id="column90" value="" displayMode="label"></w2:column>
    					<w2:column width="70" inputType="text" style="height:20px" id="column89" value="" displayMode="label"></w2:column>
    					<w2:column width="150" inputType="text" style="height:20px" id="column88" value="" displayMode="label"></w2:column>
    					<w2:column width="100" inputType="text" style="height:20px" id="column87" value="" displayMode="label"></w2:column>
    					<w2:column width="100" inputType="text" style="height:20px" id="column86" value="" displayMode="label"></w2:column>
    					<w2:column width="100" inputType="expression" style="height:20px" id="tot_req_amt" value="" displayMode="label" dataType="number" displayType="#,###" expression="sum('req_amt')" textAlign="right"></w2:column>
    					<w2:column width="100" inputType="text" style="height:20px" id="column84" value="" displayMode="label"></w2:column>
    					<w2:column width="150" inputType="text" style="height:20px" id="column83" value="" displayMode="label"></w2:column>
    					<w2:column width="150" inputType="text" style="height:20px" id="column102" value="" displayMode="label"></w2:column>
    					<w2:column width="150" inputType="text" style="height:20px" id="column101" value="" displayMode="label"></w2:column>
    					<w2:column width="150" inputType="text" style="height:20px" id="column100" value="" displayMode="label"></w2:column>
    				</w2:row>
    			</w2:footer>
    		</w2:gridView>
    		<xf:group tagname="table" style="width:100%;" id="" class="w2tb tbl">
    			<w2:attributes>
    				<w2:summary></w2:summary>
    			</w2:attributes>
    			<xf:group tagname="caption"></xf:group>
    			<xf:group tagname="colgroup">
    				<xf:group tagname="col" style="width:150px;"></xf:group>
    				<xf:group tagname="col" style=""></xf:group>
    			</xf:group>
    			<xf:group tagname="tr" style="">
    				<xf:group tagname="th" style="" class="w2tb_th">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:span class="bul_req" id="" label="[필수입력항목]" style=""></w2:span>
    					<w2:textbox class="blue" id="" label="증빙첨부" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group tagname="td" style="" class="w2tb_td">
    					<xf:group class="fileuploadBox" id="upload_A" style="height:150px;"></xf:group>
    				</xf:group>
    			</xf:group>
    			<xf:group tagname="tr">
    				<xf:group tagname="th" style="" class="w2tb_th">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:textbox id="" label="첨부파일" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group tagname="td" style="" class="w2tb_td">
    					<xf:group class="fileuploadBox" id="upload_B" style="height:150px;"></xf:group>
    				</xf:group>
    			</xf:group>
    		</xf:group>
    	</xf:group>
    </body>
</html>
