<?xml version="1.0" encoding="UTF-8"?>
<html xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ev="http://www.w3.org/2001/xml-events"
    xmlns:w2="http://www.inswave.com/websquare" xmlns:xf="http://www.w3.org/2002/xforms">
    <head meta_programName="가지급금신청서">
    	<w2:type>DEFAULT</w2:type>
        <w2:buildDate/>
        <xf:model>
            <xf:instance>
                <data xmlns=""/>
            </xf:instance>
            <w2:dataCollection baseNode="map">
				<w2:dataMap baseNode="map" id="dma_search">
					<w2:keyInfo>
						<w2:key id="req_no" name="req_no" dataType="text"></w2:key>
						<w2:key id="cud_type" name="cud_type" dataType="text"></w2:key>
						<w2:key id="approval" name="approval" dataType="text"></w2:key>
						<w2:key id="syspayno" name="syspayno" dataType="text"></w2:key>
						<w2:key id="vend_cd" name="vend_cd" dataType="text"></w2:key>
					</w2:keyInfo>
				</w2:dataMap>
				<w2:dataMap baseNode="map" id="dma_clsf_search">
				  <w2:keyInfo>
				       <w2:key id="cd" name="cd" dataType="text"></w2:key>
				 </w2:keyInfo>
				</w2:dataMap>
				<w2:dataMap baseNode="map" id="dma_bank_result">
				  <w2:keyInfo>
				       <w2:key id="syspayno" name="syspayno" dataType="text"></w2:key>
				       <w2:key id="bankaccnt_no" name="bankaccnt_no" dataType="text"></w2:key>
				       <w2:key id="depstr_nm" name="depstr_nm" dataType="text"></w2:key>
				       <w2:key id="bank" name="bank" dataType="text"></w2:key>
				       <w2:key id="vend_cd" name="vend_cd" dataType="text"></w2:key>
				       <w2:key id="tran_bank" name="tran_bank" dataType="text"></w2:key>
				       <w2:key id="depstr" name="depstr" dataType="text"></w2:key>
				 </w2:keyInfo>
				</w2:dataMap>																
				<w2:dataMap baseNode="map" id="dma_form_result">
					<w2:keyInfo>
						<w2:key id="req_no" name="req_no" dataType="text"></w2:key>
						<w2:key id="req_clsf" name="신청구분" dataType="text"></w2:key>
						<w2:key id="req_ymd" name="신청일자" dataType="text"></w2:key>
						<w2:key id="req_psn" name="신청자" dataType="text"></w2:key>
						<w2:key id="nm" name="nm" dataType="text"></w2:key>
						<w2:key id="req_dept" name="신청부서" dataType="text"></w2:key>
						<w2:key id="dept_nm" name="dept_nm" dataType="text"></w2:key>
						<w2:key id="pay_demnd_ymd" name="지급예정일자" dataType="text"></w2:key>
						<w2:key id="adjst_schdl_ymd" name="정산예정일자" dataType="text"></w2:key>
						<w2:key id="accnt_no" name="accnt_no" dataType="text"></w2:key>
						<w2:key id="accnt_no_nm" name="accnt_no_nm" dataType="text"></w2:key>
						<w2:key id="accnt_rspns" name="accnt_rspns" dataType="text"></w2:key>
						<w2:key id="accnt_rspns_nm" name="accnt_rspns_nm" dataType="text"></w2:key>
						<w2:key id="accnt_cd" name="회계코드" dataType="text"></w2:key>
						<w2:key id="accnt_cd_abbr" name="accnt_cd_abbr" dataType="text"></w2:key>
						<w2:key id="expns_cd" name="expns_cd" dataType="text"></w2:key>
						<w2:key id="expns_cd_nm" name="expns_cd_nm" dataType="text"></w2:key>
						<w2:key id="req_amt" name="요청금액" dataType="text"></w2:key>
						<w2:key id="focurr_req_amt" name="focurr_req_amt" dataType="text"></w2:key>
						<w2:key id="req_cause" name="요청사유" dataType="text"></w2:key>
						<w2:key id="rmk" name="적요" dataType="text"></w2:key>
						<w2:key id="attach_file_no" name="첨부파일번호" dataType="text"></w2:key>
						<w2:key id="pay_clsf" name="지급구분" dataType="text"></w2:key>
						<w2:key id="syspayno" name="syspayno" dataType="text"></w2:key>
						<w2:key id="vend_cd" name="vend_cd" dataType="text"></w2:key>
						<w2:key id="bankaccnt_no" name="bankaccnt_no" dataType="text"></w2:key>
						<w2:key id="bank" name="은행" dataType="text"></w2:key>
						<w2:key id="depstr_nm" name="depstr_nm" dataType="text"></w2:key>
						<w2:key id="unslip_no" name="unslip_no" dataType="text"></w2:key>
						<w2:key id="unslip_odr" name="unslip_odr" dataType="text"></w2:key>
						<w2:key id="bugt_item_cd" name="bugt_item_cd" dataType="text"></w2:key>
						<w2:key id="bugt_ctrl_way" name="bugt_ctrl_way" dataType="text"></w2:key>
						<w2:key id="ctrl_no" name="ctrl_no" dataType="text"></w2:key>
						<w2:key id="apprvl_state" name="apprvl_state" dataType="text"></w2:key>
						<w2:key id="empno" name="empno" dataType="text"></w2:key>
						<w2:key id="bank_empno" name="bank_empno" dataType="text"></w2:key>
						<w2:key id="apr_state" name="apr_state" dataType="text"></w2:key>
						<w2:key id="syspayno_nm" name="syspayno_nm" dataType="text"></w2:key>
						<w2:key id="vend_abbr" name="vend_abbr" dataType="text"></w2:key>
						<w2:key id="cud_type" name="cud_type" dataType="text"></w2:key>
						<w2:key id="req_dept_new_ymd" name="req_dept_new_ymd" dataType="text"></w2:key>
						<w2:key id="approval" name="approval" dataType="text"></w2:key>
						<w2:key id="bank_nm" name="bank_nm" dataType="text"></w2:key>
					</w2:keyInfo>
				</w2:dataMap>
				<w2:dataList baseNode="list" repeatNode="map" id="dlt_adjst_list" saveRemovedData="true">
					<w2:columnInfo>
						<w2:column id="adjst_req_no" name="adjst_req_no" dataType="text"></w2:column>
						<w2:column id="adjst_req_odr" name="adjst_req_odr" dataType="text"></w2:column>
						<w2:column id="req_no" name="req_no" dataType="text"></w2:column>
						<w2:column id="req_seq" name="req_seq" dataType="text"></w2:column>
						<w2:column id="accnt_no" name="accnt_no" dataType="text"></w2:column>
						<w2:column id="accnt_cd" name="accnt_cd" dataType="text"></w2:column>
						<w2:column id="accnt_cd_nm" name="accnt_cd_nm" dataType="text"></w2:column>
						<w2:column id="expns_cd" name="expns_cd" dataType="text"></w2:column>
						<w2:column id="expns_cd_nm" name="expns_cd_nm" dataType="text"></w2:column>
						<w2:column id="req_amt" name="req_amt" dataType="text"></w2:column>
						<w2:column id="adjst_amt" name="adjst_amt" dataType="text"></w2:column>
						<w2:column id="ctrl_no" name="ctrl_no" dataType="text"></w2:column>
						<w2:column id="rmk" name="rmk" dataType="text"></w2:column>
						<w2:column id="cud_type" name="cud_type" dataType="text"></w2:column>
						<w2:column id="chk" name="chk" dataType="text"></w2:column>
						<w2:column id="accnt_cd_abbr" name="accnt_cd_abbr" dataType="text"></w2:column>
						<w2:column id="accnt_no_nm" name="accnt_no_nm" dataType="text"></w2:column>
						<w2:column id="accnt_rspns" name="accnt_rspns" dataType="text"></w2:column>
						<w2:column id="accnt_rspns_nm" name="accnt_rspns_nm" dataType="text"></w2:column>
					</w2:columnInfo>
				</w2:dataList>
            </w2:dataCollection>
            <w2:workflowCollection>
            </w2:workflowCollection>
            <!-- 별도계좌조회 -->
            <xf:submission id="sbm_selectBank" ref="data:json,dma_search" target='data:json,[{"id":"dma_bank_result","key":"FspPayAdvcReqBankVo"}]' 
        	    action="SvcFINSPAREQR02.pwkjson" method="post" mediatype="application/json"
        		encoding="UTF-8" instance="" replace="" errorHandler="" customHandler="" mode="asynchronous" processMsg="" ev:submit=""
        		ev:submitdone="" ev:submiterror="" abortTrigger="">
        	</xf:submission>       	
            <!-- 회계코드조회 -->
            <xf:submission id="sbm_selectAccnt" ref="data:json,dma_clsf_search" target='' 
        	    action="SvcFINSPAREQR04.pwkjson" method="post" mediatype="application/json"
        		encoding="UTF-8" instance="" replace="" errorHandler="" customHandler="" mode="asynchronous" processMsg="" ev:submit=""
        		ev:submitdone="" ev:submiterror="" abortTrigger="">
        	</xf:submission>         	 
			<!-- Form, 정산계정내역 -->
			<xf:submission id="sbm_selectData" ref="data:json,dma_search"
        		target='data:json,[{"id":"dma_form_result","key":"fspPayAdvcReqVo"},{"id":"dlt_adjst_list","key":"fspPayAdvcReqVoList"}]'
        		action="SvcFINSPAREQR03.pwkjson" method="post" mediatype="application/json" encoding="UTF-8" instance="" replace=""
        		errorHandler="" customHandler="" mode="asynchronous" processMsg="" ev:submit="" ev:submitdone="" ev:submiterror=""
        		abortTrigger="">
        	</xf:submission>
        	<!-- 저장 -->
            <xf:submission id="sbm_saveData" ref='data:json,[{"id":"dma_form_result","key":"fspPayAdvcReqVo"},{"id":"dlt_adjst_list","key":"fspPayAdvcReqVoList"}]' target='data:json,dma_search' 
        	    action="SvcFINSPAREQI01.pwkjson" method="post" mediatype="application/json"
        		encoding="UTF-8" instance="" replace="" errorHandler="" customHandler="" mode="asynchronous" processMsg="" ev:submit=""
        		ev:submitdone="" ev:submiterror="" abortTrigger="">
        	</xf:submission>
        	<!-- 삭제 -->
            <xf:submission id="sbm_deleteData" ref='data:json,[{"id":"dma_form_result","key":"fspPayAdvcReqVo"},{"id":"dlt_adjst_list","key":"fspPayAdvcReqVoList"}]' target='data:json,dma_search' 
        	    action="SvcFINSPAREQD01.pwkjson" method="post" mediatype="application/json"
        		encoding="UTF-8" instance="" replace="" errorHandler="" customHandler="" mode="asynchronous" processMsg="" ev:submit=""
        		ev:submitdone="" ev:submiterror="" abortTrigger="">
        	</xf:submission>           	        	        	           
        </xf:model>
         <script type="text/javascript" lazy="false"><![CDATA[
    /****************************************************
 	 * 화면 설명 : 가지급신청
 	 * 변경 이력 : 2023-10-09	김준하	최초 작성
 	 * serviceId : F419
 	 ****************************************************/  
 	/**
	* 페이지 로드
	*/
 	scwin.data ={saveTag : "I",
 				 tag : "",
 				 recv_ymd : "",
 				 apr_state : "XAD010",
 				 reqNo : "",
 				 req_clsf : ""
 	             };
 	             	         
	scwin.onpageload = function() {
		var codeOptions = [{ code : "FDG", compID :"sbx_req_clsf" },
						   { code : "FAX", compID :"sbx_pay_clsf"},
						   { code : "FAA", compID :"sbx_bank"}];					   
		com.setCmnCd(codeOptions, function() {				
		 	// 첨부파일 컴포넌트 초기화
			com.file.init();						
			com.file.create(upload_A.getID(), {fileKey: "F419", mode: 'edit'});
			
			var fomatUnit = "";		
			var param = com.getParameter();
			var session = com.getLoginInfo();
			
			//화면 권한 체크
			com.biz.checkRole({serviceId : "F419", roleCodes : com.getLoginInfo('roleCode')}, function(e){
				if (e.isRoleYn) {				
					ibx_req_empno.setDisabled(false);
					btn_hum.setDisabled(false);		
				} else {
					ibx_req_empno.setDisabled(true);
					btn_hum.setDisabled(true);
				}
			});				
			
			if (param.param4 == "apr") {
				dma_search.set("req_no", param.req_no);
				dma_search.set("approval", "true");
			} else {			
				dma_search.setJSON(param);
			}
									
			if (dma_search.get("req_no") != "") {				
				scwin.search();	
			} else { //신규				
				ica_req_ymd.setValue(com.getServerDateTime());
				dma_form_result.set("cud_type", "I");
				dma_form_result.set("empno", session.empno);
				dma_form_result.set("nm", session.cn);
				dma_form_result.set("syspayno", session.sn);
				dma_form_result.set("req_psn", session.sn);
				dma_form_result.set("dept_nm", session.deptName);
				dma_form_result.set("req_dept", session.deptCode);
				dma_form_result.set("req_dept_new_ymd", session.deptNewYmd);			
				dma_search.set("syspayno", session.sn)
				scwin.bank();
				scwin.accntCd();											
			}												
		});	
	};
	
	scwin.search = function(e) {
		com.biz.checkRole({ serviceId : "F453", roleCodes : com.getLoginInfo('roleCode')}, function(e){
			scwin.data.isRoleYn = e.isRoleYn;			
			com.execute(sbm_selectData, { 
		        successCallback: function(e) { // 성공 콜백
	//				데이터콜렉션세팅					
					var adjstVo = e.responseJSON.elData.fspPayAdvcReqVo
					var session = com.getLoginInfo();
					var vMode = "edit";
					
					var pay_clsf = adjstVo.pay_clsf; // 지급구분
					dma_form_result.set("cud_type", "U");
					
					if (pay_clsf == "FAX010") {
						output_syspayno.setValue("개인번호");
						ibx_empno.setValue(adjstVo.bank_empno);
						ibx_syspayno_nm.setValue(adjstVo.syspayno_nm);
					} else if (pay_clsf == "FAX020") {
						output_syspayno.setValue("거래처코드");
						ibx_empno.setValue(adjstVo.vend_cd);
						ibx_syspayno_nm.setValue(adjstVo.vend_abbr);
					}					
																			
					if(dma_form_result.get("apr_state") >= "XAD020"){
						vMode = "view";
						btn_add.setDisabled(true);
						btn_adjst_del.setDisabled(true);
						btn_hum.setDisabled(true);
						ibx_req_empno.setDisabled(true);
						ica_req_ymd.setDisabled(true);
						ibx_accnt_cd.setDisabled(true);
						ibx_accnt_cd_abbr.setDisabled(true);
						ibx_req_cause.setDisabled(true);
						ibx_rmk.setDisabled(true);
						ica_pay_demnd_ymd.setDisabled(true);
						sbx_req_clsf.setDisabled(true);
						ica_adjst_schdl_ymd.setDisabled(true);
						sbx_pay_clsf.setDisabled(true);
						for (var i = 0; i < dlt_adjst_list.getRowCount(); i++) {								
								grid_adjst_accnt.setCellDisabled(i, "btn_accnt_no", true);
								grid_adjst_accnt.setCellDisabled(i, "btn_expns_cd", true);
								grid_adjst_accnt.setCellDisabled(i, "btn_accnt_no_rspns", true);
								grid_adjst_accnt.setCellDisabled(i, "accnt_no", true);
								grid_adjst_accnt.setCellDisabled(i, "req_amt", true);						
						}																				
					}						
					// 첨부파일
					if (dma_form_result.get("attach_file_no").trim() !== '') {
				    	com.file.create(upload_A.getID(), {fileKey: dma_form_result.get("attach_file_no"), mode: vMode});
					}									
					// 버튼 제어
					com.biz.disabledButtons(dma_form_result.get("apr_state"), dma_form_result.get("req_no")); // 버튼 세팅
														
					// 신청자와 세션이 다를 경우 화면 비활성화					
					if((dma_form_result.get("req_psn") != com.getLoginInfo("sn")) || !(scwin.data.isRoleYn)){						
						btn_del.setDisabled(true);
						btn_save.setDisabled(true);
						btn_apr.setDisabled(true);
					}
		      	}		      	
	        });
	    });
	}	
	
	scwin.onpageunload = function() {
		
	};
	
	// 신청구분 변경
	scwin.sbx_req_clsf_onchange = function(info) {
		scwin.accntCd();		
	};
	
	// 지급구분 변경
	scwin.sbx_pay_clsf_onchange = function(info) {
		var pay_clsf = sbx_pay_clsf.getValue();
		if (pay_clsf == "FAX010") {
			output_syspayno.setValue("개인번호");
			btn_empno.setDisabled(true);
			dma_search.set("syspayno", com.getLoginInfo().sn)
			scwin.bank();			
		} else if (pay_clsf == "FAX020") {
			output_syspayno.setValue("거래처코드");
			btn_empno.setDisabled(false);
			scwin.btn_empno_onclick();			
		}				
	};
	
	// 행추가
	scwin.btn_add_onclick = function(e) {
		com.addRow(grid_adjst_accnt);	
	};
	
	//행삭제
	scwin.btn_adjst_del_onclick = function(e) {
		var req_amt = 0;
		var arr = grid_adjst_accnt.getCheckedIndex("chk");
		var row_cnt = arr.length;		
		if (row_cnt == 0) {
			alert("선택되지 않았습니다.");
			return;
		}
		for (var i = row_cnt-1; i >= 0; i--) {			
			var idx = arr[i];
			req_amt = Number(ibx_req_amt.getValue());
			if (grid_adjst_accnt.getRowStatusValue(idx)!= "4") {					
				var adjst_amt = Number(grid_adjst_accnt.getCellData(idx, "req_amt"));				
				ibx_req_amt.setValue(
				  (isNaN(req_amt) ? 0 : req_amt) - 
				  (isNaN(adjst_amt) ? 0 : adjst_amt)
				);
			}
		}																					
		com.deleteRow(grid_adjst_accnt);																							
	};
	
	/**
	 * 정산계정내역 그리드 변경 이벤트 
	 */		
	scwin.grid_adjst_accnt_onafteredit = function(row,col,value) {
		if (col == grid_adjst_accnt.getColumnIndex("req_amt")) {
			ibx_req_amt.setValue(grid_adjst_accnt.getFooterData("tot_req_amt"));			
		} else if (col == grid_adjst_accnt.getColumnIndex("accnt_rspns_nm")) {
			dlt_adjst_list.setCellData(row, "accnt_rspns_nm", "");
			dlt_adjst_list.setCellData(row, "accnt_rspns", "");					
		} else if  (col == grid_adjst_accnt.getColumnIndex("accnt_no")) {			
			var accntNo = grid_adjst_accnt.getCellData(row, "accnt_no");		
			if (accntNo.trim() != "") {
				scwin.acnNo(row);
			}				
		}		
	};
	
    /**	
     *	정산계정내역 그리드 버튼 클릭
     **/	
	scwin.grid_adjst_accnt_oncellclick = function(row,col,colId) {
		if (colId == "btn_expns_cd") {
			var accnt_no = grid_adjst_accnt.getCellData(row, "accnt_no");			
			if (accnt_no == "") {
				alert("계정번호를 먼저 입력하시기 바랍니다.");
				grid_adjst_accnt.setFocusedCell(row, col);
				return;
			}			
			var data = {
				accnt_no : accnt_no,
			};
			com.pop.open(com.pop.TYPE.EXPNS, data, function(ret) {								
				dlt_adjst_list.setCellData(row, "expns_cd", ret.expns_cd);
				dlt_adjst_list.setCellData(row, "expns_cd_nm", ret.expns_cd_nm);
				dlt_adjst_list.setCellData(row, "accnt_cd", ret.accnt_cd);
				dlt_adjst_list.setCellData(row, "accnt_cd_abbr", ret.accnt_cd_abbr);							
			});						
		} else if (colId == "btn_accnt_no") {			
			scwin.acnNo(row);
		} else if (colId == "btn_accnt_no_rspns") {
			scwin.selectHumBtn("Accnt_Hum");		
		}
		
	};
	
	/*
     * 계정번호 팝업
     */
	scwin.acnNo = function(row){
		var adjst_ymd = ica_adjst_schdl_ymd.getValue();
		if (adjst_ymd == "") {
			alert("정산예정일자를 입력하세요.");
			ica_adjst_schdl_ymd.focus();
			return;
		}				
		var data={
			accnt_no : grid_adjst_accnt.getCellData(row, "accnt_no"),
			clsf : "gen",
			std_ymd : adjst_ymd,
			ref_yn : (grid_adjst_accnt.getCellData(row, "accnt_no") == "") ? "Y": "N"
		};				
		com.pop.open(com.pop.TYPE.ACNNO, data, function(ret){
			var accnt_no = ret.accnt_no;				
			if (accnt_no.substr(0, 3) != "FF0") {
				dlt_adjst_list.setCellData(row, "accnt_rspns", ret.accnt_rspns);
				dlt_adjst_list.setCellData(row, "accnt_rspns_nm", ret.accnt_rspns_nm);
			}	
			dlt_adjst_list.setCellData(row, "accnt_no", ret.accnt_no);
			dlt_adjst_list.setCellData(row, "accnt_no_nm", ret.accnt_no_nm);
			dlt_adjst_list.setCellData(row, "expns_cd", "");
			dlt_adjst_list.setCellData(row, "expns_cd_nm", "");
			dlt_adjst_list.setCellData(row, "accnt_cd", "");
			dlt_adjst_list.setCellData(row, "accnt_cd_abbr", "");							
		});		
	}
	
	/*
     * 개인 별도 계좌 검색
     */
	scwin.bank = function(){
		com.execute(sbm_selectBank, {				
			successCallback : function(e){
				var data = e.responseJSON.elData
				ibx_empno.setValue(com.getLoginInfo().empno);
				ibx_syspayno_nm.setValue(com.getLoginInfo().cn);
				ibx_bankaccnt_no.setValue(data.bankaccnt_no);
				sbx_bank.setValue(data.bank);
				ibx_depstr_nm.setValue(data.depstr_nm);		
			}	
		});	
	}
	
	/*
     * 회계 코드 검색
     */
	scwin.accntCd = function(){
		var req_clsf = sbx_req_clsf.getValue();
		if (dma_clsf_search.get("cd") != req_clsf) {
			dma_clsf_search.set("cd", req_clsf);
			com.execute(sbm_selectAccnt, {				
				successCallback : function(e){
					var accntVo = e.responseJSON.elData
					dma_form_result.set("accnt_no", accntVo.mngmt_accnt_no);
					dma_form_result.set("accnt_rspns", accntVo.accnt_rspns);
					dma_form_result.set("accnt_cd", accntVo.mngmt_item_1);
					dma_form_result.set("accnt_cd_abbr", accntVo.accnt_cd_abbr);
					dma_form_result.set("expns_cd", accntVo.expns_cd);
					dma_form_result.set("expns_cd_nm", accntVo.expns_cd_nm);						
				}	
			});					
		}	
	}
	
	/*
     * 거래처 팝업
     */
	scwin.btn_empno_onclick = function(e) {
		com.pop.open(com.pop.TYPE.VEND, {ref_yn : "Y"}, function(ret){
			ibx_empno.setValue(ret.vend_cd);
			ibx_syspayno_nm.setValue(ret.vend_abbr);
			dma_form_result.set("bankaccnt_no", ret.bankaccnt_no);
			dma_form_result.set("depstr_nm", ret.depstr);
			dma_form_result.set("bank", ret.tran_bank);				
		});			
	};				
	
   /**	
     *	사원 조회
     **/
	scwin.selectHumBtn = function(clsf) {
		var data={work_clsf : "HAG010"}; 
		if (clsf == "Req_Hum") {
			data.empno = ibx_req_empno.getValue();
			data.nm = ibx_req_empno.getValue();
		} else if (clsf == "Accnt_Hum") {
			var row = grid_adjst_accnt.getFocusedRowIndex();
			var repns = grid_adjst_accnt.getCellData(row, "accnt_rspns").trim();
			data.empno = repns;
			data.nm = repns;
		}		
		data.ref_yn = (data.empno == "")? "Y" : "N";
				
		com.pop.open( com.pop.TYPE.HUM, data, function(ret){
			if (clsf == "Req_Hum") {				
				dma_form_result.set("nm", ret.nm);
				dma_form_result.set("req_psn", ret.syspayno);
				dma_form_result.set("empno", ret.empno);		
			} else if (clsf == "Accnt_Hum") {
				var row = grid_adjst_accnt.getFocusedRowIndex();				
				dlt_adjst_list.setCellData(row, "accnt_rspns_nm", ret.nm);
				dlt_adjst_list.setCellData(row, "accnt_rspns", ret.syspayno);					
			}	
		});
	};		
	
	//신청자 검색	
	scwin.btn_hum_onclick = function(e) {
		scwin.selectHumBtn("Req_Hum");	
	};
	
	// 신청자 빈값일경우 이름, 시스템사번 데이터셋 초기화	
	scwin.ibx_req_empno_onchange = function(info) {
		if (info.newValue == "") {
			dma_form_result.set("nm", "");
			dma_form_result.set("req_psn", "");
			dma_form_result.set("empno", "");
		}				
	};
	
	//인쇄 버튼 클릭
	scwin.btn_print_onclick = function(e) {
		var	sReqNo = ibx_req_no.getValue();
		if (sReqNo == ""){
			alert("신청번호가 없습니다.");
		} else {			
			if (sReqNo.substr(0, 3) == "F01") {		
				node = "reqNo=" + sReqNo;			      			 		
				com.oz.openPopup({
						ozrCode : "F01",      
						param: node
			    });				
			} else {
				node = "reqNo=" + sReqNo;			      			 		
				com.oz.openPopup({
						ozrCode : "F05",      
						param: node
			    });		
            } 			 			
		}
		};
	/*
     * 저장 전 체크
     */
	scwin.preSave = function(){
		var rmk = ibx_rmk.getValue(); // 적요
		var req_cause = ibx_req_cause.getValue(); // 요청사유
		var req_amt = ibx_req_amt.getValue(); // 요청금액
		if (!com.validateData(dma_form_result,[
				 { id : "req_clsf", mandatory : true }
				,{ id : "req_psn", mandatory : true }
				,{ id : "req_ymd", mandatory : true }
				,{ id : "pay_demnd_ymd", mandatory : true }
				,{ id : "adjst_schdl_ymd", mandatory : true }
				,{ id : "req_amt", mandatory : true }
				,{ id : "pay_clsf", mandatory : true }
				,{ id : "req_cause", mandatory : true }
				,{ id : "rmk", mandatory : true }
				,{ id : "req_dept", mandatory : true }
				,{ id : "accnt_cd", mandatory : true }
			], false)
		) return false;
		
		if (sbx_bank.getValue() == "") {
			alert("계좌번호가 등록되지 않았습니다.");
			return false;
		}
		
		if (rmk == "") {
			rmk = ibx_rmk.setValue(req_cause);
		}
		
		var adjst_req_amt = grid_adjst_accnt.getFooterData("tot_req_amt");

		if (adjst_req_amt != req_amt) {
			ibx_req_amt.setValue(adjst_req_amt);
		}

		for(var i = 0; i < grid_adjst_accnt.getRowCount(); i++) {
			var adjst_accnt_no = grid_adjst_accnt.getCellData(i, "accnt_no");
			var adjst_accnt_cd = grid_adjst_accnt.getCellData(i, "accnt_cd");
			var adjst_expns_cd = grid_adjst_accnt.getCellData(i, "expns_cd");
			var accnt_rspns = grid_adjst_accnt.getCellData(i, "accnt_rspns");

			if (adjst_accnt_cd == "" || adjst_accnt_cd =="" || adjst_expns_cd == "" || accnt_rspns == "") {
				alert("정산예정계정내역에 빠진 항목이 있습니다. 확인바랍니다.");
				return false;
			}
		}
		return true;												
	};		
				
	/*
     * 저장 버튼 클릭 이벤트
     */		
	scwin.btn_save_onclick = function(e) {
		if(!scwin.preSave()) return;
		dma_form_result.set("approval", "false");
		scwin.data.isApproval = false;
		scwin.callSave();
	};
	
	/*
     * 저장 호출
     */
	scwin.callSave = function(){
		com.file.transport( function( attachObj){
			var attaches = [];
			attaches.push(attachObj.upload_A);
			dma_form_result.set("attach_file_no", attachObj.upload_A);
			dma_form_result.set("validAttachNo", attaches.join(','));		
			if(!com.validateData(dma_form_result,[
					 { id : "attach_file_no", mandatory : true }
				], false)
			) return false;			
			if (scwin.data.isApproval === false) {			
				com.confirm("message.xom.wq.017"/*저장 하시겠습니까?*/, function( ret) {
					if (ret) {
						scwin.save();
					}
				});
			} else {
				scwin.save();
			}
		});	
	};	
	/*
     * 저장
     */
	scwin.save = function(){
		var status = "";		
		// 정산계정내역		
		for(var i=0; i<dlt_adjst_list.getRowCount(); i++) {			
			status = dlt_adjst_list.getRowStatus(i);
			if (status != "R") { // R : DB에서 가져온 수정되지 않은 data
				if (status == "C") {
					dlt_adjst_list.setCellData(i, "cud_type", "C");
				} else if (status == "U") {
					dlt_adjst_list.setCellData(i, "cud_type", "U");								
				}
			}
		}																										
		com.execute(sbm_saveData, {
			successCallback : function(e) { // 성공 콜백					
				com.alert("message.xom.wq.023"/*정상적으로 처리되었습니다.*/, function() {
					//결재 이동
					if (scwin.data.isApproval) {												
						com.movePageMenu("A001", { "reqNo" : dma_form_result.get("req_no")});
					} else {
						scwin.data.saveFlag = true;
						dma_search.set("req_no", e.responseJSON.elData.req_no);
						dma_search.set("cud_type", "U");					
						// 조회
						scwin.search();
					}					
				});										
			}
		});		
	}		
		
	/*
     * 삭제 버튼 클릭 이벤트
     */	
	scwin.btn_del_onclick = function(e) {
		if (dma_form_result.get("req_no") == "") {
			alert("삭제할 내역이 없습니다");
			return;
		}
		com.confirm("message.xom.wq.022" /*삭제 하시겠습니까?*/ , function(ret) {
			if (ret) {
				com.execute(sbm_deleteData, {
					successCallback : function(e) { // 성공 콜백					
						com.alert("message.xom.wq.023"/*정상적으로 처리되었습니다.*/, function() {
							scwin.data.saveFlag = true;
							//com.moveList("F416", scwin.data.save_flag);
							var data={};
							com.openTabUrl("가지급금조회", "/ui/fin/spa/FIN_SPA_F416_00L.xml", 1, data, function() {
								//scwin.menuFind();
							});	
						});										
					}
				});								
			}
		});					
	};
	
	/*
     * 결재신청 버튼 클릭 이벤트
     */		
	scwin.btn_apr_onclick = function(e) {
		dma_form_result.set("approval", "true");
		dma_form_result.set("bank_nm", sbx_bank.getText());	
		scwin.data.isApproval = true;
		if(!scwin.preSave()) return;
		scwin.callSave();
	};
	
	/*
     * 목록 버튼 클릭 이벤트
     */			
	scwin.btn_list_onclick = function(e) {
		var data={};
//		com.openTabUrl("가지급금신청", "/ui/fin/spa/FIN_SPA_F416_00L.xml", 1, data, function() {
//			scwin.search();
//		});
		com.moveList("F416", data);							
	};
	]]></script>
    </head>
    <body ev:onpageload="scwin.onpageload" ev:onpageunload="scwin.onpageunload">
    	<w2:wframe id="wfm_title" src="/cm/xml/contentTitle.xml" style=""></w2:wframe>
    	<xf:group class="pop_contents" id="" style="">
    		<xf:group class="searchSection step" id="" style="">
    			<xf:group class="le" id="">
    				<xf:trigger class="btn " id="btn_list" style="" type="button" ev:onclick="scwin.btn_list_onclick">
    					<xf:label><![CDATA[목록]]></xf:label>
    				</xf:trigger>
    			</xf:group>
    			<xf:group class="btnbox" id="">
    				<xf:trigger class="btn icon print" id="btn_print" style="" type="button" ev:onclick="scwin.btn_print_onclick">
    					<xf:label><![CDATA[인쇄]]></xf:label>
    				</xf:trigger>
    				<xf:trigger class="btn blue" id="btn_apr" style="" type="button" disabled="true" ev:onclick="scwin.btn_apr_onclick">
    					<xf:label><![CDATA[결재신청]]></xf:label>
    				</xf:trigger>
    			</xf:group>
    		</xf:group>
    		<xf:group class="w2tb tbl" id="" style="" tagname="table">
    			<w2:attributes>
    				<w2:summary></w2:summary>
    			</w2:attributes>
    			<xf:group tagname="caption"></xf:group>
    			<xf:group tagname="colgroup">
    				<xf:group style="width:150px;" tagname="col"></xf:group>
    				<xf:group style="" tagname="col"></xf:group>
    				<xf:group style="width:150px;" tagname="col"></xf:group>
    				<xf:group style="" tagname="col"></xf:group>
    				<xf:group style="width:150px;" tagname="col"></xf:group>
    				<xf:group style="" tagname="col"></xf:group>
    			</xf:group>
    			<xf:group style="" tagname="tr">
    				<xf:group class="w2tb_th" tagname="th">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:textbox id="" label="신청번호" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group class="w2tb_td" tagname="td">
    					<w2:attributes></w2:attributes>
    					<xf:input adjustMaxLength="false" class="inp full" id="ibx_req_no" style="max-width: 200px;" title="" readOnly="true" ref="data:dma_form_result.req_no"></xf:input>
    				</xf:group>
    				<xf:group class="w2tb_th" tagname="th">
    					<w2:attributes></w2:attributes>
    					<w2:span class="bul_req" id="" label="[필수입력항목]" style=""></w2:span>
    					<w2:textbox class="blue" id="" label="신청구분" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group class="w2tb_td" tagname="td">
    					<w2:attributes>
    						<w2:colspan>3</w2:colspan>
    						<w2:rowspan>1</w2:rowspan>
    					</w2:attributes>
    					<xf:select1 allOption="" appearance="minimal" chooseOption="" chooseOptionLabel="" class="sel"
    						direction="auto" disabled="false" disabledClass="w2selectbox_disabled" id="sbx_req_clsf" ref="data:dma_form_result.req_clsf" style="max-width: 200px;"
    						submenuSize="auto" ev:onchange="scwin.sbx_req_clsf_onchange">
    						<xf:choices></xf:choices>
    					</xf:select1>
    				</xf:group>
    			</xf:group>
    			<xf:group tagname="tr">
    				<xf:group class="w2tb_th" tagname="th">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:span class="bul_req" id="" label="[필수입력항목]" style=""></w2:span>
    					<w2:textbox class="blue" id="" label="신청자" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group class="w2tb_td" tagname="td">
    					<w2:attributes></w2:attributes>
    					<xf:group class="flex" id="" style="">
    						<xf:group class="inpSch fix" id="" style="width:120px;">
    							<xf:input adjustMaxLength="false" class="inp" id="ibx_req_empno" style="" ref="data:dma_form_result.empno" ev:onchange="scwin.ibx_req_empno_onchange"></xf:input>
    							<xf:trigger class="btn" id="btn_hum" style="" type="button" ev:onclick="scwin.btn_hum_onclick">
    								<xf:label><![CDATA[검색]]></xf:label>
    							</xf:trigger>
    						</xf:group>
    						<xf:input adjustMaxLength="false" class="inp full" id="ibx_nm" style="max-width: 150px;" readOnly="true" ref="data:dma_form_result.nm"></xf:input>
    					</xf:group>
    				</xf:group>
    				<xf:group class="w2tb_th" tagname="th">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:span class="bul_req" id="" label="[필수입력항목]" style=""></w2:span>
    					<w2:textbox class="blue" id="" label="신청부서" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group class="w2tb_td" tagname="td">
    					<w2:attributes></w2:attributes>
    					<xf:input adjustMaxLength="false" class="inp full" id="ibx_dept_nm" style="max-width: 200px;" title="" readOnly="true" ref="data:dma_form_result.dept_nm"></xf:input>
    				</xf:group>
    				<xf:group class="w2tb_th" tagname="th">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:textbox id="" label="결의번호" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group class="w2tb_td" tagname="td">
    					<w2:attributes></w2:attributes>
    					<xf:input adjustMaxLength="false" class="inp full" id="ibx_unslip_no" style="max-width: 200px;" title="" readOnly="true" ref="data:dma_form_result.unslip_no"></xf:input>
    				</xf:group>
    			</xf:group>
    			<xf:group tagname="tr">
    				<xf:group tagname="th" class="w2tb_th">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:span class="bul_req" id="" label="[필수입력항목]" style=""></w2:span>
    					<w2:textbox class="blue" id="" label="결의일자" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group tagname="td" class="w2tb_td">
    					<w2:attributes></w2:attributes>
    					<w2:inputCalendar calendarValueType="yearMonthDate" class="inpcal full" focusOnDateSelect="false" footerDiv="false"
    						id="ica_req_ymd" renderDiv="true" rightAlign="false" style="max-width: 200px;" ref="data:dma_form_result.req_ymd">
    					</w2:inputCalendar>
    				</xf:group>
    				<xf:group tagname="th" class="w2tb_th">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:span class="bul_req" id="" label="[필수입력항목]" style=""></w2:span>
    					<w2:textbox class="blue" id="" label="지급요청일자" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group tagname="td" class="w2tb_td">
    					<w2:attributes></w2:attributes>
    					<w2:inputCalendar calendarValueType="yearMonthDate" class="inpcal full" focusOnDateSelect="false" footerDiv="false"
    						id="ica_pay_demnd_ymd" renderDiv="true" rightAlign="false" style="max-width: 200px;" ref="data:dma_form_result.pay_demnd_ymd">
    					</w2:inputCalendar>
    				</xf:group>
    				<xf:group tagname="th" class="w2tb_th">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:span class="bul_req" id="" label="[필수입력항목]" style=""></w2:span>
    					<w2:textbox class="blue" id="" label="정산예정일자" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group tagname="td" class="w2tb_td">
    					<w2:attributes></w2:attributes>
    					<w2:inputCalendar calendarValueType="yearMonthDate" class="inpcal full" focusOnDateSelect="false" footerDiv="false"
    						id="ica_adjst_schdl_ymd" renderDiv="true" rightAlign="false" style="max-width: 200px;" ref="data:dma_form_result.adjst_schdl_ymd">
    					</w2:inputCalendar>
    				</xf:group>
    			</xf:group>
    			<xf:group tagname="tr">
    				<xf:group tagname="th" class="w2tb_th">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:textbox id="" label="회계코드" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group tagname="td" class="w2tb_td">
    					<w2:attributes></w2:attributes>
    					<xf:group class="flex" id="" style="">
    						<xf:input adjustMaxLength="false" class="inp full" id="ibx_accnt_cd" style="max-width: 200px;" ref="data:dma_form_result.accnt_cd" readOnly="true" disabled="true"></xf:input>
    						<xf:input adjustMaxLength="false" class="inp full" id="ibx_accnt_cd_abbr" style="max-width: 200px;" ref="data:dma_form_result.accnt_cd_abbr" readOnly="true" disabled="true"></xf:input>
    					</xf:group>
    				</xf:group>
    				<xf:group tagname="th" class="w2tb_th">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:textbox id="" label="신청금액" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group tagname="td" class="w2tb_td">
    					<w2:attributes></w2:attributes>
    					<xf:input adjustMaxLength="false" class="inp full" id="ibx_req_amt" style="max-width: 200px;" title="" readOnly="true" dataType="number" displayFormat="#,###" ref="data:dma_form_result.req_amt"></xf:input>
    				</xf:group>
    				<xf:group tagname="th" class="w2tb_th">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:span class="bul_req" id="" label="[필수입력항목]" style=""></w2:span>
    					<w2:textbox class="blue" id="" label="지급구분" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group tagname="td" class="w2tb_td">
    					<w2:attributes></w2:attributes>
    					<xf:select1 allOption="" appearance="minimal" chooseOption="" chooseOptionLabel="" class="sel"
    						direction="auto" disabled="true" disabledClass="w2selectbox_disabled" id="sbx_pay_clsf" ref="data:dma_form_result.pay_clsf" style="max-width: 200px;"
    						submenuSize="auto" ev:onchange="scwin.sbx_pay_clsf_onchange" visibleRowNum="2">
    						<xf:choices></xf:choices>
    					</xf:select1>
    				</xf:group>
    			</xf:group>
    			<xf:group tagname="tr">
    				<xf:group tagname="th" class="w2tb_th">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:span class="bul_req" id="" label="[필수입력항목]" style=""></w2:span>
    					<w2:textbox class="blue" id="" label="사유" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group tagname="td" class="w2tb_td">
    					<w2:attributes>
    						<w2:colspan>5</w2:colspan>
    						<w2:rowspan>1</w2:rowspan>
    					</w2:attributes>
    					<xf:input adjustMaxLength="false" class="inp full" id="ibx_req_cause" style="" title="" ref="data:dma_form_result.req_cause"></xf:input>
    				</xf:group>
    			</xf:group>
    			<xf:group tagname="tr">
    				<xf:group tagname="th" class="w2tb_th">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:textbox id="" label="적요" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group tagname="td" class="w2tb_td">
    					<w2:attributes>
    						<w2:colspan>5</w2:colspan>
    						<w2:rowspan>1</w2:rowspan>
    					</w2:attributes>
    					<xf:textarea class="" id="ibx_rmk" maxlength="133" style="height:80px;" title="" ref="data:dma_form_result.rmk"></xf:textarea>
    				</xf:group>
    			</xf:group>
    			<xf:group tagname="tr">
    				<xf:group tagname="th" class="w2tb_th">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:span class="bul_req" id="" label="[필수입력항목]" style=""></w2:span>
    					<w2:textbox class="blue" id="" label="첨부파일" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group tagname="td" class="w2tb_td">
    					<w2:attributes>
    						<w2:colspan>5</w2:colspan>
    						<w2:rowspan>1</w2:rowspan>
    					</w2:attributes>
    					<xf:group class="fileuploadBox" id="upload_A" style="height:150px;"></xf:group>
    				</xf:group>
    			</xf:group>
    		</xf:group>
    		<xf:group class="titleSection" id="" style="">
    			<xf:group class="le" id="">
    				<w2:textbox class="tit_tbl" id="" label="정산예정계정내역" style="" tagname="h3"></w2:textbox>
    			</xf:group>
    			<xf:group class="ri" id="">
    				<xf:group class="btnarea" id="" style="">
    					<xf:trigger class="bt_plus" id="btn_add" style="" type="button" ev:onclick="scwin.btn_add_onclick">
    						<xf:label><![CDATA[추가]]></xf:label>
    					</xf:trigger>
    					<xf:trigger class="bt_minus" id="btn_adjst_del" style="" type="button" ev:onclick="scwin.btn_adjst_del_onclick">
    						<xf:label><![CDATA[삭제]]></xf:label>
    					</xf:trigger>
    				</xf:group>
    			</xf:group>
    		</xf:group>
    		<w2:gridView autoFit="allColumn" class="grid" dataList="data:dlt_adjst_list" defaultCellHeight="28"
    			evenRowBackgroundColor="#f7faff" id="grid_adjst_accnt" noResultMessage="조회 결과가 없습니다." noResultMessageClass="noResult" rowMouseOverColor="#e7f0fb"
    			rowNumBackgroundColor="#fff" rowNumHeaderValue="No." rowNumVisible="true" rowNumWidth="40" rowStatusHeaderValue="상태"
    			rowStatusVisible="false" rowStatusWidth="50" scrollByColumn="false" scrollByColumnAdaptive="false" selectedCellColor="#fbf2cd"
    			selectedRowColor="#fbf2cd" style="height:107px;" visibleRowNum="10" ev:onafteredit="scwin.grid_adjst_accnt_onafteredit" ev:oncellclick="scwin.grid_adjst_accnt_oncellclick">
    			<w2:caption id="caption1" style="" value="this is a grid caption."></w2:caption>
    			<w2:header id="header1" style="">
    				<w2:row id="row1" style="">
    					<w2:column width="40" inputType="checkbox" style="height:28px" id="column57" value="선택" displayMode="label"
    						checkboxLabel="전체선택">
    					</w2:column>
    					<w2:column displayMode="label" id="column41" inputType="text" style="height:28px;" value="계정번호" width="100"
    						colSpan="2" rowSpan="">
    					</w2:column>
    					<w2:column displayMode="label" id="column9" inputType="text" style="height:28px;" value="계정명" width="150"></w2:column>
    					<w2:column displayMode="label" id="column43" inputType="text" style="height:28px" value="회계코드" width="70"></w2:column>
    					<w2:column displayMode="label" id="column45" inputType="text" style="height:28px" value="회계코드명" width="120"></w2:column>
    					<w2:column displayMode="label" id="column47" inputType="text" style="height:28px;" value="비용코드" width="100"
    						colSpan="2" rowSpan="">
    					</w2:column>
    					<w2:column displayMode="label" id="column49" inputType="text" style="height:28px" value="비용코드명" width="150"></w2:column>
    					<w2:column displayMode="label" id="column51" inputType="text" style="height:28px" value="사용금액" width="70"></w2:column>
    					<w2:column displayMode="label" id="column55" inputType="text" style="height:28px" value="통제번호" width="70"></w2:column>
    					<w2:column width="100" inputType="text" style="height:28px;" id="column65" value="계정책임자" displayMode="label"
    						colSpan="2" rowSpan="">
    					</w2:column>
    				</w2:row>
    			</w2:header>
    			<w2:gBody id="gBody1" style="">
    				<w2:row id="row2" style="">
    					<w2:column width="40" inputType="checkbox" style="height:28px" id="chk" value="" displayMode="label"
    						checkboxLabel="선택">
    					</w2:column>
    					<w2:column displayMode="label" id="accnt_no" inputType="text" style="height:28px" value="" width="70"></w2:column>
    					<w2:column width="30" inputType="button" style="height:28px" id="btn_accnt_no" value="조회" displayMode="label"
    						class="btn_sch">
    					</w2:column>
    					<w2:column displayMode="label" id="accnt_no_nm" inputType="text" readOnly="true" style="height:28px;" width="150"></w2:column>
    					<w2:column displayMode="label" id="accnt_cd" inputType="text" style="height:28px" value="" width="70" readOnly="true"></w2:column>
    					<w2:column displayMode="label" id="accnt_cd_abbr" inputType="text" style="height:28px" value="" width="120" readOnly="true"></w2:column>
    					<w2:column displayMode="label" id="expns_cd" inputType="text" style="height:28px" value="" width="70" readOnly="true"></w2:column>
    					<w2:column width="30" inputType="button" style="height:28px" id="btn_expns_cd" value="조회" displayMode="label"
    						class="btn_sch">
    					</w2:column>
    					<w2:column displayMode="label" id="expns_cd_nm" inputType="text" style="height:28px" value="" width="150" readOnly="true"></w2:column>
    					<w2:column displayMode="label" id="req_amt" inputType="text" style="height:28px" value="" width="70" displayFormat="#,###" dataType="number"></w2:column>
    					<w2:column displayMode="label" id="ctrl_no" inputType="text" style="height:28px" value="" width="70" readOnly="true"></w2:column>
    					<w2:column width="70" inputType="text" style="height:28px" id="accnt_rspns_nm" value="" displayMode="label" readOnly="true"></w2:column>
    					<w2:column width="30" inputType="button" style="height:28px" id="btn_accnt_no_rspns" value="조회" displayMode="label"
    						class="btn_sch">
    					</w2:column>
    				</w2:row>
    			</w2:gBody>
    			<w2:footer style="" id="footer1">
    				<w2:row style="" id="row3">
    					<w2:column width="40" inputType="text" style="height:28px;" id="column79" value="" displayMode="label"></w2:column>
    					<w2:column width="320" inputType="text" style="height:28px;" id="column78" value="합계" displayMode="label" colSpan="4"
    						rowSpan="">
    					</w2:column>
    					<w2:column width="120" inputType="text" style="height:28px;" id="column74" value="" displayMode="label"></w2:column>
    					<w2:column width="70" inputType="text" style="height:28px;" id="column73" value="" displayMode="label"></w2:column>
    					<w2:column width="30" inputType="text" style="height:28px;" id="column72" value="" displayMode="label"></w2:column>
    					<w2:column width="150" inputType="text" style="height:28px;" id="column71" value="" displayMode="label"></w2:column>
    					<w2:column width="70" inputType="expression" style="height:28px;" id="tot_req_amt" value="" displayMode="label" valueType="binary" expression="sum('req_amt')" dataType="number" displayFormat="#,###"></w2:column>
    					<w2:column width="70" inputType="text" style="height:28px;" id="column69" value="" displayMode="label"></w2:column>
    					<w2:column width="70" inputType="text" style="height:28px;" id="column68" value="" displayMode="label"></w2:column>
    					<w2:column width="30" inputType="text" style="height:28px;" id="column67" value="" displayMode="label"></w2:column>
    				</w2:row>
    			</w2:footer>
    		</w2:gridView>
    		<xf:group class="titleSection" id="" style="">
    			<w2:textbox class="tit_tbl" id="" label="가지급입금요청계좌" style="" tagname="h3"></w2:textbox>
    		</xf:group>
    		<xf:group tagname="table" style="width:100%;" id="" class="w2tb tbl">
    			<w2:attributes>
    				<w2:summary></w2:summary>
    			</w2:attributes>
    			<xf:group tagname="caption"></xf:group>
    			<xf:group tagname="colgroup">
    				<xf:group tagname="col" style="width:150px;"></xf:group>
    				<xf:group tagname="col" style=""></xf:group>
    				<xf:group tagname="col" style="width:150px;"></xf:group>
    				<xf:group tagname="col" style=""></xf:group>
    			</xf:group>
    			<xf:group tagname="tr" style="">
    				<xf:group tagname="th" style="" class="w2tb_th">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:textbox id="output_syspayno" label="개인번호" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group tagname="td" style="" class="w2tb_td">
    					<xf:group class="flex" id="" style="">
    						<xf:group class="inpSch fix" id="" style="width:120px;">
    							<xf:input adjustMaxLength="false" class="inp" id="ibx_empno" style="" disabled="true" readOnly="true" ref="data:dma_form_result.vend_cd"></xf:input>
    							<xf:trigger class="btn" id="btn_empno" style="" type="button" disabled="true" ev:onclick="scwin.btn_empno_onclick">
    								<xf:label><![CDATA[검색]]></xf:label>
    							</xf:trigger>
    						</xf:group>
    						<xf:input adjustMaxLength="false" class="inp full" id="ibx_syspayno_nm" style="max-width: 150px;" disabled="true" readOnly="true"></xf:input>
    					</xf:group>
    				</xf:group>
    				<xf:group tagname="th" style="" class="w2tb_th">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:textbox id="" label="입금계좌" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group tagname="td" style="" class="w2tb_td">
    					<xf:input adjustMaxLength="false" class="inp full" id="ibx_bankaccnt_no" style="max-width: 200px;" title="" disabled="true" readOnly="true" ref="data:dma_form_result.bankaccnt_no"></xf:input>
    				</xf:group>
    			</xf:group>
    			<xf:group tagname="tr">
    				<xf:group tagname="th" style="" class="w2tb_th">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:textbox id="" label="은행" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group tagname="td" style="" class="w2tb_td">
    					<xf:select1 allOption="true" appearance="minimal" chooseOption="true" chooseOptionLabel="-선택-" class="sel"
    						direction="auto" disabled="true" disabledClass="w2selectbox_disabled" id="sbx_bank" ref="data:dma_form_result.bank" style="max-width: 200px;"
    						submenuSize="auto">
    						<xf:choices></xf:choices>
    					</xf:select1>
    				</xf:group>
    				<xf:group tagname="th" style="" class="w2tb_th">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:textbox id="" label="예금주" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group tagname="td" style="" class="w2tb_td">
    					<xf:input adjustMaxLength="false" class="inp full" id="ibx_depstr_nm" style="max-width: 200px;" title="" disabled="true" readOnly="true" ref="data:dma_form_result.depstr_nm"></xf:input>
    				</xf:group>
    			</xf:group>
    			<xf:group tagname="tr">
    				<xf:group tagname="th" style="" class="w2tb_th">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:textbox id="" label="300만 원이상&lt;br/&gt;감사실장" style="" tagname="span" escape="false"></w2:textbox>
    				</xf:group>
    				<xf:group tagname="td" style="" class="w2tb_td">
    					<w2:attributes>
    						<w2:colspan>3</w2:colspan>
    						<w2:rowspan>1</w2:rowspan>
    					</w2:attributes>
    					<w2:textbox class="txt" id="" label="&lt; 가지급금 전결규정(정산포함) &gt;&lt;br/&gt;직위별 전결금액&lt;br/&gt;원장 3,000만원 이상&lt;br/&gt;선임본부장 3,000만원 미만&lt;br/&gt;본부장 2,000만원 미만&lt;br/&gt;부(단)장 1,000만원 미만&lt;br/&gt;실(센터)장 800만원 미만&lt;br/&gt;연구책임자 500만원 미만" style="" tagname="span" escape="false"></w2:textbox>
    				</xf:group>
    			</xf:group>
    		</xf:group>
    		<xf:group class="btnGroup" id="" style="">
    			<xf:group class="le" id="" style=""></xf:group>
    			<xf:group class="ri" id="">
    				<xf:trigger class="btn pro" id="btn_del" style="" type="button" disabled="true" ev:onclick="scwin.btn_del_onclick">
    					<xf:label><![CDATA[삭제]]></xf:label>
    				</xf:trigger>
    				<xf:trigger class=" btn pro conf" id="btn_save" style="" type="button" ev:onclick="scwin.btn_save_onclick">
    					<xf:label><![CDATA[저장]]></xf:label>
    				</xf:trigger>
    			</xf:group>
    		</xf:group>
    	</xf:group>
    </body>
</html>
