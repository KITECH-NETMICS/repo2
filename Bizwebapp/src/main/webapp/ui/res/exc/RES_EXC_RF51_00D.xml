<?xml version="1.0" encoding="UTF-8"?>
<html xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ev="http://www.w3.org/2001/xml-events"
    xmlns:w2="http://www.inswave.com/websquare" xmlns:xf="http://www.w3.org/2002/xforms">
    <head meta_programName="실행예산편성/변경">
    	<w2:type>DEFAULT</w2:type>
        <w2:buildDate/>
        <xf:model>
        	<xf:instance>
        		<data xmlns="" />
        	</xf:instance>
        	<w2:dataCollection baseNode="map">
        		<w2:dataMap baseNode="map" id="dma_search">
        			<w2:keyInfo>
        				<w2:key id="req_no" name="req_no" dataType="text"></w2:key>
        				<w2:key id="accnt_rspns" name="accnt_rspns" dataType="text"></w2:key>
        				<w2:key id="accnt_no" name="accnt_no" dataType="text"></w2:key>
        				<w2:key id="prj_no" name="prj_no" dataType="text"></w2:key>
        				<w2:key id="prj_nm" name="prj_nm" dataType="text"></w2:key>
        				<w2:key id="prj_orign_yyyy" name="prj_orign_yyyy" dataType="text"></w2:key>
        				<w2:key id="accnt_state" name="accnt_state" dataType="text"></w2:key>
        				<w2:key id="accnt_clsf" name="accnt_clsf" dataType="text"></w2:key>
        				<w2:key id="prj_state" name="prj_state" dataType="text"></w2:key>
        				<w2:key id="bsns_req_no" name="bsns_req_no" dataType="text"></w2:key>
        				<w2:key id="bsns_cd_inout" name="bsns_cd_inout" dataType="text"></w2:key>
        				<w2:key id="bugt_ctrl_psn" name="bugt_ctrl_psn" dataType="text"></w2:key>
        				<w2:key id="view_tag" name="view_tag" dataType="text"></w2:key>
        				<w2:key id="syspayno" name="syspayno" dataType="text"></w2:key>
        				<w2:key id="searchTag" name="searchTag" dataType="text"></w2:key>
        				<w2:key id="cryfwd_amt" name="cryfwd_amt" dataType="text"></w2:key>
        				<w2:key id="intrst_amt" name="intrst_amt" dataType="text"></w2:key>
        				<w2:key id="itm_solve_base" name="itm_solve_base" dataType="text"></w2:key>
        				<w2:key id="rcpt_state" name="rcpt_state" dataType="text"></w2:key>
        				<w2:key id="retrn_state" name="retrn_state" dataType="text"></w2:key>
        				<w2:key id="req_start" name="req_start" dataType="text"></w2:key>
        				<w2:key id="req_cls" name="req_cls" dataType="text"></w2:key>
        				<w2:key id="retrn_schdl_start" name="retrn_schdl_start" dataType="text"></w2:key>
        				<w2:key id="retrn_schdl_cls" name="retrn_schdl_cls" dataType="text"></w2:key>
        				<w2:key id="accnt_no1" name="accnt_no1" dataType="text"></w2:key>
        				<w2:key id="exec_bugt_seq" name="exec_bugt_seq" dataType="text"></w2:key>
        				<w2:key id="exec_bugt_seq_max" name="exec_bugt_seq_max" dataType="text"></w2:key>
        			</w2:keyInfo>
        		</w2:dataMap>
        		<w2:dataMap baseNode="map" id="dma_info">
        			<w2:keyInfo>
        				<w2:key id="accnt_no" name="accnt_no" dataType="text"></w2:key>
        				<w2:key id="main_accnt_no" name="main_accnt_no" dataType="text"></w2:key>
        				<w2:key id="accnt_clsf" name="accnt_clsf" dataType="text"></w2:key>
        				<w2:key id="accnt_clsf_nm" name="accnt_clsf_nm" dataType="text"></w2:key>
        				<w2:key id="accnt_rspns" name="accnt_rspns" dataType="text"></w2:key>
        				<w2:key id="accnt_rspns_nm" name="accnt_rspns_nm" dataType="text"></w2:key>
        				<w2:key id="accnt_rspns_empno" name="accnt_rspns_empno" dataType="text"></w2:key>
        				<w2:key id="posi_nm" name="posi_nm" dataType="text"></w2:key>
        				<w2:key id="dept_cd" name="dept_cd" dataType="text"></w2:key>
        				<w2:key id="dept_nm" name="dept_nm" dataType="text"></w2:key>
        				<w2:key id="cls_ymd" name="cls_ymd" dataType="text"></w2:key>
        				<w2:key id="prj_no" name="prj_no" dataType="text"></w2:key>
        				<w2:key id="prj_nm" name="prj_nm" dataType="text"></w2:key>
        				<w2:key id="tot_resch_prd_orign_ymd" name="tot_resch_prd_orign_ymd" dataType="text"></w2:key>
        				<w2:key id="tot_resch_prd_cls_ymd" name="tot_resch_prd_cls_ymd" dataType="text"></w2:key>
        				<w2:key id="start_ymd" name="start_ymd" dataType="text"></w2:key>

        				<w2:key id="accnt_state" name="accnt_state" dataType="text"></w2:key>
        				<w2:key id="tax_cd" name="tax_cd" dataType="text"></w2:key>
        				<w2:key id="posi_cd" name="posi_cd" dataType="text"></w2:key>
        				<w2:key id="accnt_state_nm" name="accnt_state_nm" dataType="text"></w2:key>
        				<w2:key id="bsns_cd_bsns" name="bsns_cd_bsns" dataType="text"></w2:key>
        				<w2:key id="bsns_cd_bsns_nm" name="bsns_cd_bsns_nm" dataType="text"></w2:key>
        				<w2:key id="bsns_cd_exclsv_agncy" name="bsns_cd_exclsv_agncy" dataType="text"></w2:key>
        				<w2:key id="bsns_cd_detls_bsns" name="bsns_cd_detls_bsns" dataType="text"></w2:key>
        				<w2:key id="tot_resch_cash_amt" name="tot_resch_cash_amt" dataType="text"></w2:key>
        				<w2:key id="tot_resch_amt" name="tot_resch_amt" dataType="text"></w2:key>
        				<w2:key id="itm_solve_base" name="itm_solve_base" dataType="text"></w2:key>
        				<w2:key id="bsns_req_no" name="bsns_req_no" dataType="text"></w2:key>
        				<w2:key id="prj_state" name="prj_state" dataType="text"></w2:key>
        				<w2:key id="prj_state_nm" name="prj_state_nm" dataType="text"></w2:key>
        				<w2:key id="oh_absrp_rt" name="oh_absrp_rt" dataType="text"></w2:key>




        				<w2:key id="email" name="email" dataType="text"></w2:key>
        				<w2:key id="res_email" name="res_email" dataType="text"></w2:key>
        				<w2:key id="first_pre_prj_no" name="first_pre_prj_no" dataType="text"></w2:key>
        				<w2:key id="curr_prj_anal" name="curr_prj_anal" dataType="text"></w2:key>
        				<w2:key id="tot_prj_yrs" name="tot_prj_yrs" dataType="text"></w2:key>
        				<w2:key id="bsns_cd_inout" name="bsns_cd_inout" dataType="text"></w2:key>
        				<w2:key id="bsns_cd_inout_nm" name="bsns_cd_inout_nm" dataType="text"></w2:key>
        				<w2:key id="prj_kind" name="prj_kind" dataType="text"></w2:key>
        				<w2:key id="bsns_cd_ofic" name="bsns_cd_ofic" dataType="text"></w2:key>
        				<w2:key id="bugt_ctrl_psn" name="bugt_ctrl_psn" dataType="text"></w2:key>
        				<w2:key id="card_use_ex" name="card_use_ex" dataType="text"></w2:key>
        				<w2:key id="curr_resch_rspns" name="curr_resch_rspns" dataType="text"></w2:key>
        				<w2:key id="curr_resch_rspns_nm" name="curr_resch_rspns_nm" dataType="text"></w2:key>
        				<w2:key id="curr_posi_cd" name="curr_posi_cd" dataType="text"></w2:key>
        				<w2:key id="curr_posi_nm" name="curr_posi_nm" dataType="text"></w2:key>
        				<w2:key id="curr_dept_cd" name="curr_dept_cd" dataType="text"></w2:key>
        				<w2:key id="curr_new_ymd" name="curr_new_ymd" dataType="text"></w2:key>
        				<w2:key id="curr_dept_nm" name="curr_dept_nm" dataType="text"></w2:key>
        				<w2:key id="curr_empno" name="curr_empno" dataType="text"></w2:key>
        				<w2:key id="vacct_no" name="vacct_no" dataType="text"></w2:key>
        				<w2:key id="note_use_ex" name="note_use_ex" dataType="text"></w2:key>
        				<w2:key id="bankaccnt_type" name="bankaccnt_type" dataType="text"></w2:key>
        				<w2:key id="note_yn" name="note_yn" dataType="text"></w2:key>
        				<w2:key id="agree_direct_cost_fix_yn" name="agree_direct_cost_fix_yn" dataType="text"></w2:key>
        				<w2:key id="reschamt_card_use_clsf" name="reschamt_card_use_clsf" dataType="text"></w2:key>
        				<w2:key id="intgr_mngmt_unit" name="intgr_mngmt_unit" dataType="text"></w2:key>
        				<w2:key id="apr_state" name="apr_state" dataType="text"></w2:key>
        				<w2:key id="approval" name="approval" dataType="text"></w2:key>
        				<w2:key id="cons_work_file" name="cons_work_file" dataType="text"></w2:key>
        			</w2:keyInfo>
        		</w2:dataMap>
        		<w2:dataList baseNode="list" repeatNode="map" id="dlt_exec_bugt_detail" saveRemovedData="true">
        			<w2:columnInfo>
        				<w2:column id="itm_clsf_nm" name="itm_clsf_nm" dataType="text"></w2:column>
        				<w2:column id="bugt_item_nm" name="bugt_item_nm" dataType="text"></w2:column>
        				<w2:column id="bg_agree_tot_sum" name="bg_agree_tot_sum" dataType="text"></w2:column>
        				<w2:column id="bugt_item_sum" name="bugt_item_sum" dataType="text"></w2:column>
        				<w2:column id="enfrc_cause_amt" name="enfrc_cause_amt" dataType="text"></w2:column>
        				<w2:column id="bugt_item_rat" name="bugt_item_rat" dataType="text"></w2:column>
        				<w2:column id="bg_agree_tot_rat" name="bg_agree_tot_rat" dataType="text"></w2:column>
        				<w2:column id="bugt_item_amt_30" name="bugt_item_amt_30" dataType="text"></w2:column>
        				<w2:column id="bugt_item_amt_29" name="bugt_item_amt_29" dataType="text"></w2:column>
        				<w2:column id="bugt_item_amt_28" name="bugt_item_amt_28" dataType="text"></w2:column>
        				<w2:column id="bugt_item_amt_27" name="bugt_item_amt_27" dataType="text"></w2:column>
        				<w2:column id="bugt_item_amt_26" name="bugt_item_amt_26" dataType="text"></w2:column>
        				<w2:column id="bugt_item_amt_25" name="bugt_item_amt_25" dataType="text"></w2:column>
        				<w2:column id="bugt_item_amt_24" name="bugt_item_amt_24" dataType="text"></w2:column>
        				<w2:column id="bugt_item_amt_23" name="bugt_item_amt_23" dataType="text"></w2:column>
        				<w2:column id="bugt_item_amt_22" name="bugt_item_amt_22" dataType="text"></w2:column>
        				<w2:column id="bugt_item_amt_21" name="bugt_item_amt_21" dataType="text"></w2:column>
        				<w2:column id="bugt_item_amt_20" name="bugt_item_amt_20" dataType="text"></w2:column>
        				<w2:column id="bugt_item_amt_19" name="bugt_item_amt_19" dataType="text"></w2:column>
        				<w2:column id="bugt_item_amt_18" name="bugt_item_amt_18" dataType="text"></w2:column>
        				<w2:column id="bugt_item_amt_17" name="bugt_item_amt_17" dataType="text"></w2:column>
        				<w2:column id="bugt_item_amt_16" name="bugt_item_amt_16" dataType="text"></w2:column>
        				<w2:column id="bugt_item_amt_15" name="bugt_item_amt_15" dataType="text"></w2:column>
        				<w2:column id="bugt_item_amt_14" name="bugt_item_amt_14" dataType="text"></w2:column>
        				<w2:column id="bugt_item_amt_13" name="bugt_item_amt_13" dataType="text"></w2:column>
        				<w2:column id="bugt_item_amt_12" name="bugt_item_amt_12" dataType="text"></w2:column>
        				<w2:column id="bugt_item_amt_11" name="bugt_item_amt_11" dataType="text"></w2:column>
        				<w2:column id="bugt_item_amt_10" name="bugt_item_amt_10" dataType="text"></w2:column>
        				<w2:column id="bugt_item_amt_09" name="bugt_item_amt_09" dataType="text"></w2:column>
        				<w2:column id="bugt_item_amt_08" name="bugt_item_amt_08" dataType="text"></w2:column>
        				<w2:column id="bugt_item_amt_07" name="bugt_item_amt_07" dataType="text"></w2:column>
        				<w2:column id="bugt_item_amt_06" name="bugt_item_amt_06" dataType="text"></w2:column>
        				<w2:column id="bugt_item_amt_05" name="bugt_item_amt_05" dataType="text"></w2:column>
        				<w2:column id="bugt_item_amt_04" name="bugt_item_amt_04" dataType="text"></w2:column>
        				<w2:column id="bugt_item_amt_03" name="bugt_item_amt_03" dataType="text"></w2:column>
        				<w2:column id="bugt_item_amt_02" name="bugt_item_amt_02" dataType="text"></w2:column>
        				<w2:column id="bugt_item_amt_01" name="bugt_item_amt_01" dataType="text"></w2:column>
        				<w2:column id="agrt_cryfwd_amt" name="agrt_cryfwd_amt" dataType="text"></w2:column>
        				<w2:column id="bugt_item_yn" name="bugt_item_yn" dataType="text"></w2:column>
        				<w2:column id="grid_column_id" name="grid_column_id" dataType="text"></w2:column>
        				<w2:column id="itm_clsf" name="itm_clsf" dataType="text"></w2:column>
        				<w2:column id="itm_solve_base" name="itm_solve_base" dataType="text"></w2:column>
        				<w2:column id="accnt_no" name="accnt_no" dataType="text"></w2:column>
        				<w2:column id="prj_no" name="prj_no" dataType="text"></w2:column>
        				<w2:column id="bugt_item" name="bugt_item" dataType="text"></w2:column>
        				<w2:column id="state" name="state" dataType="text"></w2:column>
        				<w2:column id="resch_accnt_clsf" name="resch_accnt_clsf" dataType="text"></w2:column>
        				<w2:column id="resch_accnt_clsf_nm" name="resch_accnt_clsf_nm" dataType="text"></w2:column>
        				<w2:column id="amt" name="amt" dataType="text"></w2:column>
        				<w2:column id="seq" name="seq" dataType="text"></w2:column>
        				<w2:column id="accnt_clsf" name="accnt_clsf" dataType="text"></w2:column>
        				<w2:column id="anal" name="anal" dataType="text"></w2:column>
        				<w2:column id="cud_flag" name="cud_flag" dataType="text"></w2:column>
        			</w2:columnInfo>
        		</w2:dataList>
        		<w2:dataMap baseNode="map" id="dma_param">
        			<w2:keyInfo>
        				<w2:key id="req_no" name="req_no" dataType="text"></w2:key>
        				<w2:key id="accnt_rspns" name="accnt_rspns" dataType="text"></w2:key>
        				<w2:key id="accnt_no" name="accnt_no" dataType="text"></w2:key>
        				<w2:key id="prj_no" name="prj_no" dataType="text"></w2:key>
        				<w2:key id="prj_nm" name="prj_nm" dataType="text"></w2:key>
        				<w2:key id="accnt_clsf" name="accnt_clsf" dataType="text"></w2:key>
        				<w2:key id="bsns_req_no" name="bsns_req_no" dataType="text"></w2:key>
        				<w2:key id="bsns_cd_inout" name="bsns_cd_inout" dataType="text"></w2:key>
        				<w2:key id="bugt_ctrl_psn" name="bugt_ctrl_psn" dataType="text"></w2:key>
        				<w2:key id="syspayno" name="syspayno" dataType="text"></w2:key>
        				<w2:key id="itm_solve_base" name="itm_solve_base" dataType="text"></w2:key>
        				<w2:key id="accnt_no1" name="accnt_no1" dataType="text"></w2:key>
        				<w2:key id="accnt_no2" name="accnt_no2" dataType="text"></w2:key>
        				<w2:key id="bugt_item_amt" name="bugt_item_amt" dataType="text"></w2:key>
        				<w2:key id="bg_agree_tot_sum_sum" name="bg_agree_tot_sum_sum" dataType="text"></w2:key>
        				<w2:key id="bg_agree_026_sum_sum" name="bg_agree_026_sum_sum" dataType="text"></w2:key>
        				<w2:key id="bugt_item_026_amt" name="bugt_item_026_amt" dataType="text"></w2:key>
        				<w2:key id="param4" name="param4" dataType="text"></w2:key>
        				<w2:key id="cryfwd_amt" name="cryfwd_amt" dataType="text"></w2:key>
        				<w2:key id="intrst_amt" name="intrst_amt" dataType="text"></w2:key>
        			</w2:keyInfo>
        		</w2:dataMap>
        		<w2:dataMap baseNode="map" id="dma_apr_info">
        			<w2:keyInfo>
        				<w2:key id="accnt_no" name="accnt_no" dataType="text"></w2:key>
        				<w2:key id="state" name="state" dataType="text"></w2:key>
        				<w2:key id="state_nm" name="state_nm" dataType="text"></w2:key>
        				<w2:key id="exec_bugt_seq_max" name="exec_bugt_seq_max" dataType="text"></w2:key>
        				<w2:key id="req_no" name="req_no" dataType="text"></w2:key>
        				<w2:key id="req_ymd" name="req_ymd" dataType="text"></w2:key>
        				<w2:key id="req_psn" name="req_psn" dataType="text"></w2:key>
        				<w2:key id="apr_state" name="apr_state" dataType="text"></w2:key>
        				<w2:key id="apr_state_nm" name="apr_state_nm" dataType="text"></w2:key>
        				<w2:key id="othr_accnt_amt_sum" name="othr_accnt_amt_sum" dataType="text"></w2:key>
        				<w2:key id="max_anal" name="max_anal" dataType="text"></w2:key>
        			</w2:keyInfo>
        		</w2:dataMap>
        		<w2:dataList baseNode="list" repeatNode="map" id="dlt_accnt_clsf" saveRemovedData="true">
        			<w2:columnInfo>
        				<w2:column id="code" name="code" dataType="text"></w2:column>
        				<w2:column id="nm" name="nm" dataType="text"></w2:column>
        			</w2:columnInfo>
        			<w2:data>
        				<w2:row>
        					<code><![CDATA[FBL010]]></code>
        					<nm><![CDATA[내부인건비]]></nm>
        				</w2:row>
        				<w2:row>
        					<code><![CDATA[FBL020]]></code>
        					<nm><![CDATA[내부인건비II]]></nm>
        				</w2:row>
        				<w2:row>
        					<code><![CDATA[FBL023]]></code>
        					<nm><![CDATA[내부인건비3]]></nm>
        				</w2:row>
        				<w2:row>
        					<code><![CDATA[FBL025]]></code>
        					<nm><![CDATA[외부인건비]]></nm>
        				</w2:row>
        				<w2:row>
        					<code><![CDATA[FBL027]]></code>
        					<nm><![CDATA[학생인건비]]></nm>
        				</w2:row>
        				<w2:row>
        					<code><![CDATA[FBL030]]></code>
        					<nm><![CDATA[재료비 및 전산처리, 관리비]]></nm>
        				</w2:row>
        				<w2:row>
        					<code><![CDATA[FBL040]]></code>
        					<nm><![CDATA[원내전산처리비]]></nm>
        				</w2:row>
        				<w2:row>
        					<code><![CDATA[FBL050]]></code>
        					<nm><![CDATA[시작품제작비]]></nm>
        				</w2:row>
        				<w2:row>
        					<code><![CDATA[FBL060]]></code>
        					<nm><![CDATA[연구기자재 및 시설비]]></nm>
        				</w2:row>
        				<w2:row>
        					<code><![CDATA[FBL070]]></code>
        					<nm><![CDATA[내부장비 임차료]]></nm>
        				</w2:row>
        				<w2:row>
        					<code><![CDATA[FBL080]]></code>
        					<nm><![CDATA[외부장비 임차료]]></nm>
        				</w2:row>
        				<w2:row>
        					<code><![CDATA[FBL090]]></code>
        					<nm><![CDATA[시설비]]></nm>
        				</w2:row>
        				<w2:row>
        					<code><![CDATA[FBL100]]></code>
        					<nm><![CDATA[여비]]></nm>
        				</w2:row>
        				<w2:row>
        					<code><![CDATA[FBL110]]></code>
        					<nm><![CDATA[국외여비]]></nm>
        				</w2:row>
        				<w2:row>
        					<code><![CDATA[FBL120]]></code>
        					<nm><![CDATA[기술정보활동비]]></nm>
        				</w2:row>
        				<w2:row>
        					<code><![CDATA[FBL130]]></code>
        					<nm><![CDATA[회의비]]></nm>
        				</w2:row>
        				<w2:row>
        					<code><![CDATA[FBL140]]></code>
        					<nm><![CDATA[연구활동비]]></nm>
        				</w2:row>
        				<w2:row>
        					<code><![CDATA[FBL150]]></code>
        					<nm><![CDATA[지적재산권 경비]]></nm>
        				</w2:row>
        				<w2:row>
        					<code><![CDATA[FBL160]]></code>
        					<nm><![CDATA[수용비 및 수수료]]></nm>
        				</w2:row>
        				<w2:row>
        					<code><![CDATA[FBL165]]></code>
        					<nm><![CDATA[수용비 및 수수료]]></nm>
        				</w2:row>
        				<w2:row>
        					<code><![CDATA[FBL170]]></code>
        					<nm><![CDATA[간접경비(개보비)]]></nm>
        				</w2:row>
        				<w2:row>
        					<code><![CDATA[FBL180]]></code>
        					<nm><![CDATA[위탁연구개발비]]></nm>
        				</w2:row>
        				<w2:row>
        					<code><![CDATA[FBL190]]></code>
        					<nm><![CDATA[연구수당]]></nm>
        				</w2:row>
        				<w2:row>
        					<code><![CDATA[FBL200]]></code>
        					<nm><![CDATA[연구개발준비금]]></nm>
        				</w2:row>
        				<w2:row>
        					<code><![CDATA[FBL205]]></code>
        					<nm><![CDATA[연구개발능률성과급]]></nm>
        				</w2:row>
        				<w2:row>
        					<code><![CDATA[FBL210]]></code>
        					<nm><![CDATA[과학문화활동비]]></nm>
        				</w2:row>
        				<w2:row>
        					<code><![CDATA[FBL220]]></code>
        					<nm><![CDATA[연구실안전관리비]]></nm>
        				</w2:row>
        				<w2:row>
        					<code><![CDATA[FBL223]]></code>
        					<nm><![CDATA[연구보안관리비]]></nm>
        				</w2:row>
        				<w2:row>
        					<code><![CDATA[FBL225]]></code>
        					<nm><![CDATA[연구윤리활동비]]></nm>
        				</w2:row>
        			</w2:data>
        		</w2:dataList>
        		<w2:dataMap baseNode="map" id="dma_static">
        			<w2:keyInfo>
        				<w2:key id="state_cd" name="실행예산상태(RDC) 공통처리 변수" dataType="text"></w2:key>
        				<w2:key id="state_nm" name="실행예산상태명 공통처리 변수" dataType="text"></w2:key>
        				<w2:key id="exec_bugt_seq_max" name="실행예산차수 MAX 공통처리 변수" dataType="text"></w2:key>
        				<w2:key id="edit_exec_bugt_seq" name="편집할 실행예산차수" dataType="text"></w2:key>
        				<w2:key id="apr_state" name="(전자결재인터페이스)결재상태" dataType="text"></w2:key>
        				<w2:key id="apr_state_nm" name="(전자결재인터페이스)결재상태" dataType="text"></w2:key>
        				<w2:key id="apr_state_dsp_str" name="(전자결재인터페이스)결재상태(명)(화면표시용)" dataType="text"></w2:key>
        				<w2:key id="type_code" name="첨부파일 유형코드" dataType="text"></w2:key>
        				<w2:key id="resn_contnt" name="변경사유 에디트 상태 비교용 공통처리 변수" dataType="text"></w2:key>
        				<w2:key id="apprv_req" name="결재신청여부" dataType="text"></w2:key>
        				<w2:key id="save_clsf" name="저장구분" dataType="text"></w2:key>
        				<w2:key id="cons_work_file_chk" name="cons_work_file_chk" dataType="text"></w2:key>
        				<w2:key id="start_ymd" name="과제시작년월일" dataType="text"></w2:key>
        				<w2:key id="start_ymd_chk" name="과제시작년월일 체크" dataType="text"></w2:key>
        				<w2:key id="cls_ymd" name="과제종료년월일" dataType="text"></w2:key>
        				<w2:key id="card_use_ex" name="이지바로,RCMS 구분" dataType="text"></w2:key>
        				<w2:key id="main_accnt_no" name="메인계정" dataType="text"></w2:key>
        				<w2:key id="ezbaro_cry_ove_money" name="ezbaro_cry_ove_money" dataType="text"></w2:key>
        				<w2:key id="rcms_cry_ove_money" name="rcms_cry_ove_money" dataType="text"></w2:key>
        				<w2:key id="cry_ove_money_yn" name="cry_ove_money_yn" dataType="text"></w2:key>
        				<w2:key id="drct_text" name="drct_text" dataType="text"></w2:key>
        				<w2:key id="main_key" name="main_key" dataType="text"></w2:key>
        				<w2:key id="cud_tag" name="신규 수정 구분" dataType="text"></w2:key>
        				<w2:key id="itm_solve_base" name="itm_solve_base" dataType="text"></w2:key>
        				<w2:key id="accnt_chk" name="accnt_chk" dataType="text"></w2:key>
        				<w2:key id="accnt_no" name="accnt_no" dataType="text"></w2:key>
        				<w2:key id="prj_no" name="prj_no" dataType="text"></w2:key>
        			</w2:keyInfo>
        		</w2:dataMap>
        		<w2:dataMap baseNode="map" id="dma_save">
        			<w2:keyInfo>
        				<w2:key id="accnt_no" name="accnt_no" dataType="text"></w2:key>
        				<w2:key id="main_accnt_no" name="main_accnt_no" dataType="text"></w2:key>
        				<w2:key id="prj_no" name="prj_no" dataType="text"></w2:key>
        				<w2:key id="itm_solve_base" name="itm_solve_base" dataType="text"></w2:key>
        				<w2:key id="bsns_req_no" name="bsns_req_no" dataType="text"></w2:key>
        				<w2:key id="prj_state" name="prj_state" dataType="text"></w2:key>
        				<w2:key id="req_no" name="req_no" dataType="text"></w2:key>
        				<w2:key id="apr_state" name="apr_state" dataType="text"></w2:key>
        				<w2:key id="approval" name="approval" dataType="text"></w2:key>
        				<w2:key id="service_id" name="service_id" dataType="text"></w2:key>
        				<w2:key id="doc_id" name="doc_id" dataType="text"></w2:key>
        				<w2:key id="exec_bugt_seq" name="exec_bugt_seq" dataType="text"></w2:key>
        				<w2:key id="accnt_state" name="accnt_state" dataType="text"></w2:key>
        				<w2:key id="regst_syspayno" name="regst_syspayno" dataType="text"></w2:key>
        				<w2:key id="updt_syspayno" name="updt_syspayno" dataType="text"></w2:key>
        				<w2:key id="crud_tag" name="crud_tag" dataType="text"></w2:key>
        				<w2:key id="uid" name="uid" dataType="text"></w2:key>
        				<w2:key id="state" name="state" dataType="text"></w2:key>
        				<w2:key id="resn_contnt" name="resn_contnt" dataType="text"></w2:key>
        				<w2:key id="info_cd" name="info_cd" dataType="text"></w2:key>
        				<w2:key id="attach_file" name="attach_file" dataType="text"></w2:key>
        				<w2:key id="curr_resch_rspns_sys" name="curr_resch_rspns_sys" dataType="text"></w2:key>
        				<w2:key id="save" name="save" dataType="text"></w2:key>
        				<w2:key id="resch_prd_term" name="resch_prd_term" dataType="text"></w2:key>
        				<w2:key id="accnt_state_nm" name="accnt_state_nm" dataType="text"></w2:key>
        				<w2:key id="accnt_clsf_nm" name="accnt_clsf_nm" dataType="text"></w2:key>
        				<w2:key id="bsns_cd_bsns_nm" name="bsns_cd_bsns_nm" dataType="text"></w2:key>
        				<w2:key id="prj_nm" name="prj_nm" dataType="text"></w2:key>
        				<w2:key id="tot_resch_amt" name="tot_resch_amt" dataType="text"></w2:key>
        				<w2:key id="accnt_rspns_str" name="accnt_rspns_str" dataType="text"></w2:key>
        				<w2:key id="posi_nm" name="posi_nm" dataType="text"></w2:key>
        				<w2:key id="dept_nm" name="dept_nm" dataType="text"></w2:key>
        				<w2:key id="drctText" name="drctText" dataType="text"></w2:key>
        				<w2:key id="bsns_yn" name="bsns_yn" dataType="text"></w2:key>
        				<w2:key id="indicost_rt_inp" name="indicost_rt_inp" dataType="text"></w2:key>
        				<w2:key id="indicost_amt" name="indicost_amt" dataType="text"></w2:key>
        				<w2:key id="resch_rspns_str" name="resch_rspns_str" dataType="text"></w2:key>
        				<w2:key id="curr_posi_nm" name="curr_posi_nm" dataType="text"></w2:key>
        				<w2:key id="curr_dept_nm" name="curr_dept_nm" dataType="text"></w2:key>
        				<w2:key id="tot_bg_agree_tot_sum" name="tot_bg_agree_tot_sum" dataType="text"></w2:key>
        				<w2:key id="tot_bugt_item_sum" name="tot_bugt_item_sum" dataType="text"></w2:key>
        				<w2:key id="tot_enfrc_cause_amt" name="tot_enfrc_cause_amt" dataType="text"></w2:key>
        				<w2:key id="tot_bugt_item_rat" name="tot_bugt_item_rat" dataType="text"></w2:key>
        				<w2:key id="tot_bg_agree_tot_rat" name="tot_bg_agree_tot_rat" dataType="text"></w2:key>
        				<w2:key id="tot_amt" name="tot_amt" dataType="text"></w2:key>
        				<w2:key id="tot_pre_amt" name="tot_pre_amt" dataType="text"></w2:key>
        				<w2:key id="apr_exec_bugt_seq" name="apr_exec_bugt_seq" dataType="text"></w2:key>
        			</w2:keyInfo>
        		</w2:dataMap>
        		<w2:dataMap baseNode="map" id="dma_chk_param">
        			<w2:keyInfo>
        				<w2:key id="accnt_no" name="accnt_no" dataType="text"></w2:key>
        				<w2:key id="itm_solve_base" name="itm_solve_base" dataType="text"></w2:key>
        			</w2:keyInfo>
        		</w2:dataMap>
        		<w2:dataList baseNode="list" repeatNode="map" id="dlt_apr_bdget_detail" saveRemovedData="true">
        			<w2:columnInfo>
        				<w2:column id="itm_clsf_nm" name="itm_clsf_nm" dataType="text"></w2:column>
        				<w2:column id="bugt_item_nm" name="bugt_item_nm" dataType="text"></w2:column>
        				<w2:column id="bg_agree_tot_sum" name="bg_agree_tot_sum" dataType="text"></w2:column>
        				<w2:column id="bugt_item_sum" name="bugt_item_sum" dataType="text"></w2:column>
        				<w2:column id="enfrc_cause_amt" name="enfrc_cause_amt" dataType="text"></w2:column>
        				<w2:column id="bugt_item_rat" name="bugt_item_rat" dataType="text"></w2:column>
        				<w2:column id="bg_agree_tot_rat" name="bg_agree_tot_rat" dataType="text"></w2:column>
        				<w2:column id="bugt_item_amt_30" name="bugt_item_amt_30" dataType="text"></w2:column>
        				<w2:column id="bugt_item_amt_29" name="bugt_item_amt_29" dataType="text"></w2:column>
        				<w2:column id="bugt_item_amt_28" name="bugt_item_amt_28" dataType="text"></w2:column>
        				<w2:column id="bugt_item_amt_27" name="bugt_item_amt_27" dataType="text"></w2:column>
        				<w2:column id="bugt_item_amt_26" name="bugt_item_amt_26" dataType="text"></w2:column>
        				<w2:column id="bugt_item_amt_25" name="bugt_item_amt_25" dataType="text"></w2:column>
        				<w2:column id="bugt_item_amt_24" name="bugt_item_amt_24" dataType="text"></w2:column>
        				<w2:column id="bugt_item_amt_23" name="bugt_item_amt_23" dataType="text"></w2:column>
        				<w2:column id="bugt_item_amt_22" name="bugt_item_amt_22" dataType="text"></w2:column>
        				<w2:column id="bugt_item_amt_21" name="bugt_item_amt_21" dataType="text"></w2:column>
        				<w2:column id="bugt_item_amt_20" name="bugt_item_amt_20" dataType="text"></w2:column>
        				<w2:column id="bugt_item_amt_19" name="bugt_item_amt_19" dataType="text"></w2:column>
        				<w2:column id="bugt_item_amt_18" name="bugt_item_amt_18" dataType="text"></w2:column>
        				<w2:column id="bugt_item_amt_17" name="bugt_item_amt_17" dataType="text"></w2:column>
        				<w2:column id="bugt_item_amt_16" name="bugt_item_amt_16" dataType="text"></w2:column>
        				<w2:column id="bugt_item_amt_15" name="bugt_item_amt_15" dataType="text"></w2:column>
        				<w2:column id="bugt_item_amt_14" name="bugt_item_amt_14" dataType="text"></w2:column>
        				<w2:column id="bugt_item_amt_13" name="bugt_item_amt_13" dataType="text"></w2:column>
        				<w2:column id="bugt_item_amt_12" name="bugt_item_amt_12" dataType="text"></w2:column>
        				<w2:column id="bugt_item_amt_11" name="bugt_item_amt_11" dataType="text"></w2:column>
        				<w2:column id="bugt_item_amt_10" name="bugt_item_amt_10" dataType="text"></w2:column>
        				<w2:column id="bugt_item_amt_09" name="bugt_item_amt_09" dataType="text"></w2:column>
        				<w2:column id="bugt_item_amt_08" name="bugt_item_amt_08" dataType="text"></w2:column>
        				<w2:column id="bugt_item_amt_07" name="bugt_item_amt_07" dataType="text"></w2:column>
        				<w2:column id="bugt_item_amt_06" name="bugt_item_amt_06" dataType="text"></w2:column>
        				<w2:column id="bugt_item_amt_05" name="bugt_item_amt_05" dataType="text"></w2:column>
        				<w2:column id="bugt_item_amt_04" name="bugt_item_amt_04" dataType="text"></w2:column>
        				<w2:column id="bugt_item_amt_03" name="bugt_item_amt_03" dataType="text"></w2:column>
        				<w2:column id="bugt_item_amt_02" name="bugt_item_amt_02" dataType="text"></w2:column>
        				<w2:column id="bugt_item_amt_01" name="bugt_item_amt_01" dataType="text"></w2:column>
        				<w2:column id="agrt_cryfwd_amt" name="agrt_cryfwd_amt" dataType="text"></w2:column>
        				<w2:column id="bugt_item_yn" name="bugt_item_yn" dataType="text"></w2:column>
        				<w2:column id="grid_column_id" name="grid_column_id" dataType="text"></w2:column>
        				<w2:column id="itm_clsf" name="itm_clsf" dataType="text"></w2:column>
        				<w2:column id="itm_solve_base" name="itm_solve_base" dataType="text"></w2:column>
        				<w2:column id="accnt_no" name="accnt_no" dataType="text"></w2:column>
        				<w2:column id="prj_no" name="prj_no" dataType="text"></w2:column>
        				<w2:column id="bugt_item" name="bugt_item" dataType="text"></w2:column>
        				<w2:column id="state" name="state" dataType="text"></w2:column>
        				<w2:column id="resch_accnt_clsf" name="resch_accnt_clsf" dataType="text"></w2:column>
        				<w2:column id="resch_accnt_clsf_nm" name="resch_accnt_clsf_nm" dataType="text"></w2:column>
        				<w2:column id="amt" name="amt" dataType="text"></w2:column>
        				<w2:column id="seq" name="seq" dataType="text"></w2:column>
        				<w2:column id="accnt_clsf" name="accnt_clsf" dataType="text"></w2:column>
        				<w2:column id="anal" name="anal" dataType="text"></w2:column>
        				<w2:column id="cud_flag" name="cud_flag" dataType="text"></w2:column>
        				<w2:column id="no" name="no" dataType="text"></w2:column>
        				<w2:column id="color" name="color" dataType="text"></w2:column>
        				<w2:column id="pre_amt" name="pre_amt" dataType="text"></w2:column>
        			</w2:columnInfo>
        		</w2:dataList>
        		<w2:dataMap baseNode="map" id="dma_drctamt">
        			<w2:keyInfo>
        				<w2:key id="drct_chk" name="drct_chk" dataType="text"></w2:key>
        				<w2:key id="agree_amt" name="agree_amt" dataType="text"></w2:key>
        				<w2:key id="amt" name="amt" dataType="text"></w2:key>
        				<w2:key id="cryfwd_agree_amt" name="cryfwd_agree_amt" dataType="text"></w2:key>
        				<w2:key id="cryfwd_amt" name="cryfwd_amt" dataType="text"></w2:key>
        				<w2:key id="agree_amt2" name="agree_amt2" dataType="text"></w2:key><w2:key id="amt2" name="amt2" dataType="text"></w2:key>
        				<w2:key id="cryfwd_agree_amt2" name="cryfwd_agree_amt2" dataType="text"></w2:key>
        				<w2:key id="cryfwd_amt2" name="cryfwd_amt2" dataType="text"></w2:key>
        				
        			</w2:keyInfo>
        		</w2:dataMap>
        	</w2:dataCollection>
        	<w2:workflowCollection></w2:workflowCollection>
        	<xf:submission id="sbm_selectResExcBdgetAcctm" ref="data:json,dma_search" target="" action="SvcRESEXCEXESR01.pwkjson"
        		method="post" mediatype="application/json" encoding="UTF-8" instance="" replace="" errorHandler="" customHandler=""
        		mode="asynchronous" processMsg="" ev:submit="" ev:submitdone="" ev:submiterror="" abortTrigger="">
        	</xf:submission>
        	<xf:submission id="sbm_selectResExcBdgetAcctmState" ref='data:json,dma_info' target="" action="SvcRESEXCEXESR03.pwkjson"
        		method="post" mediatype="application/json" encoding="UTF-8" instance="" replace="" errorHandler="" customHandler=""
        		mode="asynchronous" processMsg="" ev:submit="" ev:submitdone="" ev:submiterror="" abortTrigger="">
        	</xf:submission>
        	<xf:submission id="sbm_selectResExcBdgetPrjAccntNoByReqNo" ref="data:json,dma_search" target=""
        		action="SvcRESEXCEXESR02.pwkjson" method="post" mediatype="application/json" encoding="UTF-8" instance="" replace=""
        		errorHandler="" customHandler="" mode="asynchronous" processMsg="" ev:submit="" ev:submitdone="" ev:submiterror=""
        		abortTrigger="">
        	</xf:submission>
        	<xf:submission id="sbm_selectResnContntDetail" ref="data:json,dma_search" target="" action="SvcRESEXCEXESR14.pwkjson"
        		method="post" mediatype="application/json" encoding="UTF-8" instance="" replace="" errorHandler="" customHandler=""
        		mode="asynchronous" processMsg="" ev:submit="" ev:submitdone="" ev:submiterror="" abortTrigger="">
        	</xf:submission>
        	<xf:submission id="sbm_selectResExcBgExectDetail" ref="data:json,dma_search" target="" action="SvcRESEXCEXESR04.pwkjson"
        		method="post" mediatype="application/json" encoding="UTF-8" instance="" replace="" errorHandler="" customHandler=""
        		mode="asynchronous" processMsg="" ev:submit="" ev:submitdone="" ev:submiterror="" abortTrigger="">
        	</xf:submission>
        	<xf:submission id="sbm_deletApr" ref="data:json,dma_save" target="" action="SvcRESEXCEXEMD01.pwkjson" method="post" mediatype="application/json"
        		encoding="UTF-8" instance="" replace="" errorHandler="" customHandler="" mode="asynchronous" processMsg="" ev:submit=""
        		ev:submitdone="" ev:submiterror="" abortTrigger="">
        	</xf:submission>
        	<xf:submission id="sbm_saveData" ref='data:json,[{"id":"dma_save","key":"infoVo"},{"id":"dlt_exec_bugt_detail","key":"listVo"}]'
        		target="" action="SvcRESEXCEXEMI01.pwkjson" method="post" mediatype="application/json" encoding="UTF-8" instance="" replace="" errorHandler=""
        		customHandler="" mode="asynchronous" processMsg="" ev:submit="" ev:submitdone="" ev:submiterror="" abortTrigger="">
        	</xf:submission>
        	<xf:submission id="sbm_saveApr" ref='data:json,[{"id":"dma_save","key":"infoVo"},{"id":"dlt_apr_bdget_detail","key":"detailList"}]' target="" action="SvcRESEXCEXEMU02.pwkjson" method="post"
        		mediatype="application/json" encoding="UTF-8" instance="" replace="" errorHandler="" customHandler="" mode="asynchronous"
        		processMsg="" ev:submit="" ev:submitdone="" ev:submiterror="" abortTrigger="">
        	</xf:submission>
        	<xf:submission id="sbm_selectCheckResBgExectAmt" ref="data:json,dma_param" target="" action="SvcRESEXCEXESR05.pwkjson" method="post"
        		mediatype="application/json" encoding="UTF-8" instance="" replace="" errorHandler="" customHandler="" mode="asynchronous"
        		processMsg="" ev:submit="" ev:submitdone="" ev:submiterror="" abortTrigger="">
        	</xf:submission>
        	<xf:submission id="sbm_selectMainAccntChk" ref="data:json,dma_param" target="" action="SvcRESEXCEXESR06.pwkjson" method="post"
        		mediatype="application/json" encoding="UTF-8" instance="" replace="" errorHandler="" customHandler="" mode="asynchronous"
        		processMsg="" ev:submit="" ev:submitdone="" ev:submiterror="" abortTrigger="">
        	</xf:submission>
        	<xf:submission id="sbm_selectRstAmtChk" ref="data:json,dma_param" target="" action="SvcRESEXCEXESR07.pwkjson" method="post" mediatype="application/json"
        		encoding="UTF-8" instance="" replace="" errorHandler="" customHandler="" mode="asynchronous" processMsg="" ev:submit=""
        		ev:submitdone="" ev:submiterror="" abortTrigger="">
        	</xf:submission>
        	<xf:submission id="sbm_selectCheckDrctAmt" ref="data:json,dma_param" target="" action="SvcRESEXCEXESR08.pwkjson" method="post"
        		mediatype="application/json" encoding="UTF-8" instance="" replace="" errorHandler="" customHandler="" mode="asynchronous"
        		processMsg="" ev:submit="" ev:submitdone="" ev:submiterror="" abortTrigger="">
        	</xf:submission>
        </xf:model>
        <script src="/cm/js/biz/res.js" cache="false" />            
        <script type="text/javascript" lazy="false"><![CDATA[
 
    /****************************************************
 	 * 화면 설명 : 실행예산 편성/변경
 	 * 변경 이력 : 2023-10-16	김상미	최초 작성
 	 * 서비스아이디 : RF51
 	 ****************************************************/  
	/**
	 * 참고 정보
	 * dma_static : EIP2.0 전역변수
	 * dlt_accnt_clsf : EIP2.0 AccntClsf
	 **/	
 	scwin.data = {};
 	
 	/**
	 * 페이지 로딩 이벤트
	 */  	        
	scwin.onpageload = function() {
		var param = com.getParameter();
		scwin.data.service_id = "RF51";
		scwin.data.doc_id ="R23";
		scwin.data.rcms_cry_ove_money = 0; //연구비정보
		scwin.data.main_key = ""; //사업신청번호
		scwin.data.approval = false; //결재신청 여부
		
		//화면 로직처리용 input group 숨김처리
		grp_hidden.hide();
		// 타계정(O/H 흡수 비목(예산항목)) 금액 SUM 영역 숨김처리 
		grp_other_amt.hide();
		//계정선택버튼 숨김처리 (추후 조건에 따라 show처리)
		btn_accnt_sel.hide();
		//예산상태명칭조희릉 위한 select box
		sbx_tmp_state.hide();
		//연구비시스템 확인 버튼 숨김 처리	
		btn_ezbaro_check.hide();	
		//실행차수 안내 문구 영역 숨김
		grp_buget_none.hide();
		grp_buget_info.hide();
			
		// 첨부파일 컴포넌트 초기화
		com.file.init();
		// 첨부파일
		com.file.create(upload_A.getID(), {fileKey: scwin.data.service_id, mode: 'edit'});

		com.biz.checkRole({ serviceId : scwin.data.service_id, roleCodes : com.getLoginInfo('roleCode')}, function(e) {
			scwin.data.isRoleYn = e.isRoleYn;
		});	
		
		com.biz.disabledButtons(dma_apr_info.get("apr_state"), dma_apr_info.get("req_no"));		
		
		scwin.initPage(param);
	};
	
	scwin.onpageunload = function() {
		
	};
	
	/**
     * 화면 초기화
     */	
	scwin.initPage = function(param) {
		// 공통코드
		var codeOptions = [ { code : "RDC", compID : "sbx_tmp_state"} //예산상태
		               ];		
		com.setCmnCd(codeOptions, function() {
		});	

		// dataMap 초기화
		com.initDataMap(dma_search);	
		com.initDataMap(dma_info);

		dma_param.setJSON(param);
		
		//팝업으로 오픈된 경우 결재 및 처리 관련 component 영역 숨김처리
		if (dma_param.get("pop_tag") == "Y") {
			grp_top_btn_area.hide();
			grp_bottom_btn_area.hide();
			tbx_info_message.hide();
		}
		
		//PK(비목해소기준) 값에 따라 '[참고] 비목해소기준 [정부-공통4] 설명자료' 링크 show/hide 처리
		dma_static.set("itm_solve_base", dma_param.get("itm_solve_base"));
		
		if (dma_static.get("itm_solve_base") == "IG2101") { 
			btn_docu_view.show("");
		} else {
			btn_docu_view.hide();
		}

		if (dma_param.get("param4") == "apr") {
			if (dma_param.get("req_no").substring(0,3) == "R11") {
				dma_static.set("main_key", dma_param.get("req_no"));
			}
		} else {
			dma_static.set("main_key", dma_param.get("bsns_req_no"));
		}
		
		ibx_cry_fwd_amt.setValue(dma_param.get("cryfwd_amt"));
		ibx_intrst_amt.setValue(dma_param.get("intrst_amt"));
		
		dma_search.set("accnt_no", dma_param.get("accnt_no"));
		dma_search.set("prj_no", dma_param.get("prj_no"));
		
		
		// 전자결재 결재(업무)함-완료함 또는 (신청서)양식함에서 조회 또는 신규 입력 용도로 호출했을 경우...
		if (dma_param.get("param4").trim() == "apr") {
			if (dma_param.get("req_no") !="") { // 전자결재에서 넘어온 사업신청번호가 존재할 경우...
				if (dma_param.get("req_no").substring(0,3) == "R11") {
					dma_static.set("cud_tag", "I");
					btn_accnt_sel.show("");
					// 실행예산 선택 팝업
					btn_accnt_sel.trigger("click");			
				} else {
					dma_static.set("cud_tag", "U");	
					dma_search.set("req_no", dma_param.get("req_no"));	
					// 신청번호로 과제번호/계정번호 가져오는 함수 호출
					scwin.searchPrjnoAccnt();				
				}
			} else { // 전자결재에서 넘어온 사업신청번호가 존재하지 않을 경우...
				dma_static.set("cud_tag", "I");
				btn_accnt_sel.show("");
				// 실행예산 선택 팝업
				btn_accnt_sel.trigger("click");	
			}
		} else {
			if (dma_search.get("accnt_no") =="" && dma_search.get("prj_no") =="") {
				dma_static.set("cud_tag", "I");
				btn_accnt_sel.show("");
				// 실행예산 선택 팝업
				btn_accnt_sel.trigger("click");					
			} else {
				scwin.search();
			}
		}
	};	

	/**
     * 조회실행
     */		
	scwin.search = function() {
		com.execute(sbm_selectResExcBdgetAcctm, {
			successCallback : function(e) {
				console.log(e.responseJSON);
				dma_info.setJSON(e.responseJSON.elData);	
				
				dma_static.set("start_ymd", dma_info.get("start_ymd"));
				dma_static.set("start_ymd_chk", dma_info.get("start_ymd"));
				dma_static.set("cls_ymd", dma_info.get("cls_ymd"));		

				var starYmd = dma_info.get("start_ymd").trim();				
				if ( dma_info.get("start_ymd").trim() != "" && dma_info.get("start_ymd").trim().length == 8) {
					starYmd = starYmd.substring(0,4) + "-" + starYmd.substring(4,6) + "-" + starYmd.substring(6,8);
				}						

				var clsYmd = dma_info.get("cls_ymd").trim();
				if ( dma_info.get("cls_ymd").trim() != "" && dma_info.get("cls_ymd").trim().length == 8) {
					clsYmd = clsYmd.substring(0,4) + "-" + clsYmd.substring(4,6) + "-" + clsYmd.substring(6,8);				
				}						
				tbx_prj_prd_term.setValue(starYmd + "~" + clsYmd);
				dma_static.set("main_accnt_no", dma_info.get("main_accnt_no"));
				dma_static.set("card_use_ex", dma_info.get("card_use_ex"));
				
				if (ibx_tot_start_ymd.getValue().trim() > "20220101" && ibx_tot_start_ymd.getValue().trim() <= "20221220") { // 총 연구기간이 20191231 이상일 경우
					if (ibx_bsns_cd_ofic.getValue().trim() != '022000000') {	// 관계부처가 [산업통장자원부]가 아닐때
						tbx_dsp_indicost_rt_bas.setValue(15.48);
						if (ibx_bsns_cd_ofic.getValue().trim() == '034000000') {        // 공공기관
							tbx_dsp_indicost_rt_bas.setValue(15.00);
						} else if (ibx_bsns_cd_ofic.getValue().trim() == '014000000') { // 민간기업
							tbx_dsp_indicost_rt_bas.setValue(20.00);
						} else if (ibx_bsns_cd_ofic.getValue().trim() == '020000000') { // 정부 및 지자체
							tbx_dsp_indicost_rt_bas.setValue(5.00);
						}
					} else {
						tbx_dsp_indicost_rt_bas.setValue(15.48);
					}				
				} else if (ibx_tot_start_ymd.getValue().trim() >= "20221221") {
					tbx_dsp_indicost_rt_bas.setValue(13.65);
					
				} else if (ibx_tot_start_ymd.getValue().trim() >= "20171229" && ibx_tot_start_ymd.getValue().trim() <= "20191230") {
					tbx_dsp_indicost_rt_bas.setValue(14.7);
						
				} else {
					tbx_dsp_indicost_rt_bas.setValue(13.31);
				}				
				
				if (ibx_bsns_cd_in_out.getValue() != "RHA001") {
					grp_bugget_items.hide();
				} else {
					grp_bugget_items.show("");
				}		
				
				if (dma_static.get("itm_solve_base") == "IG2101") {
					btn_docu_view.show("");
				} else {
					btn_docu_view.hide();
				}						
				
				if (dma_static.get("main_key").trim() == "") {
					dma_static.set("main_key", dma_info.get("bsns_req_no"));
				}
				
				var getTotReschCashAmt = dma_info.get("tot_resch_cash_amt"); // 총현금금액
				var getOhAbsrpRt = dma_info.get("oh_absrp_rt"); // OH흡수율
				var getTotReschCashAmtDsp = Math.round( Number(getTotReschCashAmt) * ( Number(getOhAbsrpRt) / 100) );  
				tbx_tot_res_ch_cash_amt.setValue(getTotReschCashAmtDsp); // O/H 흡수액 편성기준액
				tbx_oh_absrp_rt.setValue(getOhAbsrpRt); // OH흡수율
				
				if (dma_info.get("vacct_no").trim() == "-") {
					grp_vacct_no.hide();
				} else {
					tbx_vacct_no.setValue(dma_info.get("vacct_no"));
				}				
				
				//신청번호로 조회된 과제번호/계정번호에 해당하는 실행예산내역 조회
				com.initDataMap(dma_param);		
				scwin.searchBdgetState();						
			}
		});		
	};

	/**
     * 결재 정보 조회 실행
     */		
	scwin.searchBdgetState = function() {
		com.execute(sbm_selectResExcBdgetAcctmState, {
			successCallback : function(e) {
				console.log(e.responseJSON);
				debugger;
				dma_apr_info.setJSON(e.responseJSON.elData.infoVo);	
				var execBugtDetailList = e.responseJSON.elData.listVo;
				
				if (execBugtDetailList.length > 0) {
					dlt_exec_bugt_detail.setJSON(e.responseJSON.elData.listVo, false);				
				} else {
					dlt_exec_bugt_detail.removeAll();
				}
				
				dma_static.set("state_cd", dma_apr_info.get("state"));
				dma_static.set("state_nm", dma_apr_info.get("state_nm"));
				dma_static.set("exec_bugt_seq_max", dma_apr_info.get("exec_bugt_seq_max"));
				dma_static.set("apr_state", dma_apr_info.get("apr_state"));
				dma_static.set("apr_state_nm", dma_apr_info.get("apr_state_nm"));	
				tbx_req_no.setValue(dma_apr_info.get("req_no"));
				
				//searchApr 함수내에서 로직내에 사용될 로컬변수 선언
				var stateCd = dma_apr_info.get("state");
				var aprState = dma_apr_info.get("apr_state");
				var execBugtSeqMax = dma_static.get("exec_bugt_seq_max");
					
				if (aprState == "") {
					dma_static.set("apr_state_dsp_str", "("+dma_apr_info.get("apr_state_nm")+")");
				}				
				
				if ((stateCd.trim() == "RDC003" && aprState.trim() == "XAD015") || (stateCd.trim() == "RDC004" && aprState.trim() == "XAD100")) {
					dma_static.set("apr_state_dsp_str", "");
				}
				
				var getOthrAccntAmtSum = 0;
				if (dma_apr_info.get("othr_accnt_amt_sum").trim() != "") {
					getOthrAccntAmtSum = dma_apr_info.get("othr_accnt_amt_sum");
				}
				
				tbx_othr_accnt_amt_sum.setValue(getOthrAccntAmtSum);
				tbx_curr_amt.setValue(Number(tbx_othr_accnt_amt_sum.getValue()) + Number(tbx_curr_accnt_amt.getValue()));
				
				if (stateCd == "" || dma_static.get("exec_bugt_seq_max") == "0") {
					grd_exec_bugt_detail.setColumnVisible("bugt_item_amt_01", true);
					
					for (var i = 2; i <= 30; i++) {
						var colNo = (i < 10) ? "0" + i : i;
						grd_exec_bugt_detail.setColumnVisible("bugt_item_amt_" + colNo, false);
					}
					grd_exec_bugt_detail.setColumnReadOnly("bugt_item_amt_01", false);
					grp_buget_none.show("");
					dma_static.set("cud_tag", "I");
				} else {
					// 2~3. 실행예산 상태가 "RDC001"(저장(결재전)), "RDC003"(반려), "RDC002"(결재중), "RDC004"(결재완료) 인 경우..					
					if (stateCd != "" && stateCd < "RDC005") {
						for (var i = 1; i <= 30; i++) {
							var colNo = (i < 10) ? "0" + i : i;
							grd_exec_bugt_detail.setColumnVisible("bugt_item_amt_" + colNo, (i <= Number(execBugtSeqMax)));		
						}
						// 2. 실행예산 상태가 "RDC001"(저장(결재전)), "RDC003"(반려) 인 경우...
						//  실행예산차수 MAX 차수에 대해 수정 모드로 설정한다.
						var colNumber = (execBugtSeqMax < 10) ? "0" + execBugtSeqMax : execBugtSeqMax;
						dma_static.set("edit_exec_bugt_seq", colNumber); // 편집할 실행예산차수를 설정		
										
						if (stateCd == "RDC001" || stateCd == "RDC003" || aprState.trim() == "") { // RDC001    저장(결재전), RDC003 반려
							grd_exec_bugt_detail.setColumnReadOnly("bugt_item_amt_" + colNumber, false);
							dma_static.set("cud_tag", "U");								
						}
						// 3. 실행예산 상태가 "RDC002"(결재중), "RDC004"(결재완료) 인 경우...
						//    실행예산차수 MAX 차수에 대해 조회 모드로 설정한다.
						if (stateCd == "RDC002" || stateCd == "RDC004") {
							if (aprState >= "XAD005" || aprState <= "XAD015") {
								grd_exec_bugt_detail.setColumnReadOnly("bugt_item_amt_" + colNumber, false);
								dma_static.set("cud_tag", "U");
							} else if (aprState >= "XAD020" || aprState <= "XAD100") {
								dma_static.set("cud_tag", "R");
							}
						}						
					} else if (stateCd == "RDC005") {
						// 4. 실행예산 상태가 "RDC005"(예실반영)인 경우...
						for (var i = 1; i <= 30; i++) {
							var colNo = (i < 10) ? "0" + i : i;
							if (i <= Number(dma_static.get("exec_bugt_seq_max")) + 1) { // 기존차수 및 신규편성할 차수
								grd_exec_bugt_detail.setColumnVisible("bugt_item_amt_" + colNo, true);
								if (i == Number(execBugtSeqMax) + 1) { // 편집할 신규편성차수 readOnly 해제
									grd_exec_bugt_detail.setColumnReadOnly("bugt_item_amt_" + colNo, false);
									dma_static.set("edit_exec_bugt_seq", colNo); // 편집할 실행예산차수를 설정
								}
							} else {
								grd_exec_bugt_detail.setColumnVisible("bugt_item_amt_" + colNo, false);
							}
						}
						tbx_req_no.setValue("");
						dma_static.set("cud_tag", "I");				
					}
				}
				
				if (dlt_exec_bugt_detail.getRowCount() > 0) {
					//계정별 대비목/세부비목에 대한 차수별 실행예산 내역 조회 
					scwin.selectBgExectDetail(stateCd);	
				} else {
					scwin.postSearch();
				}
			}
		});		
	};

	/**
     * 신청번호로 과제번호/계정번호 조회 실행
     */		
	scwin.searchPrjnoAccnt = function() {
		com.execute(sbm_selectResExcBdgetPrjAccntNoByReqNo, {
			successCallback : function(e) {
				console.log("scwin.searchPrjnoAccnt ", e.responseJSON);
				debugger;
				var resObj = e.responseJSON.elData;
				if (resObj["accnt_no"]	!= undefined) {
					dma_static.set("prj_no", resObj["prj_no"]);
					dma_static.set("accnt_no", resObj["accnt_no"]);
					dma_static.set("itm_solve_base", resObj["itm_solve_base"]);	
					
					//신청번호로 조회된 과제번호/계정번호에 해당하는 실행예산내역 조회
					com.initDataMap(dma_search);					
					dma_search.set("prj_no", dma_static.get("prj_no"));
					dma_search.set("accnt_no", dma_static.get("accnt_no"));
					scwin.search();									
				}				
			}
		});		
	};

	/**
     * 해당 차수의 실행예산 변경사유 조회
     */		
	scwin.selectResnContntDetail = function() {
		com.execute(sbm_selectResnContntDetail, {
			successCallback : function(e) {
				console.log("scwin.selectResnContntDetail ", e.responseJSON);
				debugger;
				var resObj = e.responseJSON.resExcExeBdgetInfoVoList;			
				//첨부파일 세팅
				var vMode = "edit";
				if (dma_apr_info.get("apr_state") >= "XAD020") {
					vMode = "view";
				}				
				var attachFileNo = resObj[0]["attach_file"].trim();
				com.file.create(upload_A.getID(), {fileKey: (attachFileNo == "") ? scwin.data.service_id :attachFileNo, mode: vMode});
				txa_resn_contnt.setValue(resObj[0]["resn_contnt"]);	
				dma_static.set("resn_contnt", resObj[0]["resn_contnt"]);		
			}
		});		
	};	

	/**
     * 계정별 대비목/세부비목에 대한 차수별 실행예산 내역 조회
     */		
	scwin.selectBgExectDetail = function(stateCd) {
			dma_search.set("itm_solve_base", dma_info.get("itm_solve_base"));
			dma_search.set("exec_bugt_seq_max", dma_static.get("exec_bugt_seq_max"));
			debugger;
			com.execute(sbm_selectResExcBgExectDetail, {
				successCallback : function(e) {
					console.log("scwin.selectBgExectDetail ", e.responseJSON);
					var resObj = e.responseJSON.resExcExeBdgetVoList;	
					console.log(resObj);
					for (var i = 0; i < dma_static.get("exec_bugt_seq_max"); i++) {	
						var itemObj = resObj[i]["detailList"];
						for (var j = 0; j < itemObj.length; j++) {
							var getAmt = itemObj[j]["amt"]; //금액
							var getGridColumnId = itemObj[j]["grid_column_id"]; //그리드 컬럼 ID
							if (getGridColumnId == "XX" || parseInt(getGridColumnId) != dma_static.get("exec_bugt_seq_max")) {
								dlt_exec_bugt_detail.setCellData(j, "grid_column_id", getGridColumnId);
							}
							if (getGridColumnId != "XX") {
								dlt_exec_bugt_detail.setCellData(j, "bugt_item_amt_" + getGridColumnId, getAmt, false);
								dlt_exec_bugt_detail.setCellData(j, "amt", getAmt, false);
							}						
						}	
						if (stateCd != "" && stateCd < "RDC005") {
							// 해당 차수의 실행예산 변경사유 조회
							scwin.selectResnContntDetail();
						}
					}

					scwin.calcBugtItemSum();
					scwin.calcIndirectCostRt();

					scwin.postSearch();					
				}
			});	
	};

	/**
     * 대비목별 합계 처리
     */	
	scwin.calcBugtItemSum = function() {
		var getItmClsfNm = ""; // 대비목
		var getBgAgreeTotSum = 0 ; // 협약예산
	
		var vGridCount = grd_exec_bugt_detail.getRowCount(); // 그리드(예산내역)의 행 갯수
		var vItmClsfNm = grd_exec_bugt_detail.getCellData(0, "itm_clsf_nm", false); // 대비목(체크용)
		var nTotSumCumulate = 0; // 협약예산(누적용)
	
		for (var i = 0; i < vGridCount; i++) {
			getItmClsfNm = grd_exec_bugt_detail.getCellData(i, "itm_clsf_nm", false); // 대비목
			getBgAgreeTotSum = grd_exec_bugt_detail.getCellData(i, "bg_agree_tot_sum", false); // 협약예산
	
			if (getItmClsfNm != vItmClsfNm) {
				dlt_exec_bugt_detail.setCellData(i - 1, "bugt_item_sum", nTotSumCumulate, false);
				vItmClsfNm = getItmClsfNm;
				nTotSumCumulate = 0;
				if (i+1 != vGridCount) {
					nTotSumCumulate = nTotSumCumulate + Number(getBgAgreeTotSum);
				}
			} else {
				nTotSumCumulate = nTotSumCumulate + Number(getBgAgreeTotSum);
			}
		}
	
		nTotSumCumulate = nTotSumCumulate + Number(getBgAgreeTotSum);
		dlt_exec_bugt_detail.setCellData(i - 1, "bugt_item_sum", nTotSumCumulate, false);	
	};

	/**
     * 간접비 계산
     */	
	scwin.calcIndirectCostRt = function() {
	  var nGridCnt      = dlt_exec_bugt_detail.getRowCount();  // 그리드(연구비)의 행 갯수
	  
	  var vItemNm       = "";              // 대비목(명)
	  var totAmt        = "";              // 행별 합
	  var nFae01Sum    = 0 ;  // 대비목(명)의 값이 []'인건비' '직접비' 인 경우...인건비 합계 sum
	  var nFae02Sum    = 0 ;  // 대비목(명)의 값이 []'간접비' 인 경우...간접비 합계 sum
	  var nFae03Sum    = 0 ;  // 대비목(명)의 값이 []'위탁연구비' 인 경우...간접비 합계 sum
	
	  var nChkRate      = 0 ;  // 입력된 간접비 금액에 대한 간접비 비율(체크용)
	  var totReschAmt = 0;
	  var indicostAmt = 0; // 간접비 기준편성액
  	  var indrcRt = tbx_dsp_indicost_rt_inp.getValue();
  
	  for (var i = 0; i < nGridCnt; i++) {
		vItemNm       = grd_exec_bugt_detail.getCellData(i, "itm_clsf_nm" );  		// 대비목(명)
	    totAmt        = grd_exec_bugt_detail.getCellData(i, "bg_agree_tot_sum")  ;   // 협약예산
		
		// 대비목(명)의 값이 []'인건비' 인 경우...인건비 합계 sum
		if (vItemNm.trim() != "위탁연구개발비" && vItemNm.trim() != "간접비") {
			nFae01Sum = nFae01Sum + Number(totAmt); 
		} else if (vItemNm.trim() == "간접비") { // 대비목(명)의 값이 []'간접비' 인 경우...간접비 합계 sum
			nFae02Sum = nFae02Sum + Number(totAmt); 
		} else if (vItemNm.trim() == "위탁연구개발비") { // 대비목(명)의 값이 []'위탁연구비' 인 경우...간접비 합계 sum
			nFae03Sum = nFae03Sum + Number(totAmt); 
		}
	  }

	  if (indrcRt == "15.48") {
	  	totReschAmt = tbx_tot_resch_amt.getValue().trim();

  		totReschAmt = Number(totReschAmt) - Number(nFae03Sum);
  		var tmpIndicostAmt =  indicostAmt / 1000;
		tbx_indicost_amt_bas.setValue(((Math.floor(tmpIndicostAmt)) * 1000)); // 간접비기준금액
  		indicostAmt = totReschAmt - (totReschAmt / 1.1548);
	  } else {
	  	indicostAmt = (nFae01Sum * indrcRt) / 100;
	  }

	  tbx_indicost_amt_bas.setValue(nFae02Sum); // 간접비
	  
	  // 간접비 총금액 체크...간접비 총금액은 인건비(내부+외부) 금액의 14.35% 이하이어야 함 (=> (간접비 합계/인건비+직접비 합계)*100)
	  if ((nFae01Sum) > 0) {
	  	nChkRate = (nFae02Sum / nFae01Sum) * 100; 
	  } else { 
	  	nChkRate = 0.00; 
	  }
	  
	  // 입력된 간접비 금액에 대해 계산된 간접비 비율을 화면에 보여준다.
	  tbx_dsp_indicost_rt_inp.setValue((Math.round(nChkRate * 100)) / 100);
	  scwin.calcIndirectCostRt2();	
	};

	/**
     * 간접비 계산
     */	
	scwin.calcIndirectCostRt2 = function() {
		  var nGridCnt      = grd_exec_bugt_detail.getRowCount();  // 그리드(연구비)의 행 갯수
		  
		  var vItemNm       = "";              // 대비목(명)
		  var totAmt        = "";              // 행별 합
		  var nFae01Sum    = 0 ;  // 대비목(명)의 값이 []'인건비' '직접비' 인 경우...인건비 합계 sum
		  var nFae02Sum    = 0 ;  // 대비목(명)의 값이 []'간접비' 인 경우...간접비 합계 sum
		  var nChkRate      = 0 ;  // 입력된 간접비 금액에 대한 간접비 비율(체크용)
			
		  var indicostAmt = 0; // 간접비 기준편성액
	  	  var indrcRt = tbx_dsp_indicost_rt_inp.getValue();
	  
		  for (var i = 0; i < nGridCnt; i++) {
			vItemNm       = grd_exec_bugt_detail.getCellData(i, "itm_clsf_nm" );  		// 대비목(명)
		    totAmt        = grd_exec_bugt_detail.getCellData(i, "bugt_item_amt_" + dma_static.get("edit_exec_bugt_seq"));   //  n차수 실행예산 금액
			
			// 대비목(명)의 값이 []'인건비' 인 경우...인건비 합계 sum
			if (vItemNm.trim() != "위탁연구개발비" && vItemNm.trim() != "간접비") {
				nFae01Sum = nFae01Sum + Number(totAmt); 
			} else if (vItemNm.trim() == "간접비") { // 대비목(명)의 값이 []'간접비' 인 경우...간접비 합계 sum
				nFae02Sum = nFae02Sum + Number(totAmt); 
			}  
		  }
		  
		  // 간접비 기준 편성액 산정 
		  indicostAmt = (nFae01Sum * indrcRt) / 100;
		  var tmpIndicostAmt =  indicostAmt / 1000;
		  tbx_indicost_amt_bas.setValue( ((Math.floor(tmpIndicostAmt)) * 1000)); // 간접비기준금액
		  tbx_indicost_amt.setValue(nFae02Sum); // 간접비
		  
		  // 간접비 총금액 체크...간접비 총금액은 인건비(내부+외부) 금액의 14.35% 이하이어야 함 (=> (간접비 합계/인건비+직접비 합계)*100)
		  if ((nFae01Sum) > 0) { 
		  	nChkRate = (nFae02Sum / nFae01Sum) * 100; 
		  } else {
		  	nChkRate = 0.00; 
		  }
		  
		  // 입력된 간접비 금액에 대해 계산된 간접비 비율을 화면에 보여준다.
		  tbx_dsp_indicost_rt_inp.setValue((Math.ceil(nChkRate * 100)) / 100);	
	};		
	
	/**
     * 협약대비실행 비율(%) 처리
     */		
	scwin.calcBugtItemRat = function() {
		var getBgAgreeTotSum = 0; // 협약예산
		var getBugtItemAmt = 0; // n차수 실행예산
		var setBugtItemRat = 0.0; // 협약대비실행

		var vGridCount = grd_exec_bugt_detail.getRowCount(); // 그리드(예산내역)의 행 갯수
		// 1. 협약대비실행 비율(%) 계산
		for (var i = 0; i < vGridCount; i++) {
			getBgAgreeTotSum = grd_exec_bugt_detail.getCellData(i, "bg_agree_tot_sum", false); // 협약예산
			getBgAgreeTotSum2 = grd_exec_bugt_detail.getCellData(i, "agrt_cryfwd_amt", false); // 협약이월예산
			getBugtItemAmt = grd_exec_bugt_detail.getCellData(i, "bugt_item_amt_" + dma_static.get("edit_exec_bugt_seq"), false); // n차수 실행예산
			if (Number(getBgAgreeTotSum) == 0 || Number(getBugtItemAmt) == 0) {
				setBugtItemRat = 0.0;
			} else { // 협약대비실행 비율(%) 계산
				if (tbx_accnt_clsf_nm.getValue()!="이월계정") {
					setBugtItemRat = (Number(getBugtItemAmt) / Number(getBgAgreeTotSum)) * 100;
				} else {
					setBugtItemRat = (Number(getBugtItemAmt) / Number(getBgAgreeTotSum2)) * 100;
				}
			}
			dlt_exec_bugt_detail.setCellData(i, "bugt_item_rat", setBugtItemRat, false);
		}

		// 2. 협약대비실행(비목별) 비율(%) 계산
		var vItmClsfNm = ""; // 대비목(체크용)
		var nTotSumCumulate = 0; // 협약예산(누적용)
		var nItemAmtCumulate = 0; // n차수 실행예산(누적용)
		var getItmClsfNm = ""; // 대비목
		var setBgAgreeTotRat = 0.0; // 협약대비실행(비목별)
		var getReschAccntClsf = ""; // 연구계정구분
		var setCurrAccntAmt = 0; // 현계정 누적 금액

		vItmClsfNm = grd_exec_bugt_detail.getCellData(0, "itm_clsf_nm", false);
		nTotSumCumulate = 0;
		nItemAmtCumulate = 0;

		setCurrAccntAmt = 0;

		for (var i = 0; i < vGridCount; i++) {
			getItmClsfNm = grd_exec_bugt_detail.getCellData(i, "itm_clsf_nm", false); // 대비목
			getBgAgreeTotSum = grd_exec_bugt_detail.getCellData(i, "bg_agree_tot_sum", false); // 협약예산
			getBugtItemAmt = grd_exec_bugt_detail.getCellData(i, "bugt_item_amt_" + dma_static.get("edit_exec_bugt_seq"), false); // n차수 실행예산

			if (getItmClsfNm != vItmClsfNm) {
				// 협약대비실행(비목별) 비율(%) 계산
				if (Number(nItemAmtCumulate) == 0 || Number(nTotSumCumulate) == 0) {
					setBgAgreeTotRat = 0;
				} else {
					setBgAgreeTotRat = (nItemAmtCumulate / nTotSumCumulate) * 100;
				}

				dlt_exec_bugt_detail.setCellData(i - 1, "bg_agree_tot_rat", setBgAgreeTotRat, false);
				vItmClsfNm = getItmClsfNm;
				nTotSumCumulate = 0;
				nItemAmtCumulate = 0;

				if (i + 1 != vGridCount) {
					nTotSumCumulate = nTotSumCumulate + Number(getBgAgreeTotSum);
					nItemAmtCumulate = nItemAmtCumulate + Number(getBugtItemAmt);
				}
			} else {
				nTotSumCumulate = nTotSumCumulate + Number(getBgAgreeTotSum);
				nItemAmtCumulate = nItemAmtCumulate + Number(getBugtItemAmt);
			}

			// 연구계정구분(resch_accnt_clsf)이 [FBL010]"내부인건비", [FBL070]"내부장비임차료", [FBL170]"간접경비", [FBL200]"연구개발준비금"인 경우에는 현계정 합계를 구하기 위해 누적시킨다.
			getReschAccntClsf = grd_exec_bugt_detail.getCellData(i, "resch_accnt_clsf", false); // 연구계정구분
			for (var p = 0; p < AccntClsf.length; p++) {
				if (getReschAccntClsf == AccntClsf[p]) {
					setCurrAccntAmt = setCurrAccntAmt + Number(getBugtItemAmt);
				}
			}
		}

		nTotSumCumulate = nTotSumCumulate + Number(getBgAgreeTotSum);
		nItemAmtCumulate = nItemAmtCumulate + Number(getBugtItemAmt);
		setBgAgreeTotRat = (nItemAmtCumulate / nTotSumCumulate) * 100;

		// 협약대비실행(비목별) 비율(%) 계산
		if (Number(nItemAmtCumulate) == 0 || Number(nTotSumCumulate) == 0) {
			setBgAgreeTotRat = 0;
		} else {
			setBgAgreeTotRat = (nItemAmtCumulate / nTotSumCumulate) * 100;
		}

		dlt_exec_bugt_detail.setCellData(i - 1, "bg_agree_tot_rat", setBgAgreeTotRat, false);

		// 현계정 누적 금액을 화면에 표시한다.
		tbx_curr_accnt_amt.setValue(setCurrAccntAmt);

		// 현재금액을 계산하여 화면에 표시한다. (=> 현재금액 = 현계정 누적 금액 + 타계정 총액)
		tbx_curr_amt.setValue(setCurrAccntAmt + Number(tbx_othr_accnt_amt_sum.getValue().trim().replace(/[^0-9\.-]/g, "")));	
	}	
	/**
     * 조회실행 후처리
     */		
	scwin.postSearch = function() {
		
		if (dma_info.get("card_use_ex") == "FAJ007" || dma_info.get("card_use_ex") == "FAJ005") {
			btn_ezbaro_check.show("");
		} else {
			btn_ezbaro_check.hide();				
		}
				
		tbx_curr_bugt_seq.setValue("["+dma_static.get("exec_bugt_seq_max")+"차]");
		tbx_apr_state_dsp.setValue(dma_apr_info.get("state_nm") + dma_static.get("apr_state_dsp_str"));
		grp_buget_info.show("");

		// 결재상태에 따른 각종 버튼 및 오브젝트들 disable 및 invisible 처리
		if (dma_param.get("pop_tag") != "Y") {
			if (dma_apr_info.get("req_no") != "" && dma_apr_info.get("apr_state").trim() >= "XAD020") {
				grp_bottom_btn_area.hide();
			} else {
				grp_bottom_btn_area.show("");
			}
		}	
			
		scwin.compControll();
	};
		
	/**
	 * 목록 버튼 클릭
	 */			
	scwin.btn_list_onclick = function(e) {
		scwin.backToList();
	};
	
	/**
	 * 목록 페이지로 이동
	 */	
	scwin.backToList = function() {
		var data ={};
		com.moveList('JF31');		
	};
		
	/**
	 * 인쇄버튼 클릭 이벤트
	 */			
	scwin.btn_print_onclick = function(e) {
		com.oz.openPopup( {
		    formAlias : dma_info.get("req_no").substring(0,3),
		    reqNo : dma_info.get("req_no"),
		    snapFrame : grp_base_info.getID()
		});			
	};

	/**
	 * 결재신청 클릭 이벤트
	 */			
	scwin.btn_apr_onclick = function(e) {
		scwin.data.approval = true;
		dma_save.set("approval", "true");
		dma_static.set("apprv_req", "Y");
		dma_param.set("accnt_no", tbx_accnt_no.getValue());
		scwin.mainAccntChk();
	};

	/**
	 * 계정선택 클릭 이벤트
	 */		
	scwin.btn_accnt_sel_onclick = function(e) {
		var data = {};	
			
		if (dma_search.get("req_no").substring(0, 3) == "R11") {
			data.bsns_req_no = dma_search.get("req_no");
		}
		
		biz.res.pop.open(biz.res.pop.TYPE.SEL_ACCNT, data, function(ret) {
			if (ret.accnt_no != undefined) {
				dma_search.set("accnt_no", ret.accnt_no);
				dma_search.set("prj_no", ret.prj_no);
				dma_search.set("itm_solve_base", ret.itm_solve_base);
				dma_search.set("bsns_req_no", ret.bsns_req_no);				
				btn_accnt_sel.hide();
				scwin.search();
			}
		});		
	};	

	/**
	 * 설명자료
	 */		
	scwin.btn_docu_view_onclick = function() {
		var url = "https://neip.kitech.re.kr/#w2xPath=/ui/board/boardView.xml?itemId=120074314745&boardId=100000000195";
		window.open(url, "_blank", "width=1024, height = 768, toolbar=no, menubar=no, scrollbars=yes, resizable=yes" );		
	};

	/**
	 * 협약예산복사 버튼 클릭 이벤트 
	 */		
	scwin.btn_copy_bdget_onclick = function(e) {
		scwin.copyBgAgreeTotSum();
	};

	/**
	 * 협약예산복사
	 */		
	scwin.copyBgAgreeTotSum = function() {
		var stateCd = dma_apr_info.get("state_cd");
		var aprState = dma_apr_info.get("apr_state");	

		// 실행예산상태가 [RDC002]'결재중' 또는 [RDC004]'결재완료' 이고 결재상태가 [XAD020]'진행중' ~ [XAD100]'결재완료' 일 경우 return 한다.
		if ((stateCd == "RDC002" || stateCd == "RDC004") && (aprState >= "XAD020" && aprState <= "XAD100")) {
			if ((stateCd.trim() == "RDC003" && aprState.trim() == "XAD015") || (stateCd.trim() == "RDC004" && aprState.trim() == "XAD100")) {
				alert("실행예산상태가 [" + dma_apr_info.get("state_nm") + "]일 경우에는 협약예산복사 기능을 이용할 수 없습니다.");
			} else {
				alert("실행예산상태가 [" + dma_apr_info.get("state_nm") + "(" + dma_apr_info.get("apr_state_nm") + ")]일 경우에는 협약예산복사 기능을 이용할 수 없습니다.");
			}
			return;
		}

		com.confirm("협약예산을 복사하시겠습니까 ?", function(ret) {
			if (!ret) {
				return;		
			} else {
				var getBgAgreeTotSum = 0  ; // 협약예산
				var vGridCount = grd_exec_bugt_detail.getRowCount();
				for (var i = 0; i < vGridCount; i++) {
					getBgAgreeTotSum = grd_exec_bugt_detail.getCellData(i, "bg_agree_tot_sum", false); // 협약예산
					dlt_exec_bugt_detail.setCellData(i, "bugt_item_amt_" + dma_static.get("edit_exec_bugt_seq"), getBgAgreeTotSum, false);
				}
		
				// 협약예산복사 처리후에 모든 행의 상태(Status)를 "U"(Update) 상태로 바꾼다.
				dlt_exec_bugt_detail.modifyAllStatus("U");				
			} 
		});


	};
	
	/**
	 * 이전차수복사 버튼 클릭 이벤트
	 */			
	scwin.btn_copy_before_onclick = function(e) {
		scwin.copyBeforeSeq();
	};

	/**
	 * 이전차수복사
	 */	
	scwin.copyBeforeSeq = function() {
		var stateCd = dma_apr_info.get("state_cd");
		var aprState = dma_apr_info.get("apr_state");	
		
		// 실행예산상태가 [RDC002]'결재중' 또는 [RDC004]'결재완료' 이고 결재상태가 [XAD020]'진행중' ~ [XAD100]'결재완료' 일 경우 return 한다.
		if ((stateCd == "RDC002" || stateCd == "RDC004") && (aprState >= "XAD020" && aprState <= "XAD100")) {
			if ((stateCd.trim() == "RDC003" && aprState.trim() == "XAD015") || (stateCd.trim() == "RDC004" && aprState.trim() == "XAD100")) {
				alert("실행예산상태가 [" + dma_apr_info.get("state_nm") + "]일 경우에는 이전차수복사 기능을 이용할 수 없습니다.");
			} else {
				alert("실행예산상태가 [" + dma_apr_info.get("state_nm") + "(" +  dma_apr_info.get("apr_state_nm") + ")]일 경우에는 이전차수복사 기능을 이용할 수 없습니다.");
			}
			return;
		}
		// 실행예산(1차)에 대한 내역만 존재할 경우...
		if (Number(dma_static.get("edit_exec_bugt_seq")) == 1) {
			alert("이전차수의 실행예산 내역이 없습니다.");
			return;
		}
		// 이전차수복사 처리 확인
		com.confirm("이전차수의 실행예산을 복사하시겠습니까 ?", function(ret) {
			if (!ret) {
				return;		
			} else {
				var vBugtItemAmtN = Number(dma_static.get("edit_exec_bugt_seq")) - 1; // n-1차수 ID
				vBugtItemAmtN = (vBugtItemAmtN < 10) ? "0" + vBugtItemAmtN : vBugtItemAmtN;
				var vGridCount = grd_exec_bugt_detail.getRowCount();
				
				for (var i = 0; i < vGridCount; i++) {
					var getBugtItemAmt = grd_exec_bugt_detail.getCellData(i, "bugt_item_amt_" + vBugtItemAmtN, false); // n-1차수 실행예산
					dlt_exec_bugt_detail.setCellData(i, "bugt_item_amt_" + dma_static.get("edit_exec_bugt_seq"), getBugtItemAmt, false);
				}
				
				dma_static.set("exec_bugt_seq_max", parseInt(dma_static.get("exec_bugt_seq_max")) +1) ;
				// 이전차수복사 처리후에 모든 행의 상태(Status)를 "U"(Update) 상태로 바꾼다.
				dlt_exec_bugt_detail.modifyAllStatus("U");
		
				tbx_req_no.setValue("");
				btn_save.setDisabled(false);			
			}	
		});

		
	};

	/**
	 * SUB계정 실행예산 조회
	 */		
	scwin.btn_srch_sub_bdget_onclick = function(e) {
		var ozrCode = "R038";
		//oz팝업 호출시 전달할 파라메터
		var node = "p_main_accnt_no=" + dma_info.get("accnt_no").substr(0,7) +"0";
		
		com.oz.openPopup({
			ozrCode: ozrCode,
			param: node    
        });			
	};

	/**
	 * 예산변경사유보기
	 */	
	scwin.btn_view_chng_resn_onclick = function(e) {
		var data = {accnt_no:dma_info.get("accnt_no"),
					uid:com.getLoginInfo("uid"),
					apr_state:dma_apr_info.get("apr_state")};		
		biz.res.pop.open(biz.res.pop.TYPE.CHGN_RESN, data, function() {
		});
	};
	
	/**
	 * 협약이월예산복사 버튼 클릭 이벤트
	 */
	scwin.btn_copy_agrt_cryfwd_amt_onclick = function(e) {
		scwin.copyAgrtCryfwdAmt();
	};

	/**
	 * 협약이월예산복사
	 */	
	scwin.copyAgrtCryfwdAmt = function() {
		var stateCd = dma_apr_info.get("state_cd");
		var aprState = dma_apr_info.get("apr_state");	
				
		// 실행예산상태가 [RDC002]'결재중' 또는 [RDC004]'결재완료' 이고 결재상태가 [XAD020]'진행중' ~ [XAD100]'결재완료' 일 경우 return 한다.
		if ((stateCd == "RDC002" || stateCd == "RDC004") && (aprState >= "XAD020" && aprState <= "XAD100")) {
			if ((stateCd.trim() == "RDC003" && aprState.trim() == "XAD015") || (stateCd.trim() == "RDC004" && aprState.trim() == "XAD100")) {
				alert("실행예산상태가 [" + dma_apr_info.get("state_nm") + "]일 경우에는 협약이월예산복사 기능을 이용할 수 없습니다.");
			} else {
				alert("실행예산상태가 [" + dma_apr_info.get("state_nm") + "(" + dma_apr_info.get("apr_state_nm") + ")]일 경우에는 협약이월예산복사 기능을 이용할 수 없습니다.");
			}
			return;
		}
		
		com.confirm("협약이월예산을 실행예산에 복사하시겠습니까 ?", function(ret) {
			if (!ret) {
				return;		
			} else {
				var agrtCryfwdAmtSum = 0  ; // 협약이월예산
				var vGridCount = grd_exec_bugt_detail.getRowCount();
				
				for (var i = 0; i < vGridCount; i++) {
					agrtCryfwdAmtSum = grd_exec_bugt_detail.getCellData(i, "agrt_cryfwd_amt", false); // 협약이월예산
					dlt_exec_bugt_detail.setCellData(i, "bugt_item_amt_" + dma_static.get("edit_exec_bugt_seq"), agrtCryfwdAmtSum, false);
				}
				
				// 이전차수복사 처리후에 모든 행의 상태(Status)를 "U"(Update) 상태로 바꾼다.
				dlt_exec_bugt_detail.modifyAllStatus("U");				
			}			
		});
		

	};

	/**
	 * 그리드 셀 변경 이벤트
	 */	
	scwin.grd_exec_bugt_detail_onviewchange = function(info) {
		var v = grd_exec_bugt_detail.getCellData(info.rowIndex, "resch_accnt_clsf");
		
		if (grd_exec_bugt_detail.getColumnID(info.colIndex) == "bugt_item_amt_" + dma_static.get("edit_exec_bugt_seq")) {
			scwin.calcIndirectCostRt2();
			if (info.newValue != info.oldValue) {
				// 협약대비실행 비율(%) 처리
				for (var i = 0; i < dlt_accnt_clsf.getRowCount(); i++) {
					if (v == dlt_accnt_clsf.getCellData(i, "code")) {
						scwin.calcBugtItemRat();
						return true;
					}
				}
			}
		}		
	};

	/**
	 * 그리드 셀 edit종료 후 이벤트
	 */		
	scwin.grd_exec_bugt_detail_onafteredit = function(row,col,value) {
		var vItemNm = grd_exec_bugt_detail.getCellData(row, "bugt_item_nm" ).trim(); // 대비목(명)
		var value = grd_exec_bugt_detail.getCellData(row, col);
		var itemNm = ["간접경비", "연구개발준비금", "연구개발능률성과급", "지식재산권경비", "과학문화활동비", "연구실안전관리비", "연구보안관리비", "연구윤리활동비"];
		
		if (itemNm.includes(vItemNm)) {
			if (ibx_accnt_clsf.getValue()=="RAR002") {
        		if (value > 0) {
					alert("sub계정은 간접비를 편성할 수 없습니다.");
					dlt_exec_bugt_detail.setCellData( row , col , 0 );
					return;
				}
			}
       	} 		
	};
	
	
	/**
	 * 연구노트신청 바로가기
	 */			
	scwin.btn_note_req_onclick = function() {
		var data = {param5:"R55",
					param4:"apr"};
		com.openTabMenu("R656", data);		
	};
	
	/**
	 * 연구비시스템확인 버튼 클릭 이벤트
	 */
	scwin.btn_ezbaro_check_onclick = function(e) {
		var options = {
		    id: "OVE_MONEY",
		    popupName: "통합이지바로RCMS이월연구비정보",
		    width: 680,
		    height: 560
		};
		
		if (dma_info.get("card_use_ex") =="FAJ007") {
			options.popupName ="통합이지바로 연구비 정보";	
		} else if (dma_info.get("card_use_ex") =="FAJ005") {
			options.popupName = "RCMS 연구비 정보";	
			options.height = 260;
		}
		
	    //연구비시스템 확인 팝업 오픈
		scwin.openEzPopup(options);
	};

	/**
	 * 연구비시스템확인 팝업 오픈
	 */	
	scwin.openEzPopup = function(options) {
		var data = {accnt_no:dma_info.get("main_accnt_no"),
					prj_no:dma_info.get("prj_no"),
					card_use_ex:dma_info.get("card_use_ex"),
					save_clsf:dma_static.get("save_clsf"),
					apprv_req:dma_static.get("apprv_req")};		

		com.openPopup("/ui/res/pop/RES_EXA_R492_00P.xml", options, data, function(ret) {
			if (ret) {
				console.log(ret);
				dma_static.set("cry_ove_money_yn", "Y");
				scwin.data.rcms_cry_ove_money = ret.cry_ov_amt;
				
			}
		});
	};

	/**
	 * 삭제버튼 클릭 이벤트
	 */		
	scwin.btn_del_onclick = function(e) {
		scwin.remove();
	};

	/**
	 * 삭제실행
	 */		
	scwin.remove = function() {
		if (tbx_req_no.getValue() == "") {
			alert("신청번호가 존재하지 않습니다.");
			return;
		}
		
		var aprState = ["XAD005", "XAD010", "XAD013","XAD015"];
		
		if (!aprState.includes(dma_apr_info.get("apr_state"))) {
			alert("결재가 진행중이거나 완료된 실행예산 편성은 삭제할 수 없습니다.");
			return;
		}
				
		com.confirm("실행예산 편성 데이터를 삭제하시겠습니까?", function(ret) {
			if (!ret) {
				return;
			} else {
				dma_save.set("accnt_no", dma_info.get("accnt_no"));
				dma_save.set("req_no", tbx_req_no.getValue());
				dma_save.set("exec_bugt_seq", dma_static.get("exec_bugt_seq_max"));
				dma_save.set("accnt_state", "RAK041");
				dma_save.set("apr_state", dma_apr_info.get("apr_state"));
				com.file.deleteAll(function() {	
					com.execute(sbm_deletApr, {
						successCallback : function(e) {
							alert("실행예산 편성이 삭제 완료 되었습니다.", function() {
								if (dma_param.get("param4") == "apr") {
									com.openTabMenu("A010", {});
								} else {
									scwin.backToList();							
								}
							});				
						}
					});
				});				
			}
		});
		
			
	};
	
	/**
	 * 임시저장 버튼 클릭 이벤트
	 */		
	scwin.btn_temp_save_onclick = function(e) {
		if (dma_static.get("cry_ove_money_yn") != "Y" &&(dma_static.get("card_use_ex") == "FAJ007" || dma_static.get("card_use_ex") == "FAJ005")) {
			alert("연구비시스템 확인을 먼저 진행하여 주시고, 저장하여 주시기바랍니다.");
			return false;
		}
		dma_static.set("save_clsf", "preSave");		
	
		dma_save.set("approval", "false");
		scwin.data.approval = false;
		scwin.save();
	};

	/**
	 * 저장버튼 클릭 이벤트
	 */		
	scwin.btn_save_onclick = function(e) {
		if (dma_static.get("cry_ove_money_yn") != "Y" &&(dma_static.get("card_use_ex") == "FAJ007" || dma_static.get("card_use_ex") == "FAJ005")) {
			alert("연구비시스템 확인을 먼저 진행하여 주시고, 저장하여 주시기바랍니다.");
			return false;
		}		
		dma_save.set("approval", "false");
		dma_static.set("save_clsf", "saveYes");
		dma_static.set("apprv_req", "N");
		scwin.data.approval = false;
		dma_param.set("accnt_no", tbx_accnt_no.getValue());
		scwin.mainAccntChk();
	};

	/**
	 * 저장 데이터 처리
	 */			
	scwin.save = function() {
		var bsnsCdInout = ibx_bsns_cd_in_out.getValue().trim(); // 사업코드내외(코드)
		var getDspIndicostRtInp = tbx_dsp_indicost_rt_inp.getValue();
		var getIndrcRt = tbx_dsp_indicost_rt_bas.getValue();
		
		var indicostAmtBas = tbx_indicost_amt_bas.getValue();
		var indicostAmt = tbx_indicost_amt.getValue();
		var costAmt = Number(indicostAmtBas) - Number(indicostAmt);
		var stateCd = dma_apr_info.get("state_cd");
		var aprState = dma_apr_info.get("apr_state");			

		if (bsnsCdInout == "RHA001") {
			if ( parseFloat(getDspIndicostRtInp) > getIndrcRt) {
	        	if (!confirm("협약예산 간접비 편성 비율이 기준비율을 초과합니다.\n그래도 계속 하시겠습니까?")) {
	        		return;
	        	}
			}
			
			if (indicostAmt > indicostAmtBas) {
				if (!confirm("간접비 편성액이 기준비율을  "+ costAmt +"원 초과합니다.\n그래도 계속 하시겠습니까?")) {
					return;
				}
			}
		}
			
		// 실행예산상태가 [RDC002]'결재중' 또는 [RDC004]'결재완료' 이고 결재상태가 [XAD020]'진행중' ~ [XAD100]'결재완료' 일 경우 return 한다.
		if ((stateCd == "RDC002" || stateCd == "RDC004") && (aprState >= "XAD020" && aprState <= "XAD100")) {
			if ((stateCd.trim() == "RDC003" && aprState.trim() == "XAD015") || (stateCd.trim() == "RDC004" && aprState.trim() == "XAD100")) {
				alert("실행예산상태가 [" + dma_apr_info.get("state_nm") + "]일 경우에는 저장 기능을 이용할 수 없습니다.");
			} else {
				alert("실행예산상태가 [" +  dma_apr_info.get("state_nm") + "(" +  dma_apr_info.get("apr_state_nm") + ")]일 경우에는 저장 기능을 이용할 수 없습니다.");
			}
			return;
		}

		// 20160426 추가 > 임시저장 및 저장 시, 학생인건비 관련 금액 검증(김상희 팀장요청)
		var vItemClsfCd = "";
		var nBugtItemAmt = 0;
		var nCauseItemAmt = 0;
		var nFae015Sum = 0;
		var nEnfrcFae015Sum = 0;
		var nGridCnt = dlt_exec_bugt_detail.getRowCount();

		for (var i = 0; i < nGridCnt; i++) {
			vItemClsfCd = dlt_exec_bugt_detail.getCellData(i, "itm_clsf"); // 대비목(코드)
			nBugtItemAmt = dlt_exec_bugt_detail.getCellData(i, "bugt_item_amt_" + dma_static.get("edit_exec_bugt_seq")); // n차수 실행예산 금액
			nCauseItemAmt = dlt_exec_bugt_detail.getCellData(i, "enfrc_cause_amt"); // 집행금액(원인행위금액포함)
			if (vItemClsfCd.trim() == "FAE015") {
				nFae015Sum = Number(nFae015Sum) + Number(nBugtItemAmt); // 학생인건비 실행예산편성금액
				nEnfrcFae015Sum = Number(nEnfrcFae015Sum) + Number(nCauseItemAmt); // 학생인건비 집행금액
			}
		}

		// 학생인건비는 집행금액기준으로 실행예산편성금액이 같거나 커야한다. 20160426 김상희 팀장 요청
		if (Number(nFae015Sum) < Number(nEnfrcFae015Sum)) {
			alert("학생인건비는 실행예산금액이 집행금액과 같거나 커야합니다.");
			return false;
		}
		
		if (dma_static.get("save_clsf") != "preSave" && dma_static.get("save_clsf") != "saveYes") {
			if (tbx_accnt_no.getValue() != "PNK21931" && tbx_accnt_no.getValue() != "PNK21932" && tbx_accnt_no.getValue() != "PNK21933" && tbx_accnt_no.getValue()!="PNK23340") {
				if (!scwin.preSave()) {
					return;
				}
			}
		}
		scwin.excuteSave();
	}

	/**
	 * 저장 실행
	 */			
	scwin.excuteSave = function() {
		if (ibx_accnt_clsf.getValue() == "RAR004") {
			var vGridCount = dlt_exec_bugt_detail.getRowCount();
			for (var i = 0; i < vGridCount; i++) {
				if (grd_exec_bugt_detail.getFooterData( "sum_bugt_item_amt_" + dma_static.get("edit_exec_bugt_seq") , "" ) 
					> grd_exec_bugt_detail.getFooterData( "sum_agrt_cryfwd_amt" , "" )) {
					alert("실행예산 " + dma_static.get("edit_exec_bugt_seq") + "차의 총액이 협약이월 예산보다 초과되어 저장 불가능합니다. 자세한 사항은 연구관리총괄부서에 문의 바랍니다.");
					return false;
				}
			}
		}
		
		if (dma_static.get("card_use_ex") == "FAJ007") {
			if (grd_exec_bugt_detail.getFooterData( "sum_agrt_cryfwd_amt" , "" ) > dma_static.get("ezbaro_cry_ove_money")) {
				if (!confirm("통합이지바로의 이월 예산보다 초과하였습니다. \n그래도 계속 하시겠습니까?")) {
					return;
				}
			}
		} else if (dma_static.get("card_use_ex") == "FAJ005") {
			if (grd_exec_bugt_detail.getFooterData( "sum_agrt_cryfwd_amt" , "" ) > dma_static.get("rcms_cry_ove_money")) {
				if (!confirm("RCMS의 이월 예산보다 초과하였습니다. \n그래도 계속 하시겠습니까?")) {
					return;
				}
			}
		}
		
		if (dma_static.get("apprv_req") != "Y") {
			if (!confirm("데이터를 저장하시겠습니까?")) {
				return;
			}
		}

		var status = "";
		var getAmt = ""; // 실행예산 금액 보관 변수

		// n차수 실행예산 내역(MASTER)
		dma_save.set("accnt_no", tbx_accnt_no.getValue()); // 계정번호
		dma_save.set("exec_bugt_seq", Number(dma_static.get("edit_exec_bugt_seq"))); // 실행예산차수
		dma_save.set("req_no", tbx_req_no.getValue());
		dma_save.set("state", dma_static.get("state_cd"));
		dma_save.set("regst_syspayno", com.getLoginInfo("sn")); // 등록시스템개인번호
		dma_save.set("updt_syspayno", com.getLoginInfo("sn")); // 수정시스템개인번호
		dma_save.set("crud_tag", dma_static.get("cud_tag")); // Insert or Update Tag
		dma_save.set("uid", com.getLoginInfo("uid")); // 사용자로그인아이디
		dma_save.set("service_id", scwin.data.service_id); // 서비스아이디
		dma_save.set("doc_id", scwin.data.doc_id);	//신청서유형

		// n차수 변경사유 내역(MASTER)
		dma_save.set("resn_contnt", txa_resn_contnt.getValue()); // 사유내용

		// 예산(협약예산/집행금액(원인금액포함)/차수별실행예산) 내역
		var gridExecBugtCount = dlt_exec_bugt_detail.getRowCount();

		for (var i = 0; i < gridExecBugtCount; i++) {
			// status   => [0] read, [1] update, [2] create, [3] delete, [4] create & delete
			// cud_flag => [insert] 추가, [update] 수정, [delete] 삭제
			var status = dlt_exec_bugt_detail.getRowStatusValue(i);

			// crudTag의 값이 "I"[신규등록]일 때...강제로 "update" 상태인 넘을 강제로 "insert" 처리되도록 설정한다.
			// 20160525 협약예산부터 집행금액까지 모두 0인 세부비목(회계코드)는 저장되지 않는 현상 발생으로 status 조건 제거
			if (dma_static.get("cud_tag") == "I") { // 신규등록
				dlt_exec_bugt_detail.setCellData(i, "cud_flag", (status == "3" ? "delete" : "insert"));
				dlt_exec_bugt_detail.setCellAllData(i, "state", "RDC001"); // 실행예산 상태([RDC001]'저장(결재전)')
				
			} else if (dma_static.get("cud_tag") == "U") { // 수정
				if (status == "0" || status == "1") {
					dlt_exec_bugt_detail.setCellData(i, "cud_flag", "update");
				} else if (status == "3") {
					dlt_exec_bugt_detail.setCellData(i, "cud_flag", "delete");
				} else {
					dlt_exec_bugt_detail.setCellData(i, "cud_flag", "insert");
				}
			}

			getAmt = dlt_exec_bugt_detail.getCellData(i, "bugt_item_amt_" + dma_static.get("edit_exec_bugt_seq"), false); // 실행예산 금액
			if (getAmt.trim() == "") {
				getAmt = "0";
			}
			dlt_exec_bugt_detail.setCellData(i, "amt", getAmt); // 실행예산 금액
		}			
	
		com.file.transport(function(attachObj) {	
			dma_save.set("attach_file", attachObj.upload_A);
			
			var attaches = [];
			if (attachObj.upload_A !="") {
				attaches.push(attachObj.upload_A);
			}
			dma_save.set("validAttachNo", attaches.join(","));		
			com.execute(sbm_saveData, {
				successCallback : function(e) {
					console.log(e.responseJSON);
					var resObj = e.responseJSON.elData;
					dma_static.set("save_clsf", "");
	
					if (scwin.data.approval) {
						scwin.updateApprovalRef();
					} else {
						com.alert("message.xom.wq.023"/*정상적으로 처리되었습니다.*/, function() {
							scwin.search();
						});	
					}
				}
			});		
		});
		

	};
	
	/**
	 * 결재요청시 저장후 결재상태 변경 및 결재신청 확인
	 */	
	scwin.updateApprovalRef = function() {
		var stateCd = dma_apr_info.get("state");
		var aprState = dma_apr_info.get("apr_state");
				
		// 실행예산상태가 [RDC002]'결재중' 또는 [RDC004]'결재완료' 이고 결재상태가 [XAD020]'진행중' ~ [XAD100]'결재완료' 일 경우 return 한다.
		if ((stateCd == "RDC002" || stateCd == "RDC004") && (aprState >= "XAD020" && aprState <= "XAD100")) {
			if ((stateCd.trim() == "RDC003" && aprState.trim() == "XAD015") ||
				(stateCd.trim() == "RDC004" && aprState.trim() == "XAD100")) {
				alert("실행예산상태가 [" + dma_apr_info.get("state_nm") + "]일 경우에는 결재신청 기능을 이용할 수 없습니다.");
			} else {
				alert("실행예산상태가 [" + dma_apr_info.get("state_nm") + "(" + dma_apr_info.get("apr_state_nm") + ")]일 경우에는 결재신청 기능을 이용할 수 없습니다.");
			}
			return;
		}

		if (tbx_req_no.getValue().trim() == "") {
			alert("전자결재 신청을 위한 전자결재 신청번호가 존재하지 않거나, loading 되지 않았습니다.\n실행예산 편성/변경 내역을 다시 조회하신 후, 결재신청하세요.");
			return
		}

		com.confirm("전자결재 신청하시겠습니까 ?", function(ret) {
			if (!ret) {
				return;
			} else {
				debugger;
				dma_save.set("accnt_no", tbx_accnt_no.getValue()); // 계정번호
				dma_save.set("exec_bugt_seq", Number(dma_static.get("edit_exec_bugt_seq"))); // 실행예산차수
				dma_save.set("req_ymd", ""); // 신청일자
				dma_save.set("req_psn", com.getLoginInfo("sn")); // 신청자
				dma_save.set("state", "RDC002"); // 신청상태([RDC002]'결재중')
				dma_save.set("updt_syspayno", com.getLoginInfo("sn"));
				dma_save.set("accnt_state", "RAK031"); // 계정상태([RAK031]'실행예산변경중')	
				dma_save.set("curr_resch_rspns_sys", ibx_curr_resch_rspns_sys.getValue()) // 연구책임자 시스템 개인번호
		
				var reschRspnsSysPNo = ""; // 연구책임자 시스템 개인번호
				var chargPsnSysPNo = ""; // 담당자 시스템 개인번호
				var accntRespnsSysPNo = ""; // 계정책임자 시스템 개인번호
				var bugtCtrlPsnSysPNo = ""; // 예산통제자 시스템 개인번호
				var attnceReschrSysPNo = ""; // 참여연구원 시스템 개인번호
		
				var aplyNode = ""  ; // 전자결재 전문 XML Vector Syntax
				var getInstanceNode = null; // 전자결재 신청을 위한 InstanceNode
				var xslUrl = ""  ; // XSL File Path & File Name
		
				var accnt_rspns_str1 = "(성명)" + tbx_accnt_rspns_nm.getValue().trim() + "  (직급)" + tbx_posi_nm.getValue().trim() + "  (소속)" + tbx_dept_nm.getValue().trim();
				var accnt_rspns_str2 = tbx_accnt_rspns_nm.getValue().trim() + " (" + ibx_accnt_rspns_empno.getValue().trim() + ")";
				var resch_rspns_str1 = tbx_curr_resch_rspns_nm.getValue().trim() + " (" + ibx_curr_resch_rspns_sys.getValue().trim() + ")";
				
				//스냅샷에 출력될 내용
				dma_save.set("resch_prd_term", tbx_prj_prd_term.getValue().trim()); // 과제기간(시작일~종료일)
				dma_save.set("accnt_state_nm", tbx_accnt_state_nm.getValue().trim()); // 계정상태
				dma_save.set("accnt_clsf_nm", tbx_accnt_clsf_nm.getValue().trim()); // 계정구분
				dma_save.set("bsns_cd_bsns_nm", tbx_bsns_cd_bsns_nm.getValue().trim()); // 사업구분
				dma_save.set("prj_nm", tbx_prj_nm.getValue().trim()); // 과제명
				dma_save.set("tot_resch_amt", tbx_tot_resch_amt.getValue().trim()); // 총연구비
				dma_save.set("accnt_rspns_str", accnt_rspns_str2); // 계정책임자
				dma_save.set("posi_nm", tbx_curr_posi_nm.getValue().trim()); // 직급
				dma_save.set("dept_nm", tbx_curr_dept_nm.getValue().trim()); // 소속
				dma_save.set("resn_contnt", txa_resn_contnt.getValue().trim()); // 변경사유
				dma_save.set("exec_bugt_seq", Number(dma_static.get("edit_exec_bugt_seq"))); // 해당 실행예산차수
				dma_save.set("apr_exec_bugt_seq", Number(dma_static.get("edit_exec_bugt_seq")) + "차"); // 해당 실행예산차수
				dma_save.set("req_no", tbx_req_no.getValue().trim()); // 결재신청번호
				dma_save.set("drctText", dma_static.get("drct_text")); // 메시지
				
				if (ibx_bsns_cd_in_out.getValue() == "RHA001") {
					dma_save.set("bsns_yn", "Y");
					dma_save.set("indicost_rt_inp", tbx_dsp_indicost_rt_inp.getValue() +"% (기준 : " + tbx_dsp_indicost_rt_bas.getValue() + "% 이하)" ); 
					dma_save.set("indicost_amt", tbx_indicost_amt.getValue() +"원  (기준 : " + tbx_indicost_amt_bas.getValue() + "원  이하)" ); 
				}
				
				// 연구책임자 정보란 추가 (2012.02.21 남지원 대리) 사업총괄실 김현숙 요청
				dma_save.set("resch_rspns_str", resch_rspns_str1); // 계정책임자
				dma_save.set("curr_posi_nm", tbx_curr_posi_nm.getValue().trim()); // 직급
				dma_save.set("curr_dept_nm", tbx_curr_dept_nm.getValue().trim()); // 소속		
		
				// 그리드(grd_exec_bugt_detail;실행예산 편성/변경 내역)의 순번 계산
				// 1:각 금액 컬럼의 값이 ""일 때, "0"으로 세팅
				// 2:각 금액 컬럼의 값에 대한 합계(누적) 금액 세팅
				var sAmtSumColId = 0 ; // 해당 실행예산차수
				var getBgAgreeTotSum = ""; // 협약예산
				var getBugtItemSum = ""; // 대비목별합계(협약)
				var getEnfrcCauseAmt = ""; // 집행금액(원인금액포함)
				var getBugtItemRat = ""; // 협약대비실행(%)
				var getBgAgreeTotRat = ""; // 협약대비실행(비목별)(%)
				var getAmt = ""; // 실행예산금액
				var getPreAmt = ""; // 실행예산금액
				var nBgAgreeTotSumSum = 0 ; // (누적)협약예산
				var nBugtItemSumSum = 0 ; // (누적)대비목별합계(협약)
				var nEnfrcCauseAmtSum = 0 ; // (누적)집행금액(원인금액포함)
				var nBugtItemRatSum = 0 ; // (누적)협약대비실행(%)
				var nBgAgreeTotRatSum = 0 ; // (누적)협약대비실행(비목별)(%)
				var nAmtSum = 0 ; // (누적)실행예산금액
				var nPreAmtSum = 0 ; // (누적)실행예산금액
				var currReschRspnsSys = "";
				var sPreAmtSumColId = 0 ;
				var tmpAmtColId = 0;
					
				sAmtSumColId = "bugt_item_amt_" + dma_static.get("edit_exec_bugt_seq"); // 해당 실행예산차수			
		
				if (Number(dma_static.get("edit_exec_bugt_seq")) > 1) {
					tmpAmtColId = Number(dma_static.get("edit_exec_bugt_seq")) - 1;
					if (tmpAmtColId > 9) {
						sPreAmtSumColId = "bugt_item_amt_" + tmpAmtColId; // 해당 실행예산차수
					} else {
						sPreAmtSumColId = "bugt_item_amt_0" + tmpAmtColId; // 해당 실행예산차수
					}
				} else {
					sPreAmtSumColId = "bugt_item_amt_0";
				}	
		
				var comitYn = "N";
				var bugtItemYn = "";
				var gridColumnId = "";		
				
				dlt_apr_bdget_detail.setJSON(dlt_exec_bugt_detail.getAllJSON(), false);
				for (var i = 0; i < dlt_apr_bdget_detail.getRowCount(); i++) {
					console.log("체크>>", i);
					dlt_apr_bdget_detail.setCellData(i, "no", i+1);
					// 1:각 금액 컬럼의 값이 ""일 때, "0"으로 세팅
					getBgAgreeTotSum = Number(dlt_apr_bdget_detail.getCellData(i, "bg_agree_tot_sum")); // 협약예산
					getBugtItemSum = Number(dlt_apr_bdget_detail.getCellData(i, "bugt_item_sum")); // 대비목별합계(협약)
					getEnfrcCauseAmt = Number(dlt_apr_bdget_detail.getCellData(i, "enfrc_cause_amt")); // 집행금액(원인금액포함)
					getBugtItemRat = Number(dlt_apr_bdget_detail.getCellData(i, "bugt_item_rat")); // 협약대비실행(%)
					getBgAgreeTotRat = Number(dlt_apr_bdget_detail.getCellData(i, "bg_agree_tot_rat")); // 협약대비실행(비목별)(%)
					getAmt =  Number(dlt_apr_bdget_detail.getCellData(i, "" + sAmtSumColId + "")); // 실행예산금액(해당차수)
					getPreAmt = Number(dlt_apr_bdget_detail.getCellData(i, "" + sPreAmtSumColId + "")); // 실행예산금액(해당차수)
					bugtItemYn = Number(dlt_apr_bdget_detail.getCellData(i, "bugt_item_yn"));
					gridColumnId = Number(dlt_apr_bdget_detail.getCellData(i, "grid_column_id"));		
	
					// 2:각 금액 컬럼의 값에 대한 합계(누적) 금액 세팅
					nBgAgreeTotSumSum = nBgAgreeTotSumSum + getBgAgreeTotSum; // (누적)협약예산
					nBugtItemSumSum = nBugtItemSumSum + getBugtItemSum; // (누적)대비목별합계(협약)
					nEnfrcCauseAmtSum = nEnfrcCauseAmtSum + getEnfrcCauseAmt; // (누적)집행금액(원인금액포함)
					nAmtSum = nAmtSum + getAmt; // (누적)실행예산금액
					nPreAmtSum = nPreAmtSum + getPreAmt; // (누적)실행예산금액						
		
					// XC220150090D (20150519)
					// 기관주요사업 실행예산 변경 전자결재시 협약예산 대비 신설된 세비목 200만원 변경 편성되면 상신자 및 연구관리담당자
					// 결재시 팝업에 소연심 승인사항 안내 메일 발송 또는 인지 할수 있는 방법 개선 요청
					var bsnsCdInout = ibx_bsns_cd_in_out.getValue();
					var tmpAgreeAmt = getBgAgreeTotSum;
					var tmpBugtAmt = getAmt;	
		
					if (bsnsCdInout == "RHA002" && bugtItemYn == "N" && gridColumnId == "XX" && (tmpBugtAmt - tmpAgreeAmt >= 2000000)) {
						comitYn = "Y";
						dlt_apr_bdget_detail.setCellData(i, "color", "yellow");
					} else {
						dlt_apr_bdget_detail.setCellData(i, "color", "");
					}
		
					if (Number(dma_static.get("edit_exec_bugt_seq")) < 2) {
						if (getBgAgreeTotSum == 0 && getAmt > 0) {
							dlt_apr_bdget_detail.setCellData(i, "color", "blue");
						} else {
							dlt_apr_bdget_detail.setCellData(i, "color", "");
						}
					} else {
						if (getPreAmt != getAmt) {
							dlt_apr_bdget_detail.setCellData(i, "color", "blue");
						} else {
							dlt_apr_bdget_detail.setCellData(i, "color", "");
						}
					}
					
					dlt_apr_bdget_detail.setCellData(i, "bg_agree_tot_sum", getBgAgreeTotSum); // 협약예산
					dlt_apr_bdget_detail.setCellData(i, "bugt_item_sum", getBugtItemSum); // 대비목별합계(협약)
					dlt_apr_bdget_detail.setCellData(i, "enfrc_cause_amt", getEnfrcCauseAmt); // 집행금액(원인금액포함)
					dlt_apr_bdget_detail.setCellData(i, "bugt_item_rat", getBugtItemRat); // 협약대비실행(%)
					dlt_apr_bdget_detail.setCellData(i, "bg_agree_tot_rat", getBgAgreeTotRat); // 협약대비실행(비목별)(%)
					dlt_apr_bdget_detail.setCellData(i, "amt", getAmt); // 실행예산금액
					dlt_apr_bdget_detail.setCellData(i, "pre_amt", getPreAmt); // 실행예산금액		
				}
				
				dma_save.set("commit_yn", comitYn);
				// =======================================================================================
				// 각 금액 컬럼의 값에 대한 합계(누적) 금액 세팅
				// =======================================================================================
				var tmpSum = nAmtSum/nBgAgreeTotSumSum;
				//(누적)협약대비실행(%)
				nBugtItemRatSum = (Math.round(((tmpSum) * 100) * 100)) / 100; 
				// (누적)협약대비실행(비목별)(%)
		 		nBgAgreeTotRatSum = (Math.round(((tmpSum) * 100) * 100)) / 100;				
		 
				dma_save.set("tot_bg_agree_tot_sum", nBgAgreeTotSumSum); // (누적)협약예산
				dma_save.set("tot_bugt_item_sum", nBugtItemSumSum); // (누적)대비목별합계(협약)
				dma_save.set("tot_enfrc_cause_amt", nEnfrcCauseAmtSum); // (누적)집행금액(원인금액포함)
				dma_save.set("tot_bugt_item_rat", nBugtItemRatSum); // (누적)협약대비실행(%)
				dma_save.set("tot_bg_agree_tot_rat", nBgAgreeTotRatSum); // (누적)협약대비실행(비목별)(%)
				dma_save.set("tot_amt", nAmtSum); // (누적)실행예산금액
				dma_save.set("tot_pre_amt", nPreAmtSum); // (누적)실행예산금액
				
				dma_save.set("info_cd", dma_info.get("prj_nm")); // (누적)실행예산금액
		 						 
				com.execute(sbm_saveApr, {
					successCallback : function(e) { // 성공 콜백
						console.log(e.responseJSON);
						var resObj = e.responseJSON.elData;
						scwin.postApprovalRef(resObj);
					}
				});					
			}
		});	
	};

	/**
	 * 결재요청시 저장후 실행
	 */		
	scwin.postApprovalRef = function(resObj) {
		// 수정 처리된 상태 및 신청일자, 신청자를 전달받아 각 object 에 세팅한다.
		var getState = resObj["state"]; // 상태
		var getReqYmd = resObj["req_ymd"]; // 신청일자
		var getReqPsn = resObj["req_psn"]; // 신청자

		// 전자결재인터페이스)결재상태, 결재상태(명)의 값을 전역변수에 보관한다.
		var getAprState = resObj["apr_state"]; // (전자결재인터페이스)결재상태
		var getAprStateNm = resObj["apr_state_nm"]; // (전자결재인터페이스)결재상태(명)

		ibx_req_ymd.setValue(getReqYmd); // 신청일자
		ibx_req_psn.setValue(getReqPsn); // 신청자
		dma_static.set("state_cd", getState); // 수정 처리된 (예산)상태의 값을 전역변수(stateCd)에 보관한다.
		sbx_tmp_state.setValue(getState); // 수정 처리된 (예산)상태의 명칭을 읽어온다.
		dma_static.set("state_nm", sbx_tmp_state.getText()); // 읽어온 (예산)상태의 명칭을 값의 값을 전역변수(stateNm)에 보관한다.
		// 전자결재인터페이스)결재상태, 결재상태(명)의 값을 전역변수(aprState, aprStateNm)에 보관한다.
		dma_static.set("apr_state", getAprState); // (전자결재인터페이스)결재상태
		dma_static.set("apr_state_nm", getAprStateNm); // (전자결재인터페이스)결재상태(명)
		
		if (dma_static.get("apr_state_nm").trim() != "") {
			dma_static.set("apr_state_dsp_str", "(" + dma_static.get("apr_state_nm").trim() + ")");
		}
		if ((getState.trim() == "RDC003" && dma_static.get("apr_state").trim() == "XAD015") || (getState.trim() == "RDC004" && dma_static.get("apr_state").trim() == "XAD100")) {
			dma_static.set("apr_state_dsp_str", "");
		}

		// 실행예산 차수와 실행예산 상태를 표시하기 위한 메시지 정의 (=> '☞ 현재차수[x차]의 실행예산은 xxx 상태입니다.')
		tbx_curr_bugt_seq.setValue("["+dma_static.get("exec_bugt_seq_max")+"차]");
		tbx_apr_state_dsp.setValue(dma_apr_info.get("state_nm") + dma_static.get("apr_state_dsp_str"));
		
		com.movePageMenu("A001", {"reqNo" :  dma_apr_info.get("req_no")});
	};
	
	/**
	 * 저장전 확인
	 */		
	scwin.preSave = function() {
		if (ibx_accnt_clsf.getValue() != "RAR004") {
			if (ibx_note_yn.getValue() == "N") {
				alert("연구노트 신청 대상과제 입니다.\n연구노트 신청 및 결재완료되지 않으면 실행예산편성을 할수 없습니다.");
				return false;
			}
		}

		// 변경사유
		if (dma_static.get("cud_tag") == "I" || dma_static.get("cud_tag") == "U") { // 입력 모드 또는 수정 모드
			if (txa_resn_contnt.getValue().trim() == "" && Number(dma_static.get("exec_bugt_seq_max")) >= 1) {
				alert("편성/변경사유를 입력해 주세요.");
				txa_resn_contnt.focus();
				return false;
			}
		}
						
		// *****************************
		//  세부비목 비율 체크를 위한 변수 설정
		// *****************************
		var vItemClsfCd = ""; // 대비목(코드)
		var nBugtItemAmt = 0 ; // n차수 실행예산 금액

		var nFae011Sum = 0 ; // 대비목코드의 값이 [FAE011]'인건비' 인 경우...인건비 합계 sum
		var nFae021Sum = 0 ; // 대비목코드의 값이 [FAE021]'직접비' 인 경우...직접비 합계 sum
		var nFae031Sum = 0 ; // 대비목코드의 값이 [FAE031]'간접비' 인 경우...간접비 합계 sum
		var nFae026Sum = 0 ; // 대비목코드의 값이 [FAE026]'연구과제추진비' 인 경우...연구과제추진비 합계 sum
		var nFae015Sum = 0; // 대비목코드의 값이 [FAE015]'학생인건비'합계
		var nFae028Sum = 0; // 대비목코드의 값이 [FAE028]'연구수당'합계
		var nFae051Sum = 0; // 대비목코드의 값이 [FAE051]'위탁연구개발비'합계
		var nFae025Sum = 0; // 대비목코드의 값이 [FAE025]'연구과제운영비'합계
		
		var vReschAccntClsf = ""; // 연구계정구분
		var nOutPsnExpnsSum = 0 ; // 연구계정구분의 값이 [FBL020]'외부인건비' 인 경우...외부인건비 합계 sum

		var vBugtItemNm = ""; // 세부비목(명)
		var nChkRate = 0 ; // 각 (세부)비목별 체크용 비율

		var bsnsCdInout = ibx_bsns_cd_in_out.getValue().trim(); // 사업코드내외(코드)

		var nCauseItemAmt = 0 ;
		var nAgreeItmAmt = 0 ;
		var nAgreeTotSum = 0 ; // 협약금액 총합
		var nAgreeFae031Sum = 0; // 간접비 협약예산 총합
		var nAgreeFae015Sum = 0; // 학생인건비 협약예산 총합
		var nAgreeFae028Sum = 0; // 연구수당 협약예산 총합
		var nAgreeFae025Sum = 0; // 연구과제운영비 협약예산 총합
		var nBugtItem = 0 ; // 실행예산 총합
		var nCauseAmt = 0 ; // 집행금액 총합
		var nSumResBugtItem = 0 ; // 연구과제추진비 실행예산 합
		var nSumResCauseAmt = 0 ; // 연구과제추진비 집행금액 합
		var nAgree026TotSum = 0 ; // 연구과제추진비 협약예산 합
		var consWorkFileChk = ""; // 위탁사업계획서 존재유무

		// 각 컬럼별 비율 체크를 위한 대비목별(인건비, 직접비, 간접비) 합계 구하기
		var nGridCnt = dlt_exec_bugt_detail.getRowCount();
		for (var i = 0; i < nGridCnt; i++) {
			vItemClsfCd = dlt_exec_bugt_detail.getCellData(i, "itm_clsf"); // 대비목(코드)
			nBugtItemAmt = dlt_exec_bugt_detail.getCellData(i, "bugt_item_amt_" + dma_static.get("edit_exec_bugt_seq")); // n차수 실행예산 금액

			nCauseItemAmt = Number(dlt_exec_bugt_detail.getCellData(i, "enfrc_cause_amt")); // 집행금액(원인행위금액포함)
			nAgreeItmAmt = Number(dlt_exec_bugt_detail.getCellData(i, "bg_agree_tot_sum")); // 협약예산
			nAgreeItmAmt2 = Number(dlt_exec_bugt_detail.getCellData(i, "agrt_cryfwd_amt")); // 협약이월예산
			
			nAgreeTotSum = Number(nAgreeTotSum) + Number(nAgreeItmAmt);
			nBugtItem = Number(nBugtItem) + Number(nBugtItemAmt);
			nCauseAmt = Number(nCauseAmt) + Number(nCauseItemAmt);
			
			if (vItemClsfCd.trim() == "FAE011") { // 대비목코드의 값이 [FAE011]'인건비' 인 경우...인건비 합계 sum
				nFae011Sum = Number(nFae011Sum) + Number(nBugtItemAmt);
				
			} else if (vItemClsfCd.trim() == "FAE021") { // 대비목코드의 값이 [FAE021]'직접비' 인 경우...직접비 합계 sum
				nFae021Sum = Number(nFae021Sum) + Number(nBugtItemAmt);
				
			} else if (vItemClsfCd.trim() == "FAE031") { // 대비목코드의 값이 [FAE031]'간접비' 인 경우...간접비 합계 sum
				nFae031Sum = nFae031Sum + Number(nBugtItemAmt);
				nAgreeFae031Sum = nAgreeFae031Sum + nAgreeItmAmt;
				
			} else if (vItemClsfCd.trim() == "FAE026") { // 대비목코드의 값이 [FAE026]'연구과제추진비' 인 경우...간접비 합계 sum
				nFae026Sum = nFae026Sum + Number(nBugtItemAmt);
				nSumResCauseAmt = nSumResCauseAmt + nCauseItemAmt;
				nAgree026TotSum = nAgree026TotSum + nAgreeItmAmt;
				
			} else if (vItemClsfCd.trim() == "FAE015") {
				nFae015Sum = nFae015Sum + Number(nBugtItemAmt);
				nAgreeFae015Sum = nAgreeFae015Sum + nAgreeItmAmt;
				
			} else if (vItemClsfCd.trim() == "FAE028") {
				nFae028Sum = nFae028Sum + Number(nBugtItemAmt);
				
				if (tbx_accnt_clsf_nm.getValue()!="이월계정") {
					nAgreeFae028Sum = nAgreeFae028Sum + nAgreeItmAmt;
				} else {
					nAgreeFae028Sum = nAgreeFae028Sum + nAgreeItmAmt2;
				}
				
			} else if (vItemClsfCd.trim() == "FAE025") {
				nFae025Sum = nFae025Sum + Number(nBugtItemAmt);
				nAgreeFae025Sum = nAgreeFae025Sum + nAgreeItmAmt;
				
			} else if (vItemClsfCd.trim() == "FAE051") {
				nFae051Sum = Number(nFae051Sum) + Number(nBugtItemAmt);
				
				if (nFae051Sum > 0 && dma_info.get("cons_work_file").trim() == "") {
					consWorkFileChk = "N";
				} else {
					consWorkFileChk = "";
				}
			}
			
			vReschAccntClsf = dlt_exec_bugt_detail.getCellData(i, "resch_accnt_clsf"); // 연구계정구분

			if (vReschAccntClsf.trim() == "FBL020") { // 연구계정구분의 값이 [FBL020]'외부인건비' 인 경우...외부인건비 합계 sum
				nOutPsnExpnsSum = Number(nOutPsnExpnsSum) + Number(nBugtItemAmt);
			}

		}
		debugger;
		//위탁사업 파일 체크
		if (consWorkFileChk == "N") {
			alert("위탁사업비목 금액 입력은 위탁사업계획서를 우선 등록하셔야 가능합니다.");
			return false;
		}

		// 메인계정과 서브계정만... 연구과제추진비 집행액 합계 > 연구과제추진비 합계
		if (nSumResCauseAmt > nFae026Sum) {
			if (ibx_accnt_clsf.getValue() == 'RAR001' || ibx_accnt_clsf.getValue() == 'RAR002') {
				alert("연구과제추진비가 초과집행되었습니다. 협약예산 및 실행예산을 확인하여 주시기 바랍니다.");
				return false;
			}
		}
		
		if (nCauseAmt > nBugtItem && tbx_accnt_no.getValue() != "PES23010") { // nCauseAmt(집행금액) <= nBugtItem(실행예산)이어야 함
			alert("실행예산 총금액이 집행금액 미만일 수 없습니다. 금액을 다시 확인해 주세요.");
			return false;
		}

		if (nAgreeTotSum == 0) {
			alert("협약예산이 등록되어 있지 않습니다. 확인바랍니다.");
			return false;
		}
		var accntNoList = ["PJC17142", "PUR17514", "PEE17130", "PEE18560", "PEE18561", "PEE18562", "PEE18563",
							"PEE18564", "PEE18565", "PSE17521", "PIJ18010", "PJE19100", "PES1906Z", "PJA19120",
							"PJA19121", "PJA19122", "PJA19123", "PJA19124", "PJA19125", "PJA19126", "PJB19011",
							"PNK21931", "PNK21932", "PNK21933", "PNK23340" ];
		if (nBugtItem == 0 && !accntNoList.iincludes(tbx_accnt_no.getValue())) {
			alert("실행예산이 등록되어 있지 않습니다. 확인바랍니다.");
			return false;
		}

		// 2015.07.21 정부수탁과제에 대하여만 간접비 제한하도록 수정
		if (bsnsCdInout == "RHA001" && nFae031Sum > nAgreeFae031Sum) {
			alert("간접비는 협약예산 대비 증액변경 불가항목입니다. 사업지원실과 협의하여 주시기 바랍니다.");
			return false;
		}

		// 20221205 R23202201B5B 건 검증통과 임시처리
		if (bsnsCdInout == "RHA001" && nFae028Sum > nAgreeFae028Sum && tbx_req_no.getValue() != "R23202201B5B") {
			alert("협약예산 대비 연구수당 편성금액이 초과되었습니다. 전담기관 승인문서 등을 확인하여 주시기 바랍니다.");
			return false;
		}
		
		
		if (bsnsCdInout == "RHA001") {
			if (tbx_accnt_no.getValue().substr(7, 8).trim().match(/^[0-9]+$/)) {
				
			}
		}
		
		dma_param.set("accnt_no1", tbx_accnt_no.getValue().substr(0, 7));
		dma_param.set("accnt_no2", tbx_accnt_no.getValue());
		dma_param.set("accnt_clsf", ibx_accnt_clsf.getValue());
		dma_param.set("bugt_item_amt", nBugtItem); // nBugtItem(실행예산)
		dma_param.set("bg_agree_tot_sum_sum", nAgreeTotSum); // 협약예산 총합
		dma_param.set("bg_agree_026_sum_sum", nAgree026TotSum); // 연구과제추진비 협약예산 총합
		dma_param.set("bugt_item_026_amt", nFae026Sum); // 연구과제추진비 합
		
		scwin.checkResBgExectAmt();
	};


	/**
	 * 계정의 실행예산에 대한 검증 
	 */	
	scwin.checkResBgExectAmt = function() {
		com.execute(sbm_selectCheckResBgExectAmt, {
			successCallback : function(e) {
				console.log(e.responseJSON);
				var resObj = e.responseJSON.elData;	
				switch (resObj["result_detail"]) {
					case "pass":
						dma_static.set("save_clsf", "saveYes");
						scwin.excuteSave();
						break;
					case "stop":
						alert("실행예산 총합(서브계정 포함)이 협약예산을 초과합니다.");
						break;
					case "stop026":
						alert("연구과제추진비가 협약예산을 초과하였습니다.\n직접비의 10% 이내인 협약예산 변경(연구관리담당자) 또는\n직접비의 10% 초과시 연구총괄심의위원회 승인을\n먼저 진행하여 주세요");
						break;
					default:
						alert("계정 실행예산 검증이 실패하였습니다.");				
				}
			}
		});	
	};
	
	/**
	 * Main계정 체크
	 */		
	scwin.mainAccntChk = function() {
		com.execute(sbm_selectMainAccntChk, {
			successCallback : function(e) {
				console.log(e.responseJSON);
				var resObj = e.responseJSON.elData;				
				dma_static.set("accnt_chk", resObj["count"]);
				dma_static.set("save_clsf", "");
				
				var setAccntNo = tbx_accnt_no.getValue().trim().substr(0, tbx_accnt_no.getValue().trim().length - 1);
				dma_chk_param.set("accnt_no", setAccntNo);
				dma_chk_param.set("itm_solve_base", dma_info.get("itm_solve_base"));	
				scwin.checkDrctAmt();
			}
		});	
	};
	
	/**
	 * 실행예산 내 외부전문기술활용비를 협약예산과 체크
	 */		
	scwin.rstAmtChk = function() {
		com.execute(sbm_selectRstAmtChk, {
			successCallback : function(e) {
				console.log(e.responseJSON);
				var resObj = e.responseJSON.elData;
				
				var rstAmtChk = resObj["rst_amt_chk"]; 

				if (rstAmtChk == "Y") {
					com.confirm("외부전문기술활용비가 협약예산금액을 초과하였습니다. \n그래도 계속 하시겠습니까?", function(ret) {
						if (ret) {
							scwin.save();
						} else {
							return;
						}
					});
				} else {
					scwin.save();
				}
			}
		});	
	};


	/**
	 * 실행예산 내 외부전문기술활용비를 직접비와 체크
	 */	
	scwin.checkDrctAmt = function() {
		com.execute(sbm_selectCheckDrctAmt, {
			successCallback : function(e) {
				console.log(e.responseJSON);
				var resObj = e.responseJSON.elData;
				dma_drctamt.setJSON(resObj);
				var drctRt = dma_drctamt.get("drct_chk");
				var agreeAmt = dma_drctamt.get("agree_amt"); // 메인+서브 외부전문기술활용비 협약예산 금액
				var amt = dma_drctamt.get("amt"); // 메인+서브 외부전문기술활용비 실행예산
				var cryfwd_agreeAmt = dma_drctamt.get("cryfwd_agree_amt");// 이월 외부전문기술활용비 협약예산 금액
				var cryfwd_amt = dma_drctamt.get("cryfwd_amt"); // 이월 외부전문기술활용비 실행예산
				var agreeAmt2 = dma_drctamt.get("agree_amt2"); // 메인+서브 국제공동연구개발비 협약예산 금액
				var amt2 = dma_drctamt.get("amt2"); // 메인+서브 국제공동연구개발비 실행예산
				var cryfwd_agreeAmt2 = dma_drctamt.get("cryfwd_agree_amt2"); // 이월 국제공동연구개발비 협약예산 금액
				var cryfwd_amt2 = dma_drctamt.get("cryfwd_amt2"); // 이월 국제공동연구개발비 실행예산
				
				var bsnsCdInout = ibx_bsns_cd_in_out.getValue().trim(); 
				var bsnsCdOfic = ibx_bsns_cd_ofic.getValue().trim() ;	
				
				// 직접비 40% 초과인경우
				if (drctRt == "Y" ) { //외부전문기술체크
					switch(bsnsCdInout) {
						case "RHA001" :  //정부
							if (Number(cryfwd_agreeAmt) <  Number(cryfwd_amt)) { //협약예산보다 초과되는경우
								alert("외부전문기술활용비가 직접비의 40% 초과되었습니다. 산업부과제는 승인사항은 아니나, 정산시 초과 계상의 필요성에 대한 소명서를 첨부하여야 합니다. 현재 협약예산을 초과됨에 따라 협약예산 변경 후 진행하여 주시기 바랍니다.");
								if (dma_static.get("save_clsf") == "") {  //결재신청 시 
									return;
								}
							} else if (Number(cryfwd_agreeAmt) <  Number(cryfwd_amt)) {
								alert("외부전문기술활용비가 직접비의 40% 초과되었습니다. 전문기관의 승인을 득한 후 변경하여 주세요.");
								if (dma_static.get("save_clsf") == "") { //결재신청 시 
									return;
								}
							} 
						break;
						case "RHA002" :  //내부
							if (Number(agreeAmt) <  Number(amt) || Number(cryfwd_agreeAmt) <  Number(cryfwd_amt)) {
								alert("외부전문기술활용비가 직접비의 40% 초과되었습니다. 소연심(승인)→총괄위(승인)→이사회(승인) 후 변경하여 주세요.");
								if (dma_static.get("save_clsf") == "") { //결재신청 시 
									return;
								} 
							} else {
								alert("외부전문기술활용비가 직접비의 40% 초과되었습니다. 소연심(승인)→총괄위(승인)→이사회(승인) 결과 문서를 첨부하여 주세요.");
							}
						break;
						case "RHA004" : 
							if (Number(agreeAmt) <  Number(amt) || Number(cryfwd_agreeAmt) <  Number(cryfwd_amt)) {
								alert("외부전문기술활용비가 직접비의 40% 초과되었습니다. 소연심(승인)→총괄위(승인) 후 변경하여 주세요.");
								if (dma_static.get("save_clsf") == "") { //결재신청 시 
									return;
								}
							} else {
								alert("외부전문기술활용비가 직접비의 40% 초과되었습니다. 소연심(승인)→총괄위(승인) 결과 문서를 첨부하여 주세요.");
							}
						break;
					}
				
				} 
				// 국제공동연구개발비 체크
				
				if (agreeAmt2 > 0 ) {
					switch(bsnsCdInout) {
						case "RHA001" :  //정부
							if (Number(agreeAmt2) <  Number(amt2) || Number(cryfwd_agreeAmt2) <  Number(cryfwd_amt2)) { //협약예산보다 초과되는경우
								alert("국제공동연구개발비가 초과(환율의 변동에 의한 증액 포함)되었습니다. 전문기관의 확인 및 승인 후 변경하여 주세요.");
								if (dma_static.get("save_clsf") == "") { //결재신청 시 
									return;
								}
							} else if (agreeAmt2 > amt2 || cryfwd_agreeAmt2 > cryfwd_amt2 ) { // 협약예산보다 적은경우
								alert("국제공동연구개발비가 감액(환율의 변동에 의한 감액 포함)되었습니다. 전문기관의 확인 및 승인 후 변경하여 주세요.");
								if (saveClsf == "") { //결재신청 시 
									return;
								}
							}
						break;
						case "RHA002" :  //내부
							if (agreeAmt2 < amt2 || cryfwd_agreeAmt2 < cryfwd_amt2) { //협약예산보다 초과되는경우
								alert("국제공동연구개발비가 초과되었습니다. 소연심(승인)→총괄위(승인)→이사회(승인) 후 변경하여 주세요. (단, 환율의 변동에 의한 증액은 승인없이 가능)");
								if (dma_static.get("save_clsf") == "") { //결재신청 시 
									return;
								}
							} else if (agreeAmt2 > amt2 || cryfwd_agreeAmt2 > cryfwd_amt2) { // 협약예산보다 적은경우
								alert("국제공동연구개발비가 감액되었습니다. 소연심(승인)→총괄위(보고) 후 총괄위(보고) 문서를 첨부하여 변경하여 주세요. (단, 환율의 변동에 의한 감액은 승인없이 가능)");
								if (dma_static.get("save_clsf") == "") { //결재신청 시 
									return;
								}
							}
						break;
						case "RHA004" :  
							if (agreeAmt2 < amt2 || cryfwd_agreeAmt2 < cryfwd_amt2) { //협약예산보다 초과되는경우
								alert("국제공동연구개발비가 초과되었습니다. 소연심(승인)→총괄위(승인) 후 변경하여 주세요. (단, 환율의 변동에 의한 증액은 승인없이 가능)");
								if (dma_static.get("save_clsf") == "") { //결재신청 시 
									return;
								}
							} else if (agreeAmt2 > amt2 || cryfwd_agreeAmt2 > cryfwd_amt2) { // 협약예산보다 적은경우
								alert("국제공동연구개발비가 감액되었습니다. 소연심(승인)→총괄위(보고) 후 총괄위(보고) 문서를 첨부하여 변경하여 주세요. (단, 환율의 변동에 의한 감액은 승인없이 가능)");
								if (dma_static.get("save_clsf") == "") { //결재신청 시 
									return;
								}
							}
						break;
					}
				}
				
				if (ibx_bsns_cd_in_out.getValue() == "RHA001") {
					var getDspIndicostRtInp = tbx_dsp_indicost_rt_inp.getValue();
					var getIndrcRt = tbx_dsp_indicost_rt_bas.getValue();
				
					var nGridCnt      = dlt_exec_bugt_detail.getRowCount();  // 그리드(연구비)의 행 갯수
					var vItemNm       = "";              // 대비목(명)
				    var totAmt        = "";              // 행별 합
				    
				    //1.outputBsnsCdInout
					//2.bsns_cd_ofic
					//3.bsns_cd_bsns
					//4.bsns_cd_exclsv_agncy
					//5.bsns_cd_detls_bsns
					
				    
				    if (!(ibx_bsns_cd_ofic.getValue()=="039000000"&&ibx_bsns_cd_bsns.getValue()=="039008000"&&ibx_bsns_cd_exclsv_agncy.getValue()=="RHB008"&&ibx_bsns_cd_detls_bsns.getValue()=="039008004")) {
					    //체크 계쩡 리스트
					    var chkAccctNoList = ["PNP22600","PSE22810","PKM23T50","PNK22B50","PNK23770","PNK23340"];			    
					    if ((parseInt(dma_static.get("accnt_chk"))<=0)&&(ibx_accnt_clsf.getValue() != "RAR002")&&(ibx_accnt_clsf.getValue() != "RAR004")&&(!chkAccctNoList.includes(tbx_accnt_no.getValue()))) {
					    	if (parseFloat(getDspIndicostRtInp) > getIndrcRt) {
								if (getIndrcRt == 13.31) {
									alert("현 단계연구기간 시작일이 2019.12.31 ~ 2021.12.31인 과제의\n간접비비율은 13.31%인데 초과되었습니다. 간접비는 초과가 불가하니 다시 확인하여 주시기 바랍니다.");
									return;
									   
								} else if (getIndrcRt == 15.48) {
									alert("현 단계연구기간 시작일이 2022.01.01 ~ 2022.12.20인 과제의\n간접비비율은 15.48%인데\n초과되었습니다. 간접비는 초과가 불가하니 다시 확인하여 주시기 바랍니다.");
									return;
								} else if (getIndrcRt == 13.65 && (outputAccntNo.getValue()!="PNK23340")) { //PNK23340 예외처리 임수연님 요청
									alert("현 단계연구기간 시작일이 2022.12.21부터인 과제의 간접비비율은 13.65%인데\n초과되었습니다. 간접비는 초과가 불가하니 다시 확인하여 주시기 바랍니다.");
									return;
								}
								return false;
							} else if (parseFloat(getDspIndicostRtInp) < getIndrcRt) {
								if (getIndrcRt == 13.31) {
									alert("현 단계연구기간 시작일이 2019.12.31 ~ 2021.12.31인 과제의\n간접비비율은 13.31%인데 미달되었습니다.\n간접비 미달 관련 심의여부(연구업무규정 [별표 2] 확인)를\n확인하여 주시기 바랍니다.");
									return;
																   
								} else if (getIndrcRt == 15.48) {
									alert("현 단계연구기간 시작일이 2022.01.01 ~ 2022.12.20인 과제의\n간접비비율은 15.48%인데 미달되었습니다.\n간접비 미달 관련 심의여부(연구업무규정 [별표 2] 확인)를\n확인하여 주시기 바랍니다.");
									return;
									
								} else if (getIndrcRt == 13.65) {
									alert("현 단계연구기간 시작일이 2022.12.21부터인 과제의\n간접비비율은 13.65%인데 미달되었습니다.\n간접비 미달 관련 심의여부(연구업무규정 [별표 2] 확인)를\n확인하여 주시기 바랍니다.");
									return;
									
								} else if (getIndrcRt == 20.00) {
									alert("민간수탁사업 중 (기업수탁, 단기용역)의 간접비비율은\n20% 이상인데 미달되었습니다.\n간접비 미달 관련 심의여부(연구업무규정 [별표 2] 확인)를\n확인하여 주시기 바랍니다.");
									return;
									
								} else if (getIndrcRt == 15.00) {
									alert("민간수탁사업 중 (공공수탁)의 간접비비율은\n15% 이상인데 미달되었습니다.\n간접비 미달 관련 심의여부(연구업무규정 [별표 2] 확인)를\n확인하여 주시기 바랍니다.");
									return;
									
								} else if (getIndrcRt == 5.00) {
									alert("민간수탁사업 중 (지자체수탁)의 간접비비율은 5% 이상인데\n미달되었습니다. 간접비 미달 관련 심의여부(연구업무규정 [별표 2] 확인)를\n확인하여 주시기 바랍니다.");
									return;
								}
								
								for (var i = 0; i < nGridCnt; i++) {
						        	vItemNm       = dlt_exec_bugt_detail.getCellData(i, "bugt_item_nm" );  		// 대비목(명)
						        	totAmt        = dlt_exec_bugt_detail.getCellData(i, "bg_agree_tot_sum")  ;   // 협약예산
						        	var checkValue = dma_static.get("exec_bugt_seq_max");
						        	var vItemNmList = ["간접경비","연구개발준비금","연구개발능률성과급","지식재산권경비","과학문화활동비","연구실안전관리비","연구보안관리비","연구윤리활동비"];
						        	
						        	if (vItemNmList.includes(vItemNm.trim())) { 
						        		for (var j=1 ; j <= parseInt(checkValue)+1 ; j++) {
						        			var colNo = (j < 10) ? "0" + j : j;
						        			if (j == parseInt(checkValue)+1) {
							        			var seq_bugt_item_amt = dlt_exec_bugt_detail.getCellData(i, "bugt_item_amt_"+colNo);
						        				if ((seq_bugt_item_amt > 0) && (parseInt(totAmt) < parseInt(seq_bugt_item_amt))) {
							        				alert("간접비 항목 중 " + vItemNm.trim() + "은(는) 협약예산 보다 초과되었습니다. 다시 확인하여 주세요.");
							        				return false;
							        			} else {
							        				continue;
							        			}
							        		}
						        		}
						        	}
								}
							}
						} else if (ibx_accnt_clsf.getValue() == "RAR004") {//이월예산일 경우
							for (var i = 0; i < nGridCnt; i++) {
						       	vItemNm       = dlt_exec_bugt_detail.getCellData(i, "bugt_item_nm" );  		// 대비목(명)
						       	totAmt        = dlt_exec_bugt_detail.getCellData(i, "agrt_cryfwd_amt")  ;   // 협약이월예산
						       	var checkValue = dma_static.get("exec_bugt_seq_max");
						       	var vItemNmList = ["간접경비","연구개발준비금","연구개발능률성과급","지식재산권경비","과학문화활동비","연구실안전관리비","연구보안관리비","연구윤리활동비"];
						       	
						       	if (vItemNmList.includes(vItemNm.trim())) { 
						        	for (var j=1 ; j <= parseInt(checkValue)+1 ; j++) {
						        		var colNo = (j < 10) ? "0" + j : j;
						        		if (j==parseInt(checkValue)+1) {
							        		var seq_bugt_item_amt = dlt_exec_bugt_detail.getCellData(i, "bugt_item_amt_"+colNo);
							        		if ((seq_bugt_item_amt > 0) && (parseInt(totAmt) < parseInt(seq_bugt_item_amt))) {
							        			alert("간접비 항목 중 "+vItemNm.trim()+"은(는) 협약예산 보다 초과되었습니다. 다시 확인하여 주세요.");
							        			return false;
							        		} else {
							        			continue;
							        		}
							        	}
						        	}
						        }
						    }
						} else {
							if ((tbx_accnt_no.getValue()!="PNP22600") && (tbx_accnt_no.getValue()!="PSE22810") && (tbx_accnt_no.getValue()!="PNK23340")) {
								for (var i = 0; i < nGridCnt; i++) {
							       	vItemNm       = dlt_exec_bugt_detail.getCellData(i, "bugt_item_nm" );  		// 대비목(명)
							       	totAmt        = dlt_exec_bugt_detail.getCellData(i, "bg_agree_tot_sum")  ;   // 협약예산
							       	var checkValue = dma_static.get("exec_bugt_seq_max");
							       	var vItemNmList = ["간접경비","연구개발준비금","연구개발능률성과급","지식재산권경비","지식재산권경비","과학문화활동비","연구실안전관리비","연구보안관리비","연구윤리활동비"];
							       	
							       	if (vItemNmList.includes(vItemNm.trim())) { 
							        	for (var j=1 ; j <= parseInt(checkValue)+1 ; j++) {
							        		var colNo = (j < 10) ? "0" + j : j;
							        		if (j == parseInt(checkValue)+1) {
								        		var seq_bugt_item_amt = dlt_exec_bugt_detail.getCellData(i, "bugt_item_amt_"+colNo);
								        		if ((seq_bugt_item_amt > 0) && (parseInt(totAmt) < parseInt(seq_bugt_item_amt))) {
								        			alert("간접비 항목 중 "+vItemNm.trim()+"은(는) 협약예산 보다 초과되었습니다. 다시 확인하여 주세요.");
								        			return false;
								        		} else {
								        			continue;
								        		}
								        	}
							        	}
							        }
							    }
							}
						}
					}
				}
				scwin.rstAmtChk();				
			}
		});	
	};
	
	/**
	* 사용자 조회 돋보기 버튼 클릭
	*/
	scwin.searchEmp = function() {
		var data = { empno : dma_apr_info.get("req_psn").substring(2), 
					 work_clsf : "HAG010", 
					 ref_yn : "N"
					};
				
		com.pop.open( com.pop.TYPE.HUM, data, function(ret) {			
			if (ret) {
				ibx_dept_new_ymd.setValue(ret.deptNewYmd);
			}
		});
	};	

	/**
	 * 화면 콤포넌트 컨트롤
	 */	
	scwin.compControll = function() {
	    com.biz.disabledButtons(dma_apr_info.get("apr_state"), dma_apr_info.get("req_no"));

		if (dma_apr_info.get("req_no") !="" && dma_apr_info.get("apr_state") >= "XAD020") {
			var disableArrary = ["txa_resn_contnt","btn_copy_bdget","btn_copy_before","btn_copy_agrt_cryfwd_amt"];
			scwin.setDisable(disableArrary, true);
			grd_exec_bugt_detail.setGridReadOnly(true);			
			btn_temp_save.hide();
		} else {
			if (dma_apr_info.get("req_no") !="" && dma_apr_info.get("apr_state") !="" && dma_apr_info.get("req_psn") != "" && dma_apr_info.get("req_psn") != com.getLoginInfo("sn")) {
				btn_temp_save.setDisabled(true);
				btn_del.setDisabled(true);
				btn_save.setDisabled(true);
				btn_apr.setDisabled(true);
			}
		}
	};
	
	/**
	* 컴포넌트 disable true/false 처리
	*/	
	scwin.setDisable = function(arr, flag) {
		for (var i = 0; i < arr.length; i++) {
			$p.getComponentById(arr[i]).setDisabled(flag);
		}
	};		

	]]></script>
    </head>
    <body ev:onpageload="scwin.onpageload" ev:onpageunload="scwin.onpageunload">
    	<w2:wframe id="wfm_title" src="/cm/xml/contentTitle.xml" style=""></w2:wframe>
    	<xf:group class="pageWrap" id="grp_base_info" style="">
    		<xf:group class="searchSection step" id="grp_top_btn_area" style="">
    			<xf:group class="le" id="">
    				<xf:trigger class="btn " id="btn_list" style="" type="button" ev:onclick="scwin.btn_list_onclick">
    					<xf:label><![CDATA[목록]]></xf:label>
    				</xf:trigger>
    			</xf:group>
    			<xf:group class="btnbox" id="">
    				<xf:trigger class="btn icon print" id="btn_print" style="display:none;" type="button" disabled="true"
    					ev:onclick="scwin.btn_print_onclick">
    					<xf:label><![CDATA[인쇄]]></xf:label>
    				</xf:trigger>
    				<xf:trigger class="btn blue" id="btn_apr" style="" type="button" ev:onclick="scwin.btn_apr_onclick">
    					<xf:label><![CDATA[결재신청]]></xf:label>
    				</xf:trigger>
    			</xf:group>
    		</xf:group>
    		<xf:group class="titleSection" id="" style="">
    			<w2:textbox class="tit_tbl blue" id="tbx_info_message" label="※ 실행예산 변경 후 반드시 저장버튼을 눌러 주세요" style="" tagname="h3"></w2:textbox>
    		</xf:group>
    		<xf:group tagname="table" style="width:100%;" id="" class="w2tb tbl">
    			<w2:attributes>
    				<w2:summary></w2:summary>
    			</w2:attributes>
    			<xf:group tagname="caption"></xf:group>
    			<xf:group tagname="colgroup">
    				<xf:group style="width:200px;" tagname="col"></xf:group>
    				<xf:group style="" tagname="col"></xf:group>
    				<xf:group style="width:200px;" tagname="col"></xf:group>
    				<xf:group style="" tagname="col"></xf:group>
    				<xf:group style="width:200px;" tagname="col"></xf:group>
    				<xf:group style="" tagname="col"></xf:group>
    			</xf:group>
    			<xf:group tagname="tr">
    				<xf:group tagname="th" style="" class="w2tb_th">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<xf:group class="flex" id="" style="">
    						<w2:textbox id="" label="계정번호" style="" tagname="span"></w2:textbox>
    						<xf:trigger class="btn ml4" id="btn_accnt_sel" style="" type="button"
    							ev:onclick="scwin.btn_accnt_sel_onclick">
    							<xf:label><![CDATA[계정선택]]></xf:label>
    						</xf:trigger>
    					</xf:group>
    				</xf:group>
    				<xf:group tagname="td" style="" class="w2tb_td">
    					<w2:textbox class="txt" id="tbx_accnt_no" label="" style="" tagname="span" ref="data:dma_info.accnt_no"></w2:textbox>
    				</xf:group>
    				<xf:group tagname="th" style="" class="w2tb_th">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:textbox id="" label="과제기간" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group tagname="td" style="" class="w2tb_td">
    					<w2:textbox class="txt" id="tbx_prj_prd_term" label="000" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group tagname="th" style="" class="w2tb_th">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:textbox id="" label="계정상태" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group tagname="td" style="" class="w2tb_td">
    					<w2:textbox class="txt" id="tbx_accnt_state_nm" label="" style="" tagname="span"
    						ref="data:dma_info.accnt_state_nm">
    					</w2:textbox>
    				</xf:group>
    			</xf:group>
    			<xf:group tagname="tr">
    				<xf:group tagname="th" style="" class="w2tb_th">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:textbox id="" label="계정구분" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group tagname="td" style="" class="w2tb_td">
    					<w2:textbox class="txt" id="tbx_accnt_clsf_nm" label="" style="" tagname="span" ref="data:dma_info.accnt_clsf_nm"></w2:textbox>
    				</xf:group>
    				<xf:group tagname="th" style="" class="w2tb_th">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:textbox id="" label="사업구분" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group tagname="td" style="" class="w2tb_td">
    					<w2:textbox class="txt" id="tbx_bsns_cd_bsns_nm" label="" style="" tagname="span"
    						ref="data:dma_info.bsns_cd_bsns_nm">
    					</w2:textbox>
    				</xf:group>
    				<xf:group tagname="th" style="" class="w2tb_th">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:textbox id="" label="연구노트유무" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group tagname="td" style="" class="w2tb_td">
    					<w2:textbox class="txt" id="tbx_note_use_ex" label="000" style="" tagname="span" ref="data:dma_info.note_use_ex"></w2:textbox>
    				</xf:group>
    			</xf:group>
    			<xf:group tagname="tr">
    				<xf:group tagname="th" style="" class="w2tb_th">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:textbox id="" label="과제명" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group tagname="td" style="" class="w2tb_td le">
    					<w2:attributes>
    						<w2:colspan>3</w2:colspan>
    						<w2:rowspan>1</w2:rowspan>
    					</w2:attributes>
    					<w2:textbox class="txt" id="tbx_prj_nm" label="000" style="" tagname="span" ref="data:dma_info.prj_nm"></w2:textbox>
    				</xf:group>
    				<xf:group tagname="th" style="" class="w2tb_th">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:textbox id="" label="총연구비" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group tagname="td" style="" class="w2tb_td ri">
    					<w2:textbox class="txt" id="tbx_tot_resch_amt" label="000" style="" tagname="span" dataType="number"
    						displayFormat="###,###,###" ref="data:dma_info.tot_resch_amt">
    					</w2:textbox>
    				</xf:group>
    			</xf:group>
    			<xf:group tagname="tr">
    				<xf:group tagname="th" style="" class="w2tb_th">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:textbox id="" label="연구책임자" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group tagname="td" style="" class="w2tb_td">
    					<w2:textbox class="txt" id="tbx_curr_resch_rspns_nm" label="000" style="" tagname="span"
    						ref="data:dma_info.curr_resch_rspns_nm">
    					</w2:textbox>
    				</xf:group>
    				<xf:group tagname="th" style="" class="w2tb_th">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:textbox id="" label="직급" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group tagname="td" style="" class="w2tb_td">
    					<w2:textbox class="txt" id="tbx_curr_posi_nm" label="000" style="" tagname="span"
    						ref="data:dma_info.curr_posi_nm">
    					</w2:textbox>
    				</xf:group>
    				<xf:group tagname="th" style="" class="w2tb_th">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:textbox id="" label="소속" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group tagname="td" style="" class="w2tb_td">
    					<w2:textbox class="txt" id="tbx_curr_dept_nm" label="000" style="" tagname="span"
    						ref="data:dma_info.curr_dept_nm">
    					</w2:textbox>
    				</xf:group>
    			</xf:group>
    			<xf:group tagname="tr">
    				<xf:group tagname="th" style="" class="w2tb_th">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:textbox id="" label="계정책임자" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group tagname="td" style="" class="w2tb_td">
    					<w2:textbox class="txt" id="tbx_accnt_rspns_nm" label="000" style="" tagname="span"
    						ref="data:dma_info.accnt_rspns_nm">
    					</w2:textbox>
    				</xf:group>
    				<xf:group tagname="th" style="" class="w2tb_th">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:textbox id="" label="직급" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group tagname="td" style="" class="w2tb_td">
    					<w2:textbox class="txt" id="tbx_posi_nm" label="000" style="" tagname="span" ref="data:dma_info.posi_nm"></w2:textbox>
    				</xf:group>
    				<xf:group tagname="th" style="" class="w2tb_th">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:textbox id="" label="소속" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group tagname="td" style="" class="w2tb_td">
    					<w2:textbox class="txt" id="tbx_dept_nm" label="000" style="" tagname="span" ref="data:dma_info.dept_nm"></w2:textbox>
    				</xf:group>
    			</xf:group>
    			<xf:group tagname="tr" id="grp_hidden">
    				<xf:group tagname="td" class="w2tb_td">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    						<w2:colspan>6</w2:colspan>
    						<w2:rowspan>1</w2:rowspan>
    					</w2:attributes>
    					<xf:input adjustMaxLength="false" class="inp full ri" id="ibx_req_ymd" style="max-width: 50px;" title=""
    						ref="data:dma_apr_info.req_ymd">
    					</xf:input>
    					<xf:input adjustMaxLength="false" class="inp full ri" id="ibx_req_psn" style="max-width: 50px;" title=""
    						ref="data:dma_apr_info.req_psn">
    					</xf:input>
    					<xf:input adjustMaxLength="false" class="inp full ri" id="ibx_bsns_cd_in_out" style="max-width: 50px;" title=""
    						ref="data:dma_info.bsns_cd_inout">
    					</xf:input>
    					<xf:input adjustMaxLength="false" class="inp full ri" id="ibx_exec_bugt_seq_max" style="max-width: 50px;" title=""
    						ref="data:dma_apr_info.exec_bugt_seq_max">
    					</xf:input>
    					<xf:input adjustMaxLength="false" class="inp full ri" id="ibx_note_yn" style="max-width: 50px;" title=""
    						ref="data:dma_info.note_yn">
    					</xf:input>
    					<xf:input adjustMaxLength="false" class="inp full ri" id="ibx_dept_new_ymd" style="max-width: 50px;" title=""></xf:input>
    					<xf:input adjustMaxLength="false" class="inp full ri" id="ibx_dept_cd" style="max-width: 50px;" title=""
    						ref="data:dma_info.dept_cd">
    					</xf:input>
    					<xf:input adjustMaxLength="false" class="inp full ri" id="ibx_tot_start_ymd" style="max-width: 50px;" title=""
    						ref="data:dma_info.tot_resch_prd_orign_ymd">
    					</xf:input>
    					<xf:input adjustMaxLength="false" class="inp full ri" id="ibx_bsns_cd_ofic" style="max-width: 50px;" title=""
    						ref="data:dma_info.bsns_cd_ofic">
    					</xf:input>
    					<xf:input adjustMaxLength="false" class="inp full ri" id="ibx_curr_resch_rspns" style="max-width: 50px;" title=""
    						ref="data:dma_info.curr_empno">
    					</xf:input>
    					<xf:input adjustMaxLength="false" class="inp full ri" id="ibx_accnt_rspns_empno" style="max-width: 50px;" title=""
    						ref="data:dma_info.accnt_rspns_empno">
    					</xf:input>
    					<xf:input adjustMaxLength="false" class="inp full ri" id="ibx_curr_resch_rspns_sys" style="max-width: 50px;"
    						title="" ref="data:dma_info.curr_resch_rspns">
    					</xf:input>
    					<xf:input adjustMaxLength="false" class="inp full ri" id="ibx_accnt_clsf" style="max-width: 50px;" title=""
    						ref="data:dma_info.accnt_clsf">
    					</xf:input>
    					<xf:input adjustMaxLength="false" class="inp full ri" id="ibx_bsns_cd_bsns" ref="data:dma_info.bsns_cd_bsns"
    						style="max-width: 50px;" title="">
    					</xf:input>
    					<xf:input adjustMaxLength="false" class="inp full ri" id="ibx_bsns_cd_exclsv_agncy" ref="data:dma_info.bsns_cd_exclsv_agncy"
    						style="max-width: 50px;" title="">
    					</xf:input>
    					<xf:input adjustMaxLength="false" class="inp full ri" id="ibx_bsns_cd_detls_bsns" ref="data:dma_info.bsns_cd_detls_bsns"
    						style="max-width: 50px;" title="">
    					</xf:input>
    				</xf:group>
    			</xf:group>
    		</xf:group>
    		<xf:group class="titleSection" id="" style="">
    			<xf:group class="le" id="grp_buget_info">
    				<w2:textbox class="tit_tbl" id="" label="☞ 현재차수" style="" tagname="span"></w2:textbox>
    				<w2:textbox class="tit_tbl blue" id="tbx_curr_bugt_seq" label="[-차]" style="" tagname="span"></w2:textbox>
    				<w2:textbox class="tit_tbl" id="" label=" 의 실행예산은 " style="" tagname="span"></w2:textbox>
    				<w2:textbox class="tit_tbl blue" id="tbx_apr_state_dsp" label="---" style="" tagname="span"></w2:textbox>
    				<w2:textbox class="tit_tbl" id="" label=" 상태입니다." style="" tagname="span"></w2:textbox>
    			</xf:group>
    			<xf:group class="le" id="grp_buget_none">
    				<w2:textbox class="tit_tbl" id="" label="☞ 편성된 실행예산이 없습니다." style="" tagname="span"></w2:textbox>
    			</xf:group>    			
    			<xf:group class="ri" id="">
    				<xf:select1 allOption="" appearance="minimal" chooseOption="" class="sel" direction="auto" disabled="false"
    					disabledClass="w2selectbox_disabled" id="sbx_tmp_state" ref="" style="width: 150px" submenuSize="auto">
    					<xf:choices></xf:choices>
    				</xf:select1>
    			</xf:group>    			
    		</xf:group>
    		<xf:group class="w2tb tbl" id="" style="" tagname="table">
    			<w2:attributes>
    				<w2:summary></w2:summary>
    			</w2:attributes>
    			<xf:group tagname="caption"></xf:group>
    			<xf:group tagname="colgroup">
    				<xf:group style="width:200px;" tagname="col"></xf:group>
    				<xf:group style="" tagname="col"></xf:group>
    				<xf:group style="width:200px;" tagname="col"></xf:group>
    				<xf:group style="" tagname="col"></xf:group>
    				<xf:group style="width:200px;" tagname="col"></xf:group>
    				<xf:group style="" tagname="col"></xf:group>
    			</xf:group>
    			<xf:group tagname="tr">
    				<xf:group class="w2tb_th" tagname="th">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:textbox id="" label="이월계정" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group class="w2tb_td" tagname="td">
    					<w2:attributes></w2:attributes>
    					<xf:input adjustMaxLength="false" class="inp full ri" id="ibx_cry_fwd_amt" style="max-width: 200px;" title=""
    						allowChar="0-9" dataType="number" displayFormat="#,###" disabled="true" maxlength="15" readOnly="true">
    					</xf:input>
    				</xf:group>
    				<xf:group class="w2tb_th" tagname="th">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:textbox id="" label="이자계정" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group class="w2tb_td" tagname="td">
    					<w2:attributes></w2:attributes>
    					<xf:input adjustMaxLength="false" class="inp full ri" id="ibx_intrst_amt" style="max-width: 200px;" title=""
    						dataType="number" disabled="true" readOnly="true" allowChar="0-9" maxlength="15">
    					</xf:input>
    				</xf:group>
    				<xf:group class="w2tb_th" tagname="th">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:textbox id="" label="신청번호" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group class="w2tb_td cellbg01" tagname="td">
    					<w2:attributes></w2:attributes>
    					<w2:textbox class="txt" id="tbx_req_no" label="000" style="" tagname="span" ref="data:dma_apr_info.req_no"></w2:textbox>
    				</xf:group>
    			</xf:group>
    		</xf:group>
    		<xf:group class="titleSection" id="grp_bugget_items" style="">
    			<xf:group class="le" id="">
    				<w2:textbox class="tit_tbl" id="" label="간접비 :  " style="" tagname="span"></w2:textbox>
    				<w2:textbox class="tit_tbl ri" id="tbx_dsp_indicost_rt_inp" label="0.00" style="display:inline-block;width:60px;"
    					tagname="span">
    				</w2:textbox>
    				<w2:textbox class="tit_tbl" id="" label="%" style="" tagname="span"></w2:textbox>
    				<w2:textbox class="tit_tbl" id="" label=" (기준 : " style="" tagname="span"></w2:textbox>
    				<w2:textbox class="tit_tbl ri" id="tbx_dsp_indicost_rt_bas" label="00" style="display:inline-block;width:60px;"
    					tagname="span">
    				</w2:textbox>
    				<w2:textbox class="tit_tbl" id="" label="%)" style="" tagname="span"></w2:textbox>
    				<w2:textbox class="tit_tbl ml20" id="" label="간접비 편성액 :  " style="" tagname="span"></w2:textbox>
    				<w2:textbox class="tit_tbl ri" id="tbx_indicost_amt" label="0" style="display:inline-block;width:60px;" tagname="span"
    					displayFormat="###,###,###,###,###">
    				</w2:textbox>
    				<w2:textbox class="tit_tbl" id="" label="원" style="" tagname="span"></w2:textbox>
    				<w2:textbox class="tit_tbl" id="" label=" (기준 : " style="" tagname="span"></w2:textbox>
    				<w2:textbox class="tit_tbl ri" id="tbx_indicost_amt_bas" label="00" style="display:inline-block;width:60px;"
    					tagname="span" displayFormat="###,###,###,###,###">
    				</w2:textbox>
    				<w2:textbox class="tit_tbl" id="" label="원" style="" tagname="span"></w2:textbox>
    				<w2:textbox class="tit_tbl" id="" label=")" style="" tagname="span"></w2:textbox>
    			</xf:group>
    			<xf:group class="ri" id="">
    				<w2:anchor class="linkfile" id="btn_docu_view" outerDiv="false" style="" ev:onclick="scwin.btn_docu_view_onclick">
    					<xf:label><![CDATA[[참고] 비목해소기준 [정부-공통4] 설명자료]]></xf:label>
    				</w2:anchor>
    			</xf:group>
    		</xf:group>
    		<xf:group class="titleSection" id="grp_other_amt" style="">
    			<xf:group class="le" id="">
    				<w2:textbox class="tit_tbl" id="" label="O/H 흡수액 편성기준 :" style="" tagname="span"></w2:textbox>
    				<w2:textbox class="tit_tbl ri" id="tbx_tot_res_ch_cash_amt" label="00" style="display:inline-block;width:60px;"
    					tagname="span">
    				</w2:textbox>
    				<w2:textbox class="tit_tbl" id="" label="원" style="" tagname="span"></w2:textbox>
    				<w2:textbox class="tit_tbl" id="" label="(" style="" tagname="span"></w2:textbox>
    				<w2:textbox class="tit_tbl ri" id="tbx_oh_absrp_rt" label="0.00" style="display:inline-block;width:60px;"
    					tagname="span">
    				</w2:textbox>
    				<w2:textbox class="tit_tbl" id="" label=") %" style="" tagname="span"></w2:textbox>
    				<w2:textbox class="tit_tbl" id="" label="이상" style="" tagname="span"></w2:textbox>
    				<w2:textbox class="tit_tbl" id="" label="현계정 :" style="" tagname="span"></w2:textbox>
    				<w2:textbox class="tit_tbl ri" id="tbx_curr_accnt_amt" label="00" style="display:inline-block;width:60px;"
    					tagname="span">
    				</w2:textbox>
    				<w2:textbox class="tit_tbl" id="" label=" + 타계정 :" style="" tagname="span"></w2:textbox>
    				<w2:textbox class="tit_tbl ri" id="tbx_othr_accnt_amt_sum" label="00" style="display:inline-block;width:60px;"
    					tagname="span">
    				</w2:textbox>
    				<w2:textbox class="tit_tbl ml20" id="" label="= 현재금액 :" style="" tagname="span"></w2:textbox>
    				<w2:textbox class="tit_tbl" id="" label="(" style="" tagname="span"></w2:textbox>
    				<w2:textbox class="tit_tbl ri" id="tbx_curr_amt" label="00" style="display:inline-block;width:60px;" tagname="span"></w2:textbox>
    				<w2:textbox class="tit_tbl" id="" label=")" style="" tagname="span"></w2:textbox>
    			</xf:group>
    		</xf:group>
    		<xf:group class="titleSection" id="" style="">
    			<xf:group class="le" id="grp_vacct_no">
    				<w2:textbox class="tit_tbl" id="" label="가상계좌번호 : " style="" tagname="span"></w2:textbox>
    				<w2:textbox class="tit_tbl" id="tbx_vacct_no" label="000-000-000000" style="" tagname="span"></w2:textbox>
    			</xf:group>
    			<xf:group class="ri" id="">
    				<xf:group class="btnarea" id="" style="">
    					<xf:trigger class="btn" id="btn_copy_bdget" style="" type="button" ev:onclick="scwin.btn_copy_bdget_onclick">
    						<xf:label><![CDATA[협약예산복사]]></xf:label>
    					</xf:trigger>
    					<xf:trigger class="btn" id="btn_copy_before" style="" type="button" ev:onclick="scwin.btn_copy_before_onclick">
    						<xf:label><![CDATA[이전차수복사]]></xf:label>
    					</xf:trigger>
    					<xf:trigger class="btn" id="btn_srch_sub_bdget" style="" type="button"
    						ev:onclick="scwin.btn_srch_sub_bdget_onclick">
    						<xf:label><![CDATA[SUB계정 실행예산 조회]]></xf:label>
    					</xf:trigger>
    					<xf:trigger class="btn" id="btn_view_chng_resn" style="" type="button"
    						ev:onclick="scwin.btn_view_chng_resn_onclick">
    						<xf:label><![CDATA[예산 변경사유 보기]]></xf:label>
    					</xf:trigger>
    					<xf:trigger class="btn" id="btn_copy_agrt_cryfwd_amt" style="" type="button"
    						ev:onclick="scwin.btn_copy_agrt_cryfwd_amt_onclick">
    						<xf:label><![CDATA[협약이월예산복사]]></xf:label>
    					</xf:trigger>
    				</xf:group>
    			</xf:group>
    		</xf:group>
    		<w2:gridView class="grid" dataList="data:dlt_exec_bugt_detail" defaultCellHeight="28"
    			evenRowBackgroundColor="#f7faff" id="grd_exec_bugt_detail" noResultMessage="조회 결과가 없습니다." noResultMessageClass="noResult"
    			rowMouseOverColor="#e7f0fb" rowNumBackgroundColor="#fff" rowNumHeaderValue="No." rowNumVisible="true" rowNumWidth="60"
    			rowStatusHeaderValue="상태" rowStatusVisible="false" rowStatusWidth="50" scrollByColumn="false" scrollByColumnAdaptive="false"
    			selectedCellColor="#fbf2cd" selectedRowColor="#fbf2cd" style="height:150px;" visibleRowNum="all" fastScroll="true" focusMode="both"
    			keyMoveEditMode="true" readOnly="true" ev:onviewchange="scwin.grd_exec_bugt_detail_onviewchange"
    			ev:onafteredit="scwin.grd_exec_bugt_detail_onafteredit" editModeEvent="onclick" enterKeyMove="down">
    			<w2:caption id="caption1" style="" value="this is a grid caption."></w2:caption>
    			<w2:header id="header1" style="">
    				<w2:row id="row1" style="">
    					<w2:column displayMode="label" id="column9" inputType="text" style="height:28px;" value="대비목" width="100"></w2:column>
    					<w2:column displayMode="label" id="column7" inputType="text" style="height:28px;" value="세부비목" width="150"></w2:column>
    					<w2:column displayMode="label" id="column39" inputType="text" style="height:28px" value="협약예산" width="100"></w2:column>
    					<w2:column displayMode="label" escape="false" id="column5" inputType="text" style="height:28px;"
    						value="대비목별합계&lt;br/&gt;(협약)" width="100">
    					</w2:column>
    					<w2:column displayMode="label" escape="false" id="column69" inputType="text" style="height:28px"
    						value="집행금액&lt;br/&gt;(원인금액포함)" width="100">
    					</w2:column>
    					<w2:column displayMode="label" id="column66" inputType="text" style="height:28px" value="협약대비실행" width="100"></w2:column>
    					<w2:column displayMode="label" escape="false" id="column63" inputType="text" style="height:28px"
    						value="협약대비실행&lt;br/&gt;(비목별)" width="100" hidden="true">
    					</w2:column>
    					<w2:column displayMode="label" escape="false" id="column156" inputType="text" style="height:28px"
    						value="실행예산&lt;br/&gt;(30차)" width="70" hidden="true">
    					</w2:column>
    					<w2:column displayMode="label" escape="false" id="column153" inputType="text" style="height:28px"
    						value="실행예산&lt;br/&gt;(29차)" width="70" hidden="true">
    					</w2:column>
    					<w2:column displayMode="label" escape="false" id="column150" inputType="text" style="height:28px"
    						value="실행예산&lt;br/&gt;(28차)" width="70" hidden="true">
    					</w2:column>
    					<w2:column displayMode="label" escape="false" id="column147" inputType="text" style="height:28px"
    						value="실행예산&lt;br/&gt;(27차)" width="70" hidden="true">
    					</w2:column>
    					<w2:column displayMode="label" escape="false" id="column144" inputType="text" style="height:28px"
    						value="실행예산&lt;br/&gt;(26차)" width="70" hidden="true">
    					</w2:column>
    					<w2:column displayMode="label" escape="false" id="column141" inputType="text" style="height:28px"
    						value="실행예산&lt;br/&gt;(25차)" width="70" hidden="true">
    					</w2:column>
    					<w2:column displayMode="label" escape="false" id="column138" inputType="text" style="height:28px"
    						value="실행예산&lt;br/&gt;(24차)" width="70" hidden="true">
    					</w2:column>
    					<w2:column displayMode="label" escape="false" id="column135" inputType="text" style="height:28px"
    						value="실행예산&lt;br/&gt;(23차)" width="70" hidden="true">
    					</w2:column>
    					<w2:column displayMode="label" escape="false" id="column132" inputType="text" style="height:28px"
    						value="실행예산&lt;br/&gt;(22차)" width="70" hidden="true">
    					</w2:column>
    					<w2:column displayMode="label" escape="false" id="column129" inputType="text" style="height:28px"
    						value="실행예산&lt;br/&gt;(21차)" width="70" hidden="true">
    					</w2:column>
    					<w2:column displayMode="label" escape="false" id="column126" inputType="text" style="height:28px"
    						value="실행예산&lt;br/&gt;(20차)" width="70" hidden="true">
    					</w2:column>
    					<w2:column displayMode="label" escape="false" id="column123" inputType="text" style="height:28px"
    						value="실행예산&lt;br/&gt;(19차)" width="70" hidden="true">
    					</w2:column>
    					<w2:column displayMode="label" escape="false" id="column120" inputType="text" style="height:28px"
    						value="실행예산&lt;br/&gt;(18차)" width="70" hidden="true">
    					</w2:column>
    					<w2:column displayMode="label" escape="false" id="column117" inputType="text" style="height:28px"
    						value="실행예산&lt;br/&gt;(17차)" width="70" hidden="true">
    					</w2:column>
    					<w2:column displayMode="label" escape="false" id="column114" inputType="text" style="height:28px"
    						value="실행예산&lt;br/&gt;(16차)" width="70" hidden="true">
    					</w2:column>
    					<w2:column displayMode="label" escape="false" id="column111" inputType="text" style="height:28px"
    						value="실행예산&lt;br/&gt;(15차)" width="70" hidden="true">
    					</w2:column>
    					<w2:column displayMode="label" escape="false" id="column108" inputType="text" style="height:28px"
    						value="실행예산&lt;br/&gt;(14차)" width="70" hidden="true">
    					</w2:column>
    					<w2:column displayMode="label" escape="false" id="column105" inputType="text" style="height:28px"
    						value="실행예산&lt;br/&gt;(13차)" width="70" hidden="true">
    					</w2:column>
    					<w2:column displayMode="label" escape="false" id="column102" inputType="text" style="height:28px"
    						value="실행예산&lt;br/&gt;(12차)" width="70" hidden="true">
    					</w2:column>
    					<w2:column displayMode="label" escape="false" id="column99" inputType="text" style="height:28px"
    						value="실행예산&lt;br/&gt;(11차)" width="70" hidden="true">
    					</w2:column>
    					<w2:column displayMode="label" escape="false" id="column96" inputType="text" style="height:28px"
    						value="실행예산&lt;br/&gt;(10차)" width="70" hidden="true">
    					</w2:column>
    					<w2:column displayMode="label" escape="false" id="column93" inputType="text" style="height:28px"
    						value="실행예산&lt;br/&gt;(9차)" width="70" hidden="true">
    					</w2:column>
    					<w2:column displayMode="label" escape="false" id="column90" inputType="text" style="height:28px"
    						value="실행예산&lt;br/&gt;(8차)" width="70" hidden="true">
    					</w2:column>
    					<w2:column displayMode="label" escape="false" id="column87" inputType="text" style="height:28px"
    						value="실행예산&lt;br/&gt;(7차)" width="70" hidden="true">
    					</w2:column>
    					<w2:column displayMode="label" escape="false" id="column84" inputType="text" style="height:28px"
    						value="실행예산&lt;br/&gt;(6차)" width="70" hidden="true">
    					</w2:column>
    					<w2:column displayMode="label" escape="false" id="column81" inputType="text" style="height:28px"
    						value="실행예산&lt;br/&gt;(5차)" width="70" hidden="true">
    					</w2:column>
    					<w2:column displayMode="label" escape="false" id="column78" inputType="text" style="height:28px"
    						value="실행예산&lt;br/&gt;(4차)" width="70" hidden="true">
    					</w2:column>
    					<w2:column displayMode="label" escape="false" id="column75" inputType="text" style="height:28px"
    						value="실행예산&lt;br/&gt;(3차)" width="70" hidden="true">
    					</w2:column>
    					<w2:column displayMode="label" escape="false" id="column60" inputType="text" style="height:28px"
    						value="실행예산&lt;br/&gt;(2차)" width="70" hidden="true">
    					</w2:column>
    					<w2:column displayMode="label" escape="false" id="column57" inputType="text" style="height:28px"
    						value="실행예산&lt;br/&gt;(1차)" width="70" hidden="true">
    					</w2:column>
    					<w2:column displayMode="label" id="column54" inputType="text" style="height:28px" value="협약이월예산" width="100"></w2:column>
    					<w2:column width="70" inputType="text" style="height:28px" id="column197" value="예산항목존재여부" displayMode="label" hidden="true"></w2:column>
    					<w2:column width="70" inputType="text" style="height:28px" id="column201" value="그리드컬럼id" displayMode="label" hidden="true"></w2:column>
    					<w2:column width="100" inputType="text" style="height:28px" id="column205" value="대비목코드" displayMode="label" hidden="true"></w2:column>
    					<w2:column width="100" inputType="text" style="height:28px" id="column209" value="비목해소기준" displayMode="label" hidden="true"></w2:column>
    					<w2:column width="100" inputType="text" style="height:28px" id="column213" value="계정번호" displayMode="label" hidden="true"></w2:column>
    					<w2:column width="100" inputType="text" style="height:28px" id="column217" value="과제번호" displayMode="label" hidden="true"></w2:column>
    					<w2:column width="100" inputType="text" style="height:28px" id="column221" value="회계코드(예산항목)" displayMode="label" hidden="true"></w2:column>
    					<w2:column width="100" inputType="text" style="height:28px" id="column225" value="상태(실행예산상태)" displayMode="label" hidden="true"></w2:column>
    					<w2:column width="100" inputType="text" style="height:28px" id="column229" value="연구계정구분" displayMode="label" hidden="true"></w2:column>
    					<w2:column width="100" inputType="text" style="height:28px" id="column233" value="연구계정구분명" displayMode="label" hidden="true"></w2:column>
    					<w2:column width="83" inputType="text" style="height:28px" id="column237" value="실행예산금액" displayMode="label" hidden="true"></w2:column>
    				</w2:row>
    			</w2:header>
    			<w2:gBody id="gBody1" style="">
    				<w2:row id="row2" style="">
    					<w2:column class="le" displayMode="label" id="itm_clsf_nm" inputType="text" readOnly="true" style="height:28px;"
    						textAlign="left" width="100" colMerge="true">
    					</w2:column>
    					<w2:column class="" displayMode="label" id="bugt_item_nm" inputType="text" readOnly="true" style="height:28px;"
    						textAlign="left" value="" width="150">
    					</w2:column>
    					<w2:column class="" displayMode="label" id="bg_agree_tot_sum" inputType="text" style="height:28px" textAlign="right"
    						value="" width="100" dataType="number" displayFormat="#,###" maxLength="15" defaultValue="0">
    					</w2:column>
    					<w2:column class="" displayMode="label" id="bugt_item_sum" inputType="text" readOnly="true"
    						style="height:28px;" textAlign="right" width="0" dataType="number" displayFormat="#,###" maxLength="15" defaultValue="0">
    					</w2:column>
    					<w2:column class="" displayMode="label" id="enfrc_cause_amt" inputType="text" style="height:28px" textAlign="right"
    						value="" width="100" defaultValue="0" dataType="number" displayFormat="#,###" maxLength="15">
    					</w2:column>
    					<w2:column class="" displayMode="label" id="bugt_item_rat" inputType="text" style="height:28px" textAlign="right"
    						value="" width="100" defaultValue="0.0" dataType="number" displayFormat="#.0 %" maxLength="15">
    					</w2:column>
    					<w2:column class="" displayMode="label" id="bg_agree_tot_rat" inputType="text" style="height:28px" textAlign="right"
    						value="" width="100" dataType="number" displayFormat="#.0 %" maxLength="15">
    					</w2:column>
    					<w2:column class="ri" displayMode="label" id="bugt_item_amt_30" inputType="text" style="height:28px"
    						textAlign="right" value="" width="83" dataType="number" defaultValue="0" applyFormat="all" displayFormat="#,###" maxLength="15">
    					</w2:column>
    					<w2:column class="ri" displayMode="label" id="bugt_item_amt_29" inputType="text" style="height:28px"
    						textAlign="right" value="" width="83" dataType="number" defaultValue="0" applyFormat="all" displayFormat="#,###" maxLength="15">
    					</w2:column>
    					<w2:column class="ri" displayMode="label" id="bugt_item_amt_28" inputType="text" style="height:28px"
    						textAlign="right" value="" width="83" dataType="number" defaultValue="0" applyFormat="all" displayFormat="#,###" maxLength="15">
    					</w2:column>
    					<w2:column class="ri" displayMode="label" id="bugt_item_amt_27" inputType="text" style="height:28px"
    						textAlign="right" value="" width="83" dataType="number" defaultValue="0" applyFormat="all" displayFormat="#,###" maxLength="15">
    					</w2:column>
    					<w2:column class="ri" displayMode="label" id="bugt_item_amt_26" inputType="text" style="height:28px"
    						textAlign="right" value="" width="83" dataType="number" defaultValue="0" applyFormat="all" displayFormat="#,###" maxLength="15">
    					</w2:column>
    					<w2:column class="ri" displayMode="label" id="bugt_item_amt_25" inputType="text" style="height:28px"
    						textAlign="right" value="" width="83" dataType="number" defaultValue="0" applyFormat="all" displayFormat="#,###" maxLength="15">
    					</w2:column>
    					<w2:column class="ri" displayMode="label" id="bugt_item_amt_24" inputType="text" style="height:28px"
    						textAlign="right" value="" width="83" dataType="number" defaultValue="0" applyFormat="all" displayFormat="#,###" maxLength="15">
    					</w2:column>
    					<w2:column class="ri" displayMode="label" id="bugt_item_amt_23" inputType="text" style="height:28px"
    						textAlign="right" value="" width="83" dataType="number" defaultValue="0" applyFormat="all" displayFormat="#,###" maxLength="15">
    					</w2:column>
    					<w2:column class="ri" displayMode="label" id="bugt_item_amt_22" inputType="text" style="height:28px"
    						textAlign="right" value="" width="83" dataType="number" defaultValue="0" applyFormat="all" displayFormat="#,###" maxLength="15">
    					</w2:column>
    					<w2:column class="ri" displayMode="label" id="bugt_item_amt_21" inputType="text" style="height:28px"
    						textAlign="right" value="" width="83" dataType="number" defaultValue="0" applyFormat="all" displayFormat="#,###" maxLength="15">
    					</w2:column>
    					<w2:column class="ri" displayMode="label" id="bugt_item_amt_20" inputType="text" style="height:28px"
    						textAlign="right" value="" width="83" dataType="number" defaultValue="0" applyFormat="all" displayFormat="#,###" maxLength="15">
    					</w2:column>
    					<w2:column class="ri" displayMode="label" id="bugt_item_amt_19" inputType="text" style="height:28px"
    						textAlign="right" value="" width="83" dataType="number" defaultValue="0" applyFormat="all" displayFormat="#,###" maxLength="15">
    					</w2:column>
    					<w2:column class="ri" displayMode="label" id="bugt_item_amt_18" inputType="text" style="height:28px"
    						textAlign="right" value="" width="83" dataType="number" defaultValue="0" applyFormat="all" displayFormat="#,###" maxLength="15">
    					</w2:column>
    					<w2:column class="ri" displayMode="label" id="bugt_item_amt_17" inputType="text" style="height:28px"
    						textAlign="right" value="" width="83" dataType="number" defaultValue="0" applyFormat="all" displayFormat="#,###" maxLength="15">
    					</w2:column>
    					<w2:column class="ri" displayMode="label" id="bugt_item_amt_16" inputType="text" style="height:28px"
    						textAlign="right" value="" width="83" dataType="number" defaultValue="0" applyFormat="all" displayFormat="#,###" maxLength="15">
    					</w2:column>
    					<w2:column class="ri" displayMode="label" id="bugt_item_amt_15" inputType="text" style="height:28px"
    						textAlign="right" value="" width="83" dataType="number" defaultValue="0" applyFormat="all" displayFormat="#,###" maxLength="15">
    					</w2:column>
    					<w2:column class="ri" displayMode="label" id="bugt_item_amt_14" inputType="text" style="height:28px"
    						textAlign="right" value="" width="83" dataType="number" defaultValue="0" applyFormat="all" displayFormat="#,###" maxLength="15">
    					</w2:column>
    					<w2:column class="ri" displayMode="label" id="bugt_item_amt_13" inputType="text" style="height:28px"
    						textAlign="right" value="" width="83" dataType="number" defaultValue="0" applyFormat="all" displayFormat="#,###" maxLength="15">
    					</w2:column>
    					<w2:column class="ri" displayMode="label" id="bugt_item_amt_12" inputType="text" style="height:28px"
    						textAlign="right" value="" width="83" dataType="number" defaultValue="0" applyFormat="all" displayFormat="#,###" maxLength="15">
    					</w2:column>
    					<w2:column class="ri" displayMode="label" id="bugt_item_amt_11" inputType="text" style="height:28px"
    						textAlign="right" value="" width="83" dataType="number" defaultValue="0" applyFormat="all" displayFormat="#,###" maxLength="15">
    					</w2:column>
    					<w2:column class="ri" displayMode="label" id="bugt_item_amt_10" inputType="text" style="height:28px"
    						textAlign="right" value="" width="83" dataType="number" defaultValue="0" applyFormat="all" displayFormat="#,###" maxLength="15">
    					</w2:column>
    					<w2:column class="ri" displayMode="label" id="bugt_item_amt_09" inputType="text" style="height:28px"
    						textAlign="right" value="" width="83" dataType="number" defaultValue="0" applyFormat="all" displayFormat="#,###" maxLength="15">
    					</w2:column>
    					<w2:column class="ri" displayMode="label" id="bugt_item_amt_08" inputType="text" style="height:28px"
    						textAlign="right" value="" width="83" dataType="number" defaultValue="0" applyFormat="all" displayFormat="#,###" maxLength="15">
    					</w2:column>
    					<w2:column class="ri" displayMode="label" id="bugt_item_amt_07" inputType="text" style="height:28px"
    						textAlign="right" value="" width="83" dataType="number" defaultValue="0" applyFormat="all" displayFormat="#,###" maxLength="15">
    					</w2:column>
    					<w2:column class="ri" displayMode="label" id="bugt_item_amt_06" inputType="text" style="height:28px"
    						textAlign="right" value="" width="83" dataType="number" defaultValue="0" applyFormat="all" displayFormat="#,###" maxLength="15">
    					</w2:column>
    					<w2:column class="ri" displayMode="label" id="bugt_item_amt_05" inputType="text" style="height:28px"
    						textAlign="right" value="" width="83" dataType="number" defaultValue="0" applyFormat="all" displayFormat="#,###" maxLength="15">
    					</w2:column>
    					<w2:column class="ri" displayMode="label" id="bugt_item_amt_04" inputType="text" style="height:28px"
    						textAlign="right" value="" width="83" dataType="number" defaultValue="0" applyFormat="all" displayFormat="#,###" maxLength="15">
    					</w2:column>
    					<w2:column class="ri" displayMode="label" id="bugt_item_amt_03" inputType="text" style="height:28px"
    						textAlign="right" value="" width="83" dataType="number" defaultValue="0" applyFormat="all" displayFormat="#,###" maxLength="15">
    					</w2:column>
    					<w2:column class="ri" displayMode="label" id="bugt_item_amt_02" inputType="text" style="height:28px"
    						textAlign="right" value="" width="83" dataType="number" defaultValue="0" applyFormat="all" displayFormat="#,###" maxLength="15">
    					</w2:column>
    					<w2:column class="ri" displayMode="label" id="bugt_item_amt_01" inputType="text" style="height:28px"
    						textAlign="right" value="" width="83" dataType="number" defaultValue="0" applyFormat="all" displayFormat="#,###" maxLength="15">
    					</w2:column>
    					<w2:column class="" displayMode="label" id="agrt_cryfwd_amt" inputType="text" style="height:28px" textAlign="right"
    						value="" width="100" dataType="number" displayFormat="#,###" applyFormat="all" defaultValue="0" maxLength="15">
    					</w2:column>
    					<w2:column width="70" inputType="text" style="height:28px" id="bugt_item_yn" value="" displayMode="label"></w2:column>
    					<w2:column width="70" inputType="text" style="height:28px" id="grid_column_id" value="" displayMode="label"></w2:column>
    					<w2:column width="100" inputType="text" style="height:28px" id="itm_clsf" value="" displayMode="label"
    						maxLength="6">
    					</w2:column>
    					<w2:column width="100" inputType="text" style="height:28px" id="itm_solve_base" value="" displayMode="label"
    						maxLength="6">
    					</w2:column>
    					<w2:column width="100" inputType="text" style="height:28px" id="accnt_no" value="" displayMode="label"
    						maxLength="8">
    					</w2:column>
    					<w2:column width="100" inputType="text" style="height:28px" id="prj_no" value="" displayMode="label"
    						maxLength="9">
    					</w2:column>
    					<w2:column width="100" inputType="text" style="height:28px" id="bugt_item" value="" displayMode="label"
    						maxLength="8">
    					</w2:column>
    					<w2:column width="100" inputType="text" style="height:28px" id="state" value="" displayMode="label" maxLength="6">
    					</w2:column>
    					<w2:column width="100" inputType="text" style="height:28px" id="resch_accnt_clsf" value="" displayMode="label"
    						maxLength="6">
    					</w2:column>
    					<w2:column width="100" inputType="text" style="height:28px" id="resch_accnt_clsf_nm" value="" displayMode="label"
    						maxLength="100">
    					</w2:column>
    					<w2:column width="83" inputType="text" style="height:28px" id="amt" value="" displayMode="label" dataType="number"
    						defaultValue="0" applyFormat="all" displayFormat="#,###" maxLength="15" textAlign="right">
    					</w2:column>
    				</w2:row>
    			</w2:gBody>
    			<w2:subTotal targetColumnID="itm_clsf_nm" style="" id="subTotal1">
    				<w2:row style="" id="row4">
    					<w2:column width="250" inputType="text" style="height:20px;" id="column196" value="소계" displayMode="label"
    						colSpan="2" rowSpan="" readOnly="true">
    					</w2:column>
    					<w2:column width="100" inputType="expression" style="height:20px" id="column194" value="" displayMode="label"
    						textAlign="right" dataType="number" displayFormat="#,###" expression="sum('bg_agree_tot_sum')" readOnly="true">
    					</w2:column>
    					<w2:column width="0" inputType="" style="height:20px" id="column193" value="" displayMode="label"
    						textAlign="right" displayFormat="#,###" class="ri" readOnly="true">
    					</w2:column>
    					<w2:column width="100" inputType="expression" style="height:20px" id="column192" value="" displayMode="label"
    						textAlign="right" dataType="number" displayFormat="#,###" expression="sum('enfrc_cause_amt')" readOnly="true">
    					</w2:column>
    					<w2:column width="100" inputType="text" style="height:20px" id="column191" value="" displayMode="label"
    						textAlign="right" readOnly="true">
    					</w2:column>
    					<w2:column width="100" inputType="text" style="height:20px" id="column190" value="" displayMode="label"
    						textAlign="right" readOnly="true">
    					</w2:column>
    					<w2:column width="83" inputType="expression" style="height:20px" id="column189" value="" displayMode="label"
    						textAlign="right" dataType="number" displayFormat="#,###" expression="sum('bugt_item_amt_30')" readOnly="true">
    					</w2:column>
    					<w2:column width="83" inputType="expression" style="height:20px" id="column188" value="" displayMode="label"
    						textAlign="right" dataType="number" displayFormat="#,###" expression="sum('bugt_item_amt_29')" readOnly="true">
    					</w2:column>
    					<w2:column width="83" inputType="expression" style="height:20px" id="column187" value="" displayMode="label"
    						textAlign="right" dataType="number" displayFormat="#,###" expression="sum('bugt_item_amt_28')" readOnly="true">
    					</w2:column>
    					<w2:column width="83" inputType="expression" style="height:20px" id="column186" value="" displayMode="label"
    						textAlign="right" dataType="number" displayFormat="#,###" expression="sum('bugt_item_amt_27')" readOnly="true">
    					</w2:column>
    					<w2:column width="83" inputType="expression" style="height:20px" id="column185" value="" displayMode="label"
    						textAlign="right" dataType="number" displayFormat="#,###" expression="sum('bugt_item_amt_26')" readOnly="true">
    					</w2:column>
    					<w2:column width="83" inputType="expression" style="height:20px" id="column184" value="" displayMode="label"
    						textAlign="right" dataType="number" displayFormat="#,###" expression="sum('bugt_item_amt_25')" readOnly="true">
    					</w2:column>
    					<w2:column width="83" inputType="expression" style="height:20px" id="column183" value="" displayMode="label"
    						textAlign="right" dataType="number" displayFormat="#,###" expression="sum('bugt_item_amt_24')" readOnly="true">
    					</w2:column>
    					<w2:column width="83" inputType="expression" style="height:20px" id="column182" value="" displayMode="label"
    						textAlign="right" dataType="number" displayFormat="#,###" expression="sum('bugt_item_amt_23')" readOnly="true">
    					</w2:column>
    					<w2:column width="83" inputType="expression" style="height:20px" id="column181" value="" displayMode="label"
    						textAlign="right" dataType="number" displayFormat="#,###" expression="sum('bugt_item_amt_22')" readOnly="true">
    					</w2:column>
    					<w2:column width="83" inputType="expression" style="height:20px" id="column180" value="" displayMode="label"
    						textAlign="right" dataType="number" displayFormat="#,###" expression="sum('bugt_item_amt_21')" readOnly="true">
    					</w2:column>
    					<w2:column width="83" inputType="expression" style="height:20px" id="column179" value="" displayMode="label"
    						textAlign="right" dataType="number" displayFormat="#,###" expression="sum('bugt_item_amt_20')" readOnly="true">
    					</w2:column>
    					<w2:column width="83" inputType="expression" style="height:20px" id="column178" value="" displayMode="label"
    						textAlign="right" dataType="number" displayFormat="#,###" expression="sum('bugt_item_amt_19')" readOnly="true">
    					</w2:column>
    					<w2:column width="83" inputType="expression" style="height:20px" id="column177" value="" displayMode="label"
    						textAlign="right" dataType="number" displayFormat="#,###" expression="sum('bugt_item_amt_18')" readOnly="true">
    					</w2:column>
    					<w2:column width="83" inputType="expression" style="height:20px" id="column176" value="" displayMode="label"
    						textAlign="right" dataType="number" displayFormat="#,###" expression="sum('bugt_item_amt_17')" readOnly="true">
    					</w2:column>
    					<w2:column width="83" inputType="expression" style="height:20px" id="column175" value="" displayMode="label"
    						textAlign="right" dataType="number" displayFormat="#,###" expression="sum('bugt_item_amt_16')" readOnly="true">
    					</w2:column>
    					<w2:column width="83" inputType="expression" style="height:20px" id="column174" value="" displayMode="label"
    						textAlign="right" dataType="number" displayFormat="#,###" expression="sum('bugt_item_amt_15')" readOnly="true">
    					</w2:column>
    					<w2:column width="83" inputType="expression" style="height:20px" id="column173" value="" displayMode="label"
    						textAlign="right" dataType="number" displayFormat="#,###" expression="sum('bugt_item_amt_14')" readOnly="true">
    					</w2:column>
    					<w2:column width="83" inputType="expression" style="height:20px" id="column172" value="" displayMode="label"
    						textAlign="right" dataType="number" displayFormat="#,###" expression="sum('bugt_item_amt_13')" readOnly="true">
    					</w2:column>
    					<w2:column width="83" inputType="expression" style="height:20px" id="column171" value="" displayMode="label"
    						textAlign="right" dataType="number" displayFormat="#,###" expression="sum('bugt_item_amt_12')" readOnly="true">
    					</w2:column>
    					<w2:column width="83" inputType="expression" style="height:20px" id="column170" value="" displayMode="label"
    						textAlign="right" dataType="number" displayFormat="#,###" expression="sum('bugt_item_amt_11')" readOnly="true">
    					</w2:column>
    					<w2:column width="83" inputType="expression" style="height:20px" id="column169" value="" displayMode="label"
    						textAlign="right" dataType="number" displayFormat="#,###" expression="sum('bugt_item_amt_10')" readOnly="true">
    					</w2:column>
    					<w2:column width="83" inputType="expression" style="height:20px" id="column168" value="" displayMode="label"
    						textAlign="right" dataType="number" displayFormat="#,###" expression="sum('bugt_item_amt_09')" readOnly="true">
    					</w2:column>
    					<w2:column width="83" inputType="expression" style="height:20px" id="column167" value="" displayMode="label"
    						textAlign="right" dataType="number" displayFormat="#,###" expression="sum('bugt_item_amt_08')" readOnly="true">
    					</w2:column>
    					<w2:column width="83" inputType="expression" style="height:20px" id="column166" value="" displayMode="label"
    						textAlign="right" dataType="number" displayFormat="#,###" expression="sum('bugt_item_amt_07')" readOnly="true">
    					</w2:column>
    					<w2:column width="83" inputType="expression" style="height:20px" id="column165" value="" displayMode="label"
    						textAlign="right" dataType="number" displayFormat="#,###" expression="sum('bugt_item_amt_06')" readOnly="true">
    					</w2:column>
    					<w2:column width="83" inputType="expression" style="height:20px" id="column164" value="" displayMode="label"
    						textAlign="right" dataType="number" displayFormat="#,###" expression="sum('bugt_item_amt_05')" readOnly="true">
    					</w2:column>
    					<w2:column width="83" inputType="expression" style="height:20px" id="column163" value="" displayMode="label"
    						textAlign="right" dataType="number" displayFormat="#,###" expression="sum('bugt_item_amt_04')" readOnly="true">
    					</w2:column>
    					<w2:column width="83" inputType="expression" style="height:20px" id="column162" value="" displayMode="label"
    						textAlign="right" dataType="number" displayFormat="#,###" expression="sum('bugt_item_amt_03')" readOnly="true">
    					</w2:column>
    					<w2:column width="83" inputType="expression" style="height:20px" id="column161" value="" displayMode="label"
    						textAlign="right" dataType="number" displayFormat="#,###" expression="sum('bugt_item_amt_02')" readOnly="true">
    					</w2:column>
    					<w2:column width="83" inputType="expression" style="height:20px" id="column160" value="" displayMode="label"
    						textAlign="right" dataType="number" displayFormat="#,###" expression="sum('bugt_item_amt_01')" readOnly="true">
    					</w2:column>
    					<w2:column width="100" inputType="expression" style="height:20px" id="column159" value="" displayMode="label"
    						textAlign="right" dataType="number" displayFormat="#,###" expression="sum('agrt_cryfwd_amt')" readOnly="true">
    					</w2:column>
    					<w2:column width="70" inputType="text" style="height:20px" id="column199" value="" displayMode="label"
    						textAlign="right" readOnly="true">
    					</w2:column>
    					<w2:column width="70" inputType="text" style="height:20px" id="column203" value="" displayMode="label"
    						textAlign="right" readOnly="true">
    					</w2:column>
    					<w2:column width="100" inputType="text" style="height:20px" id="column207" value="" displayMode="label"
    						textAlign="right" readOnly="true">
    					</w2:column>
    					<w2:column width="100" inputType="text" style="height:20px" id="column211" value="" displayMode="label"
    						textAlign="right" readOnly="true">
    					</w2:column>
    					<w2:column width="100" inputType="text" style="height:20px" id="column215" value="" displayMode="label"
    						textAlign="right" readOnly="true">
    					</w2:column>
    					<w2:column width="100" inputType="text" style="height:20px" id="column219" value="" displayMode="label"
    						textAlign="right" readOnly="true">
    					</w2:column>
    					<w2:column width="100" inputType="text" style="height:20px" id="column223" value="" displayMode="label"
    						textAlign="right" readOnly="true">
    					</w2:column>
    					<w2:column width="100" inputType="text" style="height:20px" id="column227" value="" displayMode="label"
    						textAlign="right" readOnly="true">
    					</w2:column>
    					<w2:column width="100" inputType="text" style="height:20px" id="column231" value="" displayMode="label"
    						textAlign="right" readOnly="true">
    					</w2:column>
    					<w2:column width="100" inputType="text" style="height:20px" id="column235" value="" displayMode="label"
    						textAlign="right" readOnly="true">
    					</w2:column>
    					<w2:column width="83" inputType="text" style="height:20px" id="column239" value="" displayMode="label"
    						textAlign="right" readOnly="true">
    					</w2:column>
    				</w2:row>
    			</w2:subTotal>
    			<w2:footer id="footer1" style="">
    				<w2:row id="row3" style="">
    					<w2:column colSpan="2" displayMode="label" id="column53" inputType="text" rowSpan="" style="height:28px;" value="총계"
    						width="200" readOnly="true">
    					</w2:column>
    					<w2:column class="ri" displayMode="label" id="amt_bg_agree_tot_sum" inputType="expression" style="height:28px;"
    						textAlign="right" value="" width="100" dataType="number" displayFormat="#,###" expression="sum('bg_agree_tot_sum')" readOnly="true">
    					</w2:column>
    					<w2:column class="ri" displayMode="label" id="amt_bugt_item_sum" inputType="expression" style="height:28px;"
    						textAlign="right" value="" width="0" dataType="number" displayFormat="#,###" expression="sum('bugt_item_sum')" readOnly="true">
    					</w2:column>
    					<w2:column class="ri" displayMode="label" id="sum_enfrc_cause_amt" inputType="expression" style="height:28px" textAlign="right"
    						value="" width="100" dataType="number" displayFormat="#,###" expression="sum('enfrc_cause_amt')" readOnly="true">
    					</w2:column>
    					<w2:column class="ri" displayMode="label" id="column68" inputType="text" style="height:28px" textAlign="right"
    						value="" width="100" readOnly="true">
    					</w2:column>
    					<w2:column class="ri" displayMode="label" id="column65" inputType="text" style="height:28px" textAlign="right"
    						value="" width="100" readOnly="true">
    					</w2:column>
    					<w2:column class="ri" displayMode="label" id="sum_bugt_item_amt_30" inputType="expression" style="height:28px"
    						textAlign="right" value="" width="83" dataType="number" displayFormat="#,###" expression="sum('bugt_item_amt_30')" readOnly="true">
    					</w2:column>
    					<w2:column class="ri" displayMode="label" id="sum_bugt_item_amt_29" inputType="expression" style="height:28px"
    						textAlign="right" value="" width="83" dataType="number" displayFormat="#,###" expression="sum('bugt_item_amt_29')" readOnly="true">
    					</w2:column>
    					<w2:column class="ri" displayMode="label" id="sum_bugt_item_amt_28" inputType="expression" style="height:28px"
    						textAlign="right" value="" width="83" dataType="number" displayFormat="#,###" expression="sum('bugt_item_amt_28')" readOnly="true">
    					</w2:column>
    					<w2:column class="ri" displayMode="label" id="sum_bugt_item_amt_27" inputType="expression" style="height:28px"
    						textAlign="right" value="" width="83" dataType="number" displayFormat="#,###" expression="sum('bugt_item_amt_27')" readOnly="true">
    					</w2:column>
    					<w2:column class="ri" displayMode="label" id="sum_bugt_item_amt_26" inputType="expression" style="height:28px"
    						textAlign="right" value="" width="83" dataType="number" displayFormat="#,###" expression="sum('bugt_item_amt_26')" readOnly="true">
    					</w2:column>
    					<w2:column class="ri" displayMode="label" id="sum_bugt_item_amt_25" inputType="expression" style="height:28px"
    						textAlign="right" value="" width="83" dataType="number" displayFormat="#,###" expression="sum('bugt_item_amt_25')" readOnly="true">
    					</w2:column>
    					<w2:column class="ri" displayMode="label" id="sum_bugt_item_amt_24" inputType="expression" style="height:28px"
    						textAlign="right" value="" width="83" dataType="number" displayFormat="#,###" expression="sum('bugt_item_amt_24')" readOnly="true">
    					</w2:column>
    					<w2:column class="ri" displayMode="label" id="sum_bugt_item_amt_23" inputType="expression" style="height:28px"
    						textAlign="right" value="" width="83" dataType="number" displayFormat="#,###" expression="sum('bugt_item_amt_23')" readOnly="true">
    					</w2:column>
    					<w2:column class="ri" displayMode="label" id="sum_bugt_item_amt_22" inputType="expression" style="height:28px"
    						textAlign="right" value="" width="83" dataType="number" displayFormat="#,###" expression="sum('bugt_item_amt_22')" readOnly="true">
    					</w2:column>
    					<w2:column class="ri" displayMode="label" id="sum_bugt_item_amt_21" inputType="expression" style="height:28px"
    						textAlign="right" value="" width="83" dataType="number" displayFormat="#,###" expression="sum('bugt_item_amt_21')" readOnly="true">
    					</w2:column>
    					<w2:column class="ri" displayMode="label" id="sum_bugt_item_amt_20" inputType="expression" style="height:28px"
    						textAlign="right" value="" width="83" dataType="number" displayFormat="#,###" expression="sum('bugt_item_amt_20')" readOnly="true">
    					</w2:column>
    					<w2:column class="ri" displayMode="label" id="sum_bugt_item_amt_19" inputType="expression" style="height:28px"
    						textAlign="right" value="" width="83" dataType="number" displayFormat="#,###" expression="sum('bugt_item_amt_19')" readOnly="true">
    					</w2:column>
    					<w2:column class="ri" displayMode="label" id="sum_bugt_item_amt_18" inputType="expression" style="height:28px"
    						textAlign="right" value="" width="83" dataType="number" displayFormat="#,###" expression="sum('bugt_item_amt_18')" readOnly="true">
    					</w2:column>
    					<w2:column class="ri" displayMode="label" id="sum_bugt_item_amt_17" inputType="expression" style="height:28px"
    						textAlign="right" value="" width="83" dataType="number" displayFormat="#,###" expression="sum('bugt_item_amt_17')" readOnly="true">
    					</w2:column>
    					<w2:column class="ri" displayMode="label" id="sum_bugt_item_amt_16" inputType="expression" style="height:28px"
    						textAlign="right" value="" width="83" dataType="number" displayFormat="#,###" expression="sum('bugt_item_amt_16')" readOnly="true">
    					</w2:column>
    					<w2:column class="ri" displayMode="label" id="sum_bugt_item_amt_15" inputType="expression" style="height:28px"
    						textAlign="right" value="" width="83" dataType="number" displayFormat="#,###" expression="sum('bugt_item_amt_15')" readOnly="true">
    					</w2:column>
    					<w2:column class="ri" displayMode="label" id="sum_bugt_item_amt_14" inputType="expression" style="height:28px"
    						textAlign="right" value="" width="83" dataType="number" displayFormat="#,###" expression="sum('bugt_item_amt_14')" readOnly="true">
    					</w2:column>
    					<w2:column class="ri" displayMode="label" id="sum_bugt_item_amt_13" inputType="expression" style="height:28px"
    						textAlign="right" value="" width="83" dataType="number" displayFormat="#,###" expression="sum('bugt_item_amt_13')" readOnly="true">
    					</w2:column>
    					<w2:column class="ri" displayMode="label" id="sum_bugt_item_amt_12" inputType="expression" style="height:28px"
    						textAlign="right" value="" width="83" dataType="number" displayFormat="#,###" expression="sum('bugt_item_amt_12')" readOnly="true">
    					</w2:column>
    					<w2:column class="ri" displayMode="label" id="sum_bugt_item_amt_11" inputType="expression" style="height:28px"
    						textAlign="right" value="" width="83" dataType="number" displayFormat="#,###" expression="sum('bugt_item_amt_11')" readOnly="true">
    					</w2:column>
    					<w2:column class="ri" displayMode="label" id="sum_bugt_item_amt_10" inputType="expression" style="height:28px" textAlign="right"
    						value="" width="83" dataType="number" displayFormat="#,###" expression="sum('bugt_item_amt_10')" readOnly="true">
    					</w2:column>
    					<w2:column class="ri" displayMode="label" id="sum_bugt_item_amt_09" inputType="expression" style="height:28px" textAlign="right"
    						value="" width="83" dataType="number" displayFormat="#,###" expression="sum('bugt_item_amt_09')" readOnly="true">
    					</w2:column>
    					<w2:column class="ri" displayMode="label" id="sum_bugt_item_amt_08" inputType="expression" style="height:28px" textAlign="right"
    						value="" width="83" dataType="number" displayFormat="#,###" expression="sum('bugt_item_amt_08')" readOnly="true">
    					</w2:column>
    					<w2:column class="ri" displayMode="label" id="sum_bugt_item_amt_07" inputType="expression" style="height:28px" textAlign="right"
    						value="" width="83" dataType="number" displayFormat="#,###" expression="sum('bugt_item_amt_07')" readOnly="true">
    					</w2:column>
    					<w2:column class="ri" displayMode="label" id="sum_bugt_item_amt_06" inputType="expression" style="height:28px" textAlign="right"
    						value="" width="83" dataType="number" displayFormat="#,###" expression="sum('bugt_item_amt_06')" readOnly="true">
    					</w2:column>
    					<w2:column class="ri" displayMode="label" id="sum_bugt_item_amt_05" inputType="expression" style="height:28px" textAlign="right"
    						value="" width="83" dataType="number" displayFormat="#,###" expression="sum('bugt_item_amt_05')" readOnly="true">
    					</w2:column>
    					<w2:column class="ri" displayMode="label" id="sum_bugt_item_amt_04" inputType="expression" style="height:28px" textAlign="right"
    						value="" width="83" dataType="number" displayFormat="#,###" expression="sum('bugt_item_amt_04')" readOnly="true">
    					</w2:column>
    					<w2:column class="ri" displayMode="label" id="sum_bugt_item_amt_03" inputType="expression" style="height:28px" textAlign="right"
    						value="" width="83" dataType="number" displayFormat="#,###" expression="sum('bugt_item_amt_03')" readOnly="true">
    					</w2:column>
    					<w2:column class="ri" displayMode="label" id="sum_bugt_item_amt_02" inputType="expression" style="height:28px" textAlign="right"
    						value="" width="83" dataType="number" displayFormat="#,###" expression="sum('bugt_item_amt_02')" readOnly="true">
    					</w2:column>
    					<w2:column class="ri" displayMode="label" id="sum_bugt_item_amt_01" inputType="expression" style="height:28px" textAlign="right"
    						value="" width="83" dataType="number" displayFormat="#,###" expression="sum('bugt_item_amt_01')" readOnly="true">
    					</w2:column>
    					<w2:column class="ri" displayMode="label" id="sum_agrt_cryfwd_amt" inputType="expression" style="height:28px" textAlign="right"
    						value="" width="100" expression="sum('agrt_cryfwd_amt')" readOnly="true" displayFormat="#,###" dataType="number">
    					</w2:column>
    					<w2:column width="70" inputType="text" style="height:28px" id="column200" value="" displayMode="label" readOnly="true"></w2:column>
    					<w2:column width="70" inputType="text" style="height:28px" id="column204" value="" displayMode="label" readOnly="true"></w2:column>
    					<w2:column width="100" inputType="text" style="height:28px" id="column208" value="" displayMode="label" readOnly="true"></w2:column>
    					<w2:column width="100" inputType="text" style="height:28px" id="column212" value="" displayMode="label" readOnly="true"></w2:column>
    					<w2:column width="100" inputType="text" style="height:28px" id="column216" value="" displayMode="label" readOnly="true"></w2:column>
    					<w2:column width="100" inputType="text" style="height:28px" id="column220" value="" displayMode="label" readOnly="true"></w2:column>
    					<w2:column width="100" inputType="text" style="height:28px" id="column224" value="" displayMode="label" readOnly="true"></w2:column>
    					<w2:column width="100" inputType="text" style="height:28px" id="column228" value="" displayMode="label" readOnly="true"></w2:column>
    					<w2:column width="100" inputType="text" style="height:28px" id="column232" value="" displayMode="label" readOnly="true"></w2:column>
    					<w2:column width="100" inputType="text" style="height:28px" id="column236" value="" displayMode="label" readOnly="true"></w2:column>
    					<w2:column width="83" inputType="text" style="height:28px" id="column240" value="" displayMode="label" readOnly="true"></w2:column>
    				</w2:row>
    			</w2:footer>
    		</w2:gridView>
    		<xf:group tagname="table" style="width:100%;" id="" class="w2tb tbl">
    			<w2:attributes>
    				<w2:summary></w2:summary>
    			</w2:attributes>
    			<xf:group tagname="caption"></xf:group>
    			<xf:group tagname="colgroup">
    				<xf:group tagname="col" style="width:200px;"></xf:group>
    				<xf:group tagname="col" style=""></xf:group>
    			</xf:group>
    			<xf:group tagname="tr" style="">
    				<xf:group tagname="th" style="" class="w2tb_th">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:textbox id="" label="편성/변경사유" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group tagname="td" style="" class="w2tb_td">
    					<xf:textarea class="" id="txa_resn_contnt" maxlength="2147483647" style="height:80px;" title=""></xf:textarea>
    				</xf:group>
    			</xf:group>
    			<xf:group tagname="tr">
    				<xf:group tagname="th" style="" class="w2tb_th">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:textbox id="" label="첨부파일" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group tagname="td" style="" class="w2tb_td">
    					<xf:group class="fileuploadBox" id="upload_A" style="height:150px;"></xf:group>
    				</xf:group>
    			</xf:group>
    		</xf:group>
    		<xf:group class="btnGroup" id="grp_bottom_btn_area" style="">
    			<xf:group class="le" id="" style="">
    				<w2:anchor id="btn_note_req" outerDiv="false" style="" ev:onclick="scwin.btn_note_req_onclick">
    					<xf:label><![CDATA[연구노트신청 바로가기]]></xf:label>
    				</w2:anchor>
    			</xf:group>
    			<xf:group class="ri" id="">
    				<xf:trigger class="btn pro" id="btn_ezbaro_check" style="" type="button" ev:onclick="scwin.btn_ezbaro_check_onclick">
    					<xf:label><![CDATA[연구비시스템 확인]]></xf:label>
    				</xf:trigger>
    				<xf:trigger class="btn pro" id="btn_del" style="" type="button" ev:onclick="scwin.btn_del_onclick">
    					<xf:label><![CDATA[삭제]]></xf:label>
    				</xf:trigger>
    				<xf:trigger class="btn pro" id="btn_temp_save" style="" type="button" ev:onclick="scwin.btn_temp_save_onclick">
    					<xf:label><![CDATA[임시저장]]></xf:label>
    				</xf:trigger>
    				<xf:trigger class=" btn pro conf" id="btn_save" style="" type="button" ev:onclick="scwin.btn_save_onclick">
    					<xf:label><![CDATA[저장]]></xf:label>
    				</xf:trigger>
    			</xf:group>
    		</xf:group>
    	</xf:group>
    </body>
</html>
