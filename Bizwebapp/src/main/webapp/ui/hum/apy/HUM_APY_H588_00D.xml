<?xml version="1.0" encoding="UTF-8"?>
<html xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ev="http://www.w3.org/2001/xml-events"
    xmlns:w2="http://www.inswave.com/websquare" xmlns:xf="http://www.w3.org/2002/xforms">
    <head meta_programName="가족수당 신청">
    	<w2:type>DEFAULT</w2:type>
        <w2:buildDate/>
        <xf:model>
        	<xf:instance>
        		<data xmlns="" />
        	</xf:instance>
        	<w2:dataCollection baseNode="map">
        		<w2:dataMap baseNode="map" id="dma_info">
        			<w2:keyInfo>
        				<w2:key id="nm" name="성명" dataType="text"></w2:key>
        				<w2:key id="req_ymd" name="신청일" dataType="text"></w2:key>
        				<w2:key id="empno" name="개인번호" dataType="text"></w2:key>
        				<w2:key id="dept_nm" name="부서명" dataType="text"></w2:key>
        				<w2:key id="posi_cd" name="직급코드" dataType="text"></w2:key>
        				<w2:key id="posi_nm" name="직급명" dataType="text"></w2:key>
        				<w2:key id="apr_state_nm" name="신청상태명" dataType="text"></w2:key>
        				<w2:key id="apr_state" name="신청상태" dataType="text"></w2:key>
        				<w2:key id="dept_cd" name="부서코드" dataType="text"></w2:key>
        				<w2:key id="dept_new_ymd" name="부서시작일" dataType="text"></w2:key>
        				<w2:key id="ret_yn" name="ret_yn" dataType="text"></w2:key>
        				<w2:key id="bankaccnt_no" name="bankaccnt_no" dataType="text"></w2:key>
        				<w2:key id="bankaccnt_nm" name="bankaccnt_nm" dataType="text"></w2:key>
        				<w2:key id="syspayno" name="syspayno" dataType="text"></w2:key>
        				<w2:key id="resid_no" name="resid_no" dataType="text"></w2:key>
        				<w2:key id="attach_file_no" name="attach_file_no" dataType="text"></w2:key>
        				<w2:key id="rmk" name="변경내용 요약" dataType="text"></w2:key>
        				<w2:key id="cnt" name="cnt" dataType="number"></w2:key>
        				<w2:key id="occugrp_cd" name="occugrp_cd" dataType="text"></w2:key>
        				<w2:key id="req_no" name="신청번호" dataType="text"></w2:key>
        				<w2:key id="comments" name="반려의견" dataType="text"></w2:key>
        				<w2:key id="service_id" name="서비스아이디" dataType="text"></w2:key>
        				<w2:key id="req_typ" name="문서종류" dataType="text"></w2:key>
        				<w2:key id="approval" name="결재요청여부" dataType="text"></w2:key>
        				<w2:key id="regst_syspayno" name="regst_syspayno" dataType="text"></w2:key>
        				<w2:key id="endpoints" name="endpoints" dataType="text"></w2:key>
        				<w2:key id="info_cd" name="info_cd" dataType="text"></w2:key>
        			</w2:keyInfo>
        		</w2:dataMap>
        		<w2:dataMap baseNode="map" id="dma_search">
        			<w2:keyInfo>
        				<w2:key id="req_no" name="req_no" dataType="text"></w2:key>
        				<w2:key id="syspayno" name="syspayno" dataType="text"></w2:key>
        				<w2:key id="fsyspayno" name="fsyspayno" dataType="text"></w2:key>
        				<w2:key id="param4" name="param4" dataType="text"></w2:key>
        			</w2:keyInfo>
        		</w2:dataMap>
        		<w2:dataList baseNode="list" repeatNode="map" id="dlt_oldList" saveRemovedData="true">
        			<w2:columnInfo>
        				<w2:column id="except_yn" name="제외구분" dataType="text"></w2:column>
        				<w2:column id="relat" name="관계" dataType="text"></w2:column>
        				<w2:column id="resid_no" name="주민번호" dataType="text"></w2:column>
        				<w2:column id="nm" name="성명" dataType="text"></w2:column>
        				<w2:column id="cohbt_yn" name="동거여부" dataType="text"></w2:column>
        				<w2:column id="human_dedct_yn" name="인적공제여부" dataType="text"></w2:column>
        				<w2:column id="obst_yn" name="장애여부" dataType="text"></w2:column>
        				<w2:column id="fam_payamt_yn" name="가족수당여부" dataType="text"></w2:column>
        				<w2:column id="payamt_occr_ymd" name="수당발생일" dataType="text"></w2:column>
        				<w2:column id="payamt_cls_ymd" name="수당종료일" dataType="text"></w2:column>
        				<w2:column id="ocpt_nm" name="직업명" dataType="text"></w2:column>
        				<w2:column id="educ" name="학력" dataType="text"></w2:column>
        				<w2:column id="addr" name="주소" dataType="text"></w2:column>
        				<w2:column id="rmk" name="비고" dataType="text"></w2:column>
        				<w2:column id="relat_nm" name="관계명" dataType="text"></w2:column>
        				<w2:column id="educ_nm" name="학력명" dataType="text"></w2:column>
        				<w2:column id="detls_addr" name="상세주소" dataType="text"></w2:column>
        				<w2:column id="cud_type" name="cud구분" dataType="text"></w2:column>
        				<w2:column id="bf_clsf" name="변경전후구분" dataType="text"></w2:column>
        				<w2:column id="del_flag" name="삭제여부" dataType="text"></w2:column>
        				<w2:column id="psinsr_yn" name="피보험자여부" dataType="text"></w2:column>
        			</w2:columnInfo>
        		</w2:dataList>
        		<w2:dataList baseNode="list" repeatNode="map" id="dlt_chgList" saveRemovedData="true">
        			<w2:columnInfo>
        				<w2:column id="chk" name="chk" dataType="text"></w2:column>
        				<w2:column id="except_yn" name="제외구분" dataType="text"></w2:column>
        				<w2:column id="relat" name="관계" dataType="text"></w2:column>
        				<w2:column id="resid_no" name="주민번호" dataType="text"></w2:column>
        				<w2:column id="age" name="나이(만)" dataType="number"></w2:column>
        				<w2:column id="nm" name="성명" dataType="text"></w2:column>
        				<w2:column id="cohbt_yn" name="동거여부" dataType="text"></w2:column>
        				<w2:column id="human_dedct_yn" name="인적공제여부" dataType="text"></w2:column>
        				<w2:column id="obst_yn" name="장애여부" dataType="text"></w2:column>
        				<w2:column id="fam_payamt_yn" name="가족수당여부" dataType="text"></w2:column>
        				<w2:column id="payamt_occr_ymd" name="수당발생일" dataType="text"></w2:column>
        				<w2:column id="payamt_cls_ymd" name="수당종료일" dataType="text"></w2:column>
        				<w2:column id="ocpt_nm" name="직업명" dataType="text"></w2:column>
        				<w2:column id="educ" name="학력" dataType="text"></w2:column>
        				<w2:column id="addr" name="주소" dataType="text"></w2:column>
        				<w2:column id="rmk" name="비고" dataType="text"></w2:column>
        				<w2:column id="relat_nm" name="관계명" dataType="text"></w2:column>
        				<w2:column id="educ_nm" name="학력명" dataType="text"></w2:column>
        				<w2:column id="detls_addr" name="상세주소" dataType="text"></w2:column>
        				<w2:column id="cud_type" name="cud구분" dataType="text"></w2:column>
        				<w2:column id="bf_clsf" name="변경전후구분" dataType="text"></w2:column>
        				<w2:column id="del_flag" name="삭제여부" dataType="text"></w2:column>
        				<w2:column id="psinsr_yn" name="피보험자여부" dataType="text"></w2:column>
        			</w2:columnInfo>
        		</w2:dataList>
        		<w2:dataList baseNode="list" repeatNode="map" id="dlt_reject" saveRemovedData="true">
        			<w2:columnInfo>
        				<w2:column id="empname" name="반려자명" dataType="text"></w2:column>
        				<w2:column id="contents" name="반려비고" dataType="text"></w2:column>
        				<w2:column id="created_date" name="반려일자" dataType="text"></w2:column>
        			</w2:columnInfo>
        		</w2:dataList>
        	</w2:dataCollection>
        	<w2:workflowCollection></w2:workflowCollection>
        	<xf:submission id="sbm_selectHumApyAllow" ref="data:json,dma_search" target="" action="SvcHUMAPYALLWR02.pwkjson" method="post"
        		mediatype="application/json" encoding="UTF-8" instance="" replace="" errorHandler="" customHandler="" mode="asynchronous"
        		processMsg="" ev:submit="" ev:submitdone="" ev:submiterror="" abortTrigger="">
        	</xf:submission>
        	<xf:submission id="sbm_selectAprDupChk" ref="data:json,dma_search" target="" action="SvcHUMAPYALLWR03.pwkjson" method="post"
        		mediatype="application/json" encoding="UTF-8" instance="" replace="" errorHandler="" customHandler="" mode="asynchronous"
        		processMsg="" ev:submit="" ev:submitdone="" ev:submiterror="" abortTrigger="">
        	</xf:submission>
        	<xf:submission id="sbm_saveHumApyAllow"
        		ref='data:json,[{"id":"dma_info","key":"humApyAllowInfoVo"},{"id":"dlt_oldList","key":"beforeList"},{"id":"dlt_chgList","key":"afterList"}]'
        		target="data:json,dma_search" action="SvcHUMAPYALLWI01.pwkjson" method="post" mediatype="application/json" encoding="UTF-8" instance="" replace="" errorHandler=""
        		customHandler="" mode="asynchronous" processMsg="" ev:submit="" ev:submitdone="" ev:submiterror="" abortTrigger="">
        	</xf:submission>
        	<xf:submission id="sbm_deleteHumApyAllow" ref="data:json,dma_info" target="" action="SvcHUMAPYALLWD01.pwkjson" method="post"
        		mediatype="application/json" encoding="UTF-8" instance="" replace="" errorHandler="" customHandler="" mode="asynchronous"
        		processMsg="" ev:submit="" ev:submitdone="" ev:submiterror="" abortTrigger="">
        	</xf:submission>
        	<xf:submission id="sbm_aprAgr" ref='data:json,[{"id":"dma_info","key":"humApyAllowInfoVo"},{"id":"dlt_oldList","key":"beforeList"},{"id":"dlt_chgList","key":"afterList"}]' target="" action="SvcHUMAPYALLWM01.pwkjson" method="post" mediatype="application/json"
        		encoding="UTF-8" instance="" replace="" errorHandler="" customHandler="" mode="asynchronous" processMsg="" ev:submit=""
        		ev:submitdone="" ev:submiterror="" abortTrigger="">
        	</xf:submission>
        	<xf:submission id="sbm_aprReject" ref="data:json,dma_info" target="" action="SvcHUMAPYALLWM02.pwkjson" method="post" mediatype="application/json"
        		encoding="UTF-8" instance="" replace="" errorHandler="" customHandler="" mode="asynchronous" processMsg="" ev:submit=""
        		ev:submitdone="" ev:submiterror="" abortTrigger="">
        	</xf:submission>
        </xf:model>      
        <script type="text/javascript" lazy="false"><![CDATA[
    /****************************************************
 	 * 화면 설명 : 가족수당신청
 	 * 변경 이력 : 2023-08-11	김상미	최초 작성
 	 * 서비스아이디 : H588
 	 ****************************************************/    
    
	scwin.data={};

 	/**
	 * 페이지 로딩 이벤트
	 */  	         
	scwin.onpageload = function() {
		var param = com.getParameter();
		scwin.data.service_id="H588";	
		scwin.data.req_typ = "H13";
		scwin.data.today = com.getServerDateTime();
		scwin.data.file = false;
		grd_reject.hide();
		btn_confirm.hide();
		btn_reject.hide();
		btn_copy.hide();
		btn_plus.hide();		
		btn_minus.hide();
		com.biz.disabledButtons(dma_info.get("apr_state"), dma_info.get("req_no"));
		spa_file.hide();
	
		com.setValidGrid(grd_after_fam, [
			 { id : "nm", mandatory : true}
			,{ id : "relat", mandatory : true } 
			,{ id : "resid_no", mandatory : true} 					
		]);	

		scwin.initPage(param);
	
					
	};
	
	scwin.onpageunload = function() {
		
	};
	
	/**
     * 화면 초기화
     */	
	scwin.initPage = function(param) {
		// dataMap 초기화
		com.initDataMap(dma_search);	
		com.initDataMap(dma_info);
		
		com.setValidGroup(grp_base_info, [
			  {id:"ibx_empno", mandatory :true}
			, {id:"ica_req_ymd", mandatory :true}
			, {id:"ibx_bas_rmk", mandatory :true}
		]);	

		dma_search.setJSON(param);
		
		if (dma_search.get("req_no") == "") {
			if (dma_search.get("fsyspayno") =="") {
				dma_search.set("syspayno", com.getLoginInfo("sn"));
			} else {
				dma_search.set("syspayno", dma_search.get("fsyspayno"));
			}	
		}
		
		// 첨부파일 컴포넌트 초기화
		com.file.init();
		// 첨부파일
		com.file.create(upload_A.getID(), {fileKey: scwin.data.service_id, mode: 'edit'});

		//당일 달력세팅
		ica_req_ymd.setValue(scwin.data.today);		

		// 공통코드
		var codeOptions = [ { code : "HAH", compID : "grd_before_fam:relat"} //관계구분
		                  , { code : "HAH", compID : "grd_after_fam:relat"} //관계구분
		                  , { code : "HAL", compID : "grd_before_fam:educ"} //학력구분
		                  , { code : "HAL", compID : "grd_after_fam:educ"} //학력구분
		               ];		
		com.setCmnCd(codeOptions, function() {
			com.biz.checkRole({ serviceId : scwin.data.service_id, roleCodes : com.getLoginInfo('roleCode')}, function(e) {
				scwin.data.isRoleYn = e.isRoleYn;
			
				if (dma_search.get("req_no") =="") {
					com.alert("증빙서류는 주민등록번호 전체를 식별할 수 있는 서류로 첨부하여 주시기 바랍니다. 일부 공개 서류 첨부시 반려 사유가 됩니다.",function() {
						ibx_empno.setValue(com.getLoginInfo("empno"));
						dma_search.set("syspayno", com.getLoginInfo("sn"));
						btn_search_emp.trigger("click");
					});	
				} else {
					scwin.search();
				}		
			});				
		});	
		
	};
		
	/**
	 * 목록 버튼 클릭
	 */		
	scwin.btn_list_onclick = function(e) {
		scwin.backToList();
	};
	
	/**
	 * 목록 페이지로 이동
	 */	
	scwin.backToList = function() {
		var data ={};
		com.moveList('H572');		
	};	
	
	/**
	 * 인쇄버튼 클릭
	 */		
	scwin.btn_print_onclick = function(e) {
		com.oz.openPopup( {
		    formAlias : dma_info.get("req_no").substring(0,3),
		    reqNo : dma_info.get("req_no"),
		    snapFrame : grp_base_info.getID()
		});	
	};
	
	/**
	 * 결재신청버튼 클릭
	 */		
	scwin.btn_apr_onclick = function(e) {
		if (!scwin.preSaveApr())
		{
			return;
		}		
		
		var famYnCnt = 0; // 가족수당 체크 한명도 안했을시 메세지출력용 숫자체크
		
		// 수정사항이 없을경우
		var modiCnt = 0;
		var changeCnt = 0;		
		
		for (var i=0; i<dlt_chgList.getRowCount(); i++) {
			for (var j=0; j<dlt_oldList.getRowCount(); j++) {
				var nm1 = dlt_oldList.getCellData(j, "nm"); // 이름 비교
				var nm2 = dlt_oldList.getCellData(i, "nm");
				var resid_no1 = dlt_oldList.getCellData(j, "resid_no"); // 주민등록번호 비교
				var resid_no2 = dlt_oldList.getCellData(i, "resid_no");
				var famYn1 = dlt_oldList.getCellData(j, "fam_payamt_yn"); // 가족수당체크 비교
				var famYn2 = dlt_oldList.getCellData(i, "fam_payamt_yn");
				var humanYn1 = dlt_oldList.getCellData(j, "human_dedct_yn"); // 인적공제 체크 비교
				var humanYn2 = dlt_oldList.getCellData(i, "human_dedct_yn");
				var cohbtYn1 = dlt_oldList.getCellData(j, "cohbt_yn"); // 동거유무
				var cohbtYn2 = dlt_oldList.getCellData(i, "cohbt_yn");
				var obstYn1 = dlt_oldList.getCellData(j, "obst_yn"); // 동거유무
				var obstYn2 = dlt_oldList.getCellData(i, "obst_yn");
				
				if (resid_no1 == resid_no2 && (famYn1 != famYn2 || humanYn1 != humanYn2 || cohbtYn1 != cohbtYn2 || obstYn1 != obstYn2 || nm1 != nm2)) {
					modiCnt++;
				}
				
				if (resid_no1 == resid_no2) {
					changeCnt++;
				}
			}
		}		
		
		// 결재시 가족수당 체크인원 없을시 확인 메세지
		for (var i=0; i<dlt_chgList.getRowCount(); i++) {
			var famYn = dlt_chgList.getCellData(i, "fam_payamt_yn");

			if (famYn == "1") {
				famYnCnt += 1;
			}
		}

		if (famYnCnt == 0) {
			com.confirm("가족수당 신청 체크인원이 없습니다. 진행 하시겠습니까?", function(ret) {
				if (!ret) {
					return;
				}
			});
		}		
		
		com.confirm("결재신청 하시겠습니까?", function(ret) {
			if (ret) {
				scwin.saveApr();
			}
		});
	};
	
	/**
	* 결재신청 전 확인
	*/	
	scwin.preSaveApr = function() {
		var beforeCnt = dlt_oldList.getRowCount();
		var afterCnt = dlt_chgList.getRowCount();
		
		if (beforeCnt==0 && afterCnt==0) {
			com.alert("변경후 가족사항이 없으므로 결재신청 할 수 없습니다.");
			return false;
		}
		
		if (afterCnt > 0) {
			for (var row=0; row < afterCnt; row++) {
				var exceptYn = dlt_chgList.getCellData(row, "except_yn");
				if (["C", "U"].includes(exceptYn) && com.file.action.getTotalFileCount(upload_A.getID()) < 1) {
					com.alert("첨부파일을 추가해 주시기 바랍니다.");
					return false;
				}
			}
		} else {
			com.alert("변경후 가족사항이 없으므로 결재신청 할 수 없습니다.");
			return false;		
		}

		return true;
	}
	
	/**
	* 결재신청 처리
	*/		
	scwin.saveApr = function() {
		com.file.transport(function(attachObj) {	
			dma_info.set("attach_file_no", attachObj.upload_A);
			
			var attaches = [];
			if (attachObj.upload_A !="") {
				attaches.push(attachObj.upload_A);
			}
			dma_info.set("validAttachNo", attaches.join(","));	
		
			
			dma_info.set("service_id", scwin.data.service_id);
			dma_info.set("req_typ",scwin.data.req_typ);
			dma_info.set("apr_state", "XAD010");
			dma_info.set("approval", "true");
			dma_info.set("req_ymd", com.getServerDateTime());
			dma_info.set("regst_syspayno", com.getLoginInfo("sn"));
			var infoCd = "[가족수당신청][신청자명 : "+ibx_nm.getValue()+" "+tbx_posi_nm.getValue()+" / 신청내용 : "+ibx_bas_rmk.getValue()+"]";
			dma_info.set("info_cd", infoCd);
			
			com.execute(sbm_saveHumApyAllow, {
				successCallback : function(e) { // 성공 콜백
					com.alert("message.xom.wq.023"/*정상적으로 처리되었습니다.*/, function() {
						//결재신청 후에는 결재진행함으로 이동
						com.openTabMenu("A005", {});
					});
				} 
			});
		});		
	};
	
	/**
	* 개인번호 조회
	*/
	scwin.ibx_empno_onkeypress = function(e) {
		if (e.keyCode == "13") {
			btn_search_emp.trigger("click");
		}
	};	
	
	/**
	* 사용자 조회 돋보기 버튼 클릭
	*/
	scwin.btn_search_emp_onclick = function(e) {
		var data = { empno : ibx_empno.getValue(), 
					 work_clsf : "HAG010", 
					 ref_yn : "N"
					};
				
		com.pop.open( com.pop.TYPE.HUM, data, function(ret) {			
			if (ret.dept_cd != com.getLoginInfo("deptCode")) {
				com.alert("소속부서원만 조회할수 있습니다.", function() {
					// dataMap 초기화
					com.initDataMap(dma_search);	
					com.initDataMap(dma_info);	
					dlt_oldList.removeAll();
					ica_req_ymd.setValue(scwin.data.today);						
				});
				return;
			}
			
			dma_info.set("nm", ret.nm);
			dma_info.set("empno", ret.empno);			
			dma_info.set("syspayno", ret.syspayno);
			dma_info.set("dept_cd", ret.dept_cd);
			dma_info.set("dept_new_ymd", ret.dept_new_ymd);
			dma_info.set("dept_nm", ret.dept_nm);
			dma_info.set("posi_cd", ret.posi_cd);
			dma_info.set("posi_nm", ret.posi_nm);
			dma_search.set("syspayno", dma_info.get("syspayno"));

			scwin.search();
		});
	};
	
	/**
	* 변경전 가족사항 복사버튼 클릭
	*/
	scwin.btn_copy_onclick = function(e) {
		dlt_chgList.setJSON(dlt_oldList.getAllJSON(), false);
		//변경전 가족사항은 체크 할 수 없도록 체크 disable
		for (var i = 0; i < dlt_chgList.getRowCount(); i++) {
			grd_after_fam.setCellDisabled(i, "chk", true);
			grd_after_fam.setCellDisabled(i, "resid_no", true);		
			grd_after_fam.setCellDisabled(i, "relat", true);			
		}
		btn_copy.hide();
	};
	
	/**
	* 변경후 가족사항 + 버튼 클릭
	*/
	scwin.btn_plus_onclick = function(e) {
		if (dlt_oldList.getRowCount() > 0) {
			if (dlt_chgList.getRowCount()==0) {
				com.alert("추가버튼을 클릭하기전에 복사 버튼을 클릭하여 주세요.");
				return;
			} else {
				var row = dlt_chgList.getRowCount();
				dlt_chgList.insertRow(row);
				dlt_chgList.setCellData(row, "except_yn", "C");
			}
		} else {
			var row = dlt_chgList.getRowCount();
			dlt_chgList.insertRow(dlt_chgList.getRowCount());
			dlt_chgList.setCellData(row, "except_yn", "C");	
		}
		
		if (dlt_chgList.getRowCount() > dlt_oldList.getRowCount()) {
			btn_minus.show("");
			spa_file.show("");
		}
	};

	/**
	* 변경후 가족사항 - 버튼 클릭
	*/	
	scwin.btn_minus_onclick = function(e) {
		var chkArr = grd_after_fam.getCheckedIndex(0);
		
		console.log(chkArr);
		if (chkArr.length==0) {
			com.alert("선택되지 않았습니다.");
			return;			
		}	
		dlt_chgList.removeRows(chkArr);

		if (dlt_chgList.getRowCount() == dlt_oldList.getRowCount()) {
			btn_minus.hide();
			if (!scwin.data.file) {
				spa_file.hide();
			}
		}
	};

	/**
	* 처리 버튼 클릭
	*/			
	scwin.btn_confirm_onclick = function(e) {
		if (!scwin.data.isRoleYn) {
			com.alert("관리자외에는 처리 하실 수 없습니다.");
		}
		
		if (scwin.validate()) {
			com.confirm("승인처리 하시겠습니까?", function(ret) { 		
				if (ret) {
					com.execute(sbm_aprAgr, {
						successCallback : function(e) {
							com.alert("승인처리 되었습니다");
							com.openTabMenu("A004", {});
						}
					});
				}
			});
		}			
	};
	
	/*
     * 검증
     */
	scwin.validate = function() {
		if (!com.validateData(dma_info,[
			{ id : "empno", mandatory : true},
			{ id : "req_ymd", mandatory : true},
			{ id : "rmk", mandatory : true},
		], false)) {
			return false;
		}

		if (!com.isDate(ica_req_ymd.getValue(), false)) {
			return false;
		}		
		return true;
	};		

	/**
	* 반려 버튼 클릭
	*/	
	scwin.btn_reject_onclick = function(e) {
		if (!scwin.data.isRoleYn) {
			com.alert("관리자외에는 반려를 하실 수 없습니다.");
		}
		var options = {
		    id: "APR02P",
		    popupName: "반려의견",
		    width: 500,
		    height: 300
		};
		com.openPopup("/ui/apr/APR_C001_03P.xml", options, "", function(retObj) {
		    if (retObj.comments != null) {
		        dma_info.set("comments", retObj.comments);
		        com.execute(sbm_aprReject, {
		            successCallback: function(e) {
		                com.alert("반려처리 되었습니다");
						com.openTabMenu("A004", {});
		            }
		        });
		    }
		});		
	};
	
	/**
	* 삭제버튼 클릭
	*/
	scwin.btn_del_onclick = function(e) {
		scwin.remove();
	};
	
	/**
	* 삭제 실행
	*/
	scwin.remove = function() {
		dma_info.set("regst_syspayno", com.getLoginInfo("sn"));
		dma_info.set("updt_syspayno", com.getLoginInfo("sn"));

		com.confirm("message.xom.wq.022"/*삭제 하시겠습니까?*/, function(ret) {
			if (ret) {
				com.file.deleteAll(function(){				
					com.execute(sbm_deleteHumApyAllow, {
						successCallback : function(e) { // 성공 콜백
							com.alert("message.xom.wq.023"/*정상적으로 처리되었습니다.*/, function() {
								if (dma_search.get("param4") == "apr") {
									com.openTabMenu("A010", {});
								} else {
									scwin.backToList();							
								}
							});
						}
					});
				});
			}
		});
	};
	
	scwin.btn_save_onclick = function(e) {
		if (!scwin.preSave())
		{
			return;
		}		
		
		com.confirm("message.xom.wq.017"/*저장 하시겠습니까?*/, function(ret) {
			if (ret) {
				scwin.save();				
			}
		});
	};
		

	/**
	 * 가족사항 중복 비교
	 */	
	
	scwin.familyDupleCheck = function(row) {
		for (var i = 0; i < dlt_oldList.getRowCount(); i++) {
			var resid_no1 = dlt_oldList.getCellData(i, "resid_no"); // 주민등록번호 비교
			var resid_no2 = dlt_chgList.getCellData(row, "resid_no");
			var famYn1 = dlt_oldList.getCellData(i, "fam_payamt_yn"); //가족수당체크 비교
			var famYn2 = dlt_chgList.getCellData(row, "fam_payamt_yn");
			var humanYn1 = dlt_oldList.getCellData(i, "human_dedct_yn"); // 인적공제 체크 비교
			var humanYn2 = dlt_chgList.getCellData(row, "human_dedct_yn");
			var cohbtYn1 = dlt_oldList.getCellData(i, "cohbt_yn"); // 동거유무
			var cohbtYn2 = dlt_chgList.getCellData(row, "cohbt_yn");
			var obstYn1 = dlt_oldList.getCellData(i, "obst_yn"); // 장애유무
			var obstYn2 = dlt_chgList.getCellData(row, "obst_yn");
			var exceptYn = dlt_chgList.getCellData(i, "except_yn"); // 제외여부			
			
			if (resid_no1 == resid_no2 && (famYn1 != famYn2 || humanYn1 != humanYn2 || cohbtYn1 != cohbtYn2 || obstYn1 != obstYn2)) {
				if (exceptYn != "Y") {
					if (exceptYn != "C") {
						dlt_chgList.setCellData(row, 1, 'U');
					}

					if (famYn1 != famYn2) {
						if (famYn2 == '1') {
							dlt_chgList.setCellData(row, 1, 'A');
						} else if (famYn2 == '0') {
							dlt_chgList.setCellData(row, 1, 'R');
						}
					}
				}
			}		
		}
	};
	
	/**
	 * 주민등록번호 나이 계산
	 */	
	scwin.s_JuminAge = function (juminNo) {
		var juminBirth = juminNo.substr(0, 6);
		var juminSex = juminNo.substr(6, 1);
		var toDate = com.getServerDateTime();
		var toYear = toDate.substr(0, 4);
		var toMonth = toDate.substr(4, 2);
		var toDay = toDate.substr(6, 2);
		var juminYear = '';

		if (juminSex == "1" || juminSex == "2" || juminSex == "5" || juminSex == "6") {
			juminYear = '19' + juminBirth.substr(0, 2); // 2014.07.28.이유애(외국인 코드 5, 6 추가)
		} else {
			juminYear ='20' + juminBirth.substr(0, 2);
		}

		var juminMonth = juminBirth.substr(2, 2);
		var juminDay = juminBirth.substr(4, 2);
		var ageYear = parseInt(toYear) - parseInt(juminYear);

		if (parseInt(toMonth) < parseInt(juminMonth)) {
			ageYear -= 1;
		} else if (parseInt(toMonth) == parseInt(juminMonth)) {
			if (parseInt(toDay) < parseInt(juminDay)) {
				ageYear -= 1;
			}
		}

		return ageYear;
	};	
	
	/**	
	* 외국인번호 검증
	*/
	scwin.fnfgnCheck = function(rrn) {
		var sum = 0;

		if (rrn.length != 13) {
			return false;
		} else if (rrn.substr(6, 1) != 5 && rrn.substr(6, 1) != 6 && rrn.substr(6, 1) != 7 && rrn.substr(6, 1) != 8) {
			return false;
		}

		if (Number(rrn.substr(7, 2)) % 2 != 0) {
			return false;
		}

		for (var i = 0; i < 12; i++) {
			sum += Number(rrn.substr(i, 1)) * ((i % 8) + 2);
		}

		if ((((11 - (sum % 11)) % 10 + 2) % 10) == Number(rrn.substr(12, 1))) {
			return true;
		}

		return false;
	};
	
	/**
	 * 저장 전 체크
	 */	
	scwin.preSave = function() {
		var clsfCnt = 0;
		
		if (!scwin.validate()) {
			return false;
		}
	
		var validData = [
			{dataObj :dlt_chgList, 
				valInfoArr :[
					{ id : "nm", mandatory : true},
					{ id : "relat", mandatory : true},			
					{ id : "resid_no", mandatory : true},												
				], isCheckModified : false
			},			
		];
		
		//필수 입력항목 검증
		if (com.validateData(validData)) {
			for (var row = 0; row < dlt_chgList.getRowCount(); row++) { // 제외여부 체크후 비고 누락건 확인
				scwin.familyDupleCheck(row);
				
				// 2013.12.10. 박종미 요청
				var relat = dlt_chgList.getCellData(row, "relat");
				if (relat == 'HAH014' || relat == 'HAH999') {
					com.alert("본인/기타는 가족사항신청에 해당되지 않습니다.");
					return false;
				}	
				
				var nm = dlt_chgList.getCellData(row, "nm");
				var obstYn = dlt_chgList.getCellData(row, "obst_yn");
				var residNo = dlt_chgList.getCellData(row, "resid_no");
				var resid_no_yy = residNo.substring(0, 1);
				var resid_no_ymd = residNo.substring(0, 6);
				var resid_no_chek = "";
				var countCk = row + 1 ;	
				
				if (relat == 'HAH005' || relat == 'HAH006') {
					if (resid_no_yy == "0" || resid_no_yy == "1" || resid_no_yy == "2" || resid_no_yy == "3") {
						resid_no_chek = "20" + resid_no_ymd;
					} else {
						resid_no_chek = "19" + resid_no_ymd;
					}

					// 20190522 만 20세미만[(gfnGetToday() - resid_no_chek) > "200000"]에서 만 19세미만[(gfnGetToday() - resid_no_chek) > "190000"]으로 기준이 변경됨에 따라 로직 수정
					if (obstYn == "1" && (com.getServerDateTime() - resid_no_chek) > "190000") {
						com.alert(nm + "님은 형제/자매 중 장애이면서 만20세 이상이기 때문에 가족사항신청을 하실수 없습니다.");

						return false;
					}
				}		
				
				if (residNo.length != 14) {
					com.alert(countCk+"번째행, 주민등록번호 형식(*******-*******)에 맞게 입력해 주시기 바랍니다.");
					return false;
				}		
				
				var exceptYn = dlt_chgList.getCellData(row, "except_yn");
				var famPayamtYn = dlt_chgList.getCellData(row, "fam_payamt_yn");
				var age = scwin.s_JuminAge(residNo.replace('-',''));	
				

				// 처리구분이 [제외], [가족수당해제] 2가지 경우에 해당하지 않으면 첨부파일 검증 필수! 20190618
				// 처리구분이 [제외], [가족수당해제] [변동없음] 3가지 경우에 해당하지 않으면 첨부파일 검증 필수! 20200611
				if (exceptYn != "Y" && exceptYn != "R" && exceptYn != "N") {
					clsfCnt++;
				}	
				
				if (exceptYn != "Y" && obstYn == "0" && famPayamtYn == "1") { // Y 제외가 아닌 경우, 가족수당체크시 체크
					if (age < '60' && (relat =='HAH000' || relat =='HAH007')) { // 부, 시부 만 나이 체크
						com.alert("만 나이가 60세이상 신청 가능 합니다.");
						return false;
					}

					if (age < '55' && (relat =='HAH001' || relat =='HAH008')) { // 모, 시모 만 나이 체크
						com.alert("만 나이가 55세이상 신청 가능 합니다.");
						return false;
					}
				}				
				
				var rmkCk = dlt_chgList.getCellData(row, "rmk");				
				
				if (exceptYn == "Y" && rmkCk =="") {
					com.alert(nm+"님 내역 제외 선택시 반드시 비고에 사유를 입력해 주시기 바랍니다.");
					grd_after_fam.setFocusedCell(row, "rmk", true);
					return false;
				}
				
				// 주민번호 오류 체크
				var residNoCh = residNo.replace("-", "");
				residNoCh = residNoCh.replace("_", "");	
				
				if (residNoCh.substr(6, 1) != '5' && residNoCh.substr(6, 1) != '6' && residNoCh.substr(6, 1) != '7' && residNoCh.substr(6, 1) != '8') {
					var chk = com.isSSN(residNoCh);
					
					// 2020.11.27 주민등록번호 위변조 검증체계 변경으로 인한 임시조치
					if (residNoCh.substr(0, 6) > "201000" && (residNoCh.substr(6, 1) == "3" || residNoCh.substr(6, 1) == "4" || residNoCh.substr(6, 1) == "7" || residNoCh.substr(6, 1) == "8")) {
						chk = true;
					}

					if (residNoCh != "" && chk == false) {
						com.alert(nm+"님의 주민번호가 올바르지 않습니다!");
						grd_after_fam.setFocusedCell(row, "resid_no", true);
						return false;
					}
				} else {
					fnfgnCheck(residNoCh);
				}							
			}	
			
			if (clsfCnt > 0 && com.file.action.getTotalFileCount(upload_A.getID()) < 1) {
				com.alert("첨부파일을 추가해 주시기 바랍니다.");
				return false;
			}

			return true;	
		}
	};
	
	/**
	 * 저장 실행
	 */
	scwin.save = function() {
		com.file.transport(function(attachObj) {	
			dma_info.set("attach_file_no", attachObj.upload_A);
			var attaches = [];
			if (attachObj.upload_A !="") {
				attaches.push(attachObj.upload_A);
			}
			dma_info.set("validAttachNo", attaches.join(","));		
	
			var status = "";
			var reqNoChk = dma_info.get("req_no");
			
			if (dlt_oldList.getRowCount() > 0) {
				if (reqNoChk =="") {
					for (var i = 0; i < dlt_oldList.getRowCount(); i++) {
						dlt_oldList.setCellData(i,"cud_type", "insert");
						dlt_oldList.setCellData(i,"bf_clsf", "B");
					}
				}
			}
			
			if (dlt_chgList.getRowCount() > 0) {
				for (var i = 0; i < dlt_chgList.getRowCount(); i++) {
					if (dlt_chgList.getCellData(i, "cohbt_yn") == "0" 
							&& dlt_chgList.getCellData(i, "human_dedct_yn") == "0" 
								&& dlt_chgList.getCellData(i, "obst_yn") == "0" 
									&& dlt_chgList.getCellData(i, "fam_payamt_yn") == "0")
					{
						dlt_chgList.setCellData(i, 1, "Y");
					}
					
					dlt_chgList.setCellData(i, "resid_no", dlt_chgList.getCellData(i, "resid_no").replace("_", "-"));
					status = dlt_chgList.getRowStatus(i);
					console.log("상태" + status);
					if (reqNoChk =="") {
						
						dlt_chgList.setCellData(i, "cud_type", "insert");
						dlt_chgList.setCellData(i, "bf_clsf", "P");						
					} else {
						if (status !="R") {
							if (status=="C") {
								dlt_chgList.setCellData(i, "cud_type", "insert");
								dlt_chgList.setCellData(i, "bf_clsf", "P");							
							} else if (status=="U") {
								dlt_chgList.setCellData(i, "cud_type", "update");
								dlt_chgList.setCellData(i, "bf_clsf", "P");								
							}
						}					
					}				
				}			
			}			
				
			dma_info.set("endpoints", com.getLoginInfo("uid"));	
			dma_info.set("service_id", scwin.data.service_id);
			dma_info.set("req_typ",scwin.data.req_typ);
			dma_info.set("dept_cd", com.getLoginInfo("deptCode"));
			dma_info.set("dept_new_ymd", com.getLoginInfo("deptNewYmd"));
			dma_info.set("approval", "false");
			com.execute(sbm_saveHumApyAllow, {
				successCallback : function(e) { // 성공 콜백
					com.alert("message.xom.wq.023"/*정상적으로 처리되었습니다.*/, function() {
						scwin.search();
					});
				} 
			});
		});
	};
	
	
	/**
     * 서약서 다운로드
     */
	scwin.btn_docu_down1_onclick = function() {
		scwin.downFileinfo("가족수당(배우자)_서약서.hwp", "10000017");		
	};

	/**
     * 별표 제2호 다운로드
     */	
	scwin.btn_docu_down2_onclick = function() {
		scwin.downFileinfo("별표 제2호.pdf", "10000099");		
	};	
			
	/**
     * 파일 다운로드
     */
	scwin.downFileinfo = function downFileinfo(file_nm, file_no) {
		var url = '/SvcAttachDown.do?fileName=/hum/' +file_no+'&realName='+ encodeURIComponent(file_nm)+'&bizKind=OLD';	
		console.log(url);
		window.open(url, '_blank').focus();
	};
	
	/**
	 * 결재 진행중인 신청서 유무  조회
	 */		
	scwin.searchAprDupChk = function() {
		dma_search.set("req_no", scwin.data.req_typ);
		com.execute(sbm_selectAprDupChk, {
			successCallback : function(e) {
				console.log(e.responseJSON.elData);
				var result = e.responseJSON.elData;
				dma_search.set("req_no", ""); //조회 끝나면 초기화
				if (result["cnt"] > 0) {
					com.alert(ibx_nm.getValue()+"("+ibx_empno.getValue()+")님으로 작성중인 가족수당신청서가 있습니다.\n 이전문서를 확인하시기 바랍니다.");
					btn_save.setDisabled(true);
					btn_copy.hide();
					btn_plus.hide();
				}
			}
		});			
	};
	
	/**
	 * 조회 실행 
	 */
	scwin.search = function() {
		com.execute(sbm_selectHumApyAllow, {
			successCallback : function(e) {
				console.log(e.responseJSON.elData);
				dma_info.setJSON(e.responseJSON.elData.humApyAllowInfoVo);
				
				if (dma_info.get("apr_state")=="XAD015") {
					dlt_reject.setJSON(e.responseJSON.elData.docList, false);
					if (dlt_reject.getTotalRow() > 0) {
						grd_reject.show("");
					}				
				}
				dlt_oldList.setJSON(e.responseJSON.elData.beforeList, false);
				if (dlt_oldList.getRowCount() == 0) {
					btn_copy.hide();
				}
				dlt_chgList.setJSON(e.responseJSON.elData.afterList, false);	
				
				for (var i = 0; i < dlt_oldList.getRowCount(); i++) {
					var idx = dlt_chgList.getMatchedIndex("resid_no", dlt_oldList.getCellData(i, "resid_no"), true);
					if (idx.length > 0) {
						grd_after_fam.setCellDisabled(idx[0], "chk", true);
						grd_after_fam.setCellDisabled(idx[0], "resid_no", true);		
						grd_after_fam.setCellDisabled(idx[0], "relat", true);							
					}								
				}
				
				//첨부파일 세팅
				var vMode = "edit";
				if (dma_info.get("apr_state") >= "XAD020") {
					vMode = "view";
				}			
						
				var attachFileNo = dma_info.get("attach_file_no").trim();
				com.file.create(upload_A.getID(), {fileKey: (attachFileNo == "") ? scwin.data.service_id :attachFileNo, mode: vMode});	
				
				if (dma_info.get("occugrp_cd") == "HAA030") {
					com.alert("가족수당 대상자가 아닙니다.", function() {
						com.closeTab({});
					});
				} else {
					if (dma_info.get("req_no")=="") {
						scwin.searchAprDupChk();
					}
					scwin.compControll();	
				}
				
				if (dma_info.get("apr_state") == "") {
					if (scwin.data.isRoleYn) {
						ibx_empno.setDisabled(false);
					}
				} else {
					btn_search_emp.setDisabled(true);
				}
			}
		});			
	};
	
	
	/**
	 * 화면 콤포넌트 컨트롤
	 */	
	scwin.compControll = function() {
	    com.biz.disabledButtons(dma_info.get("apr_state"), dma_info.get("req_no"));

		if (dma_info.get("apr_state") >= "XAD020") {
			//관리자이고, 담당자확인 상태일 때만 반려/처리버튼 노출.
			com.biz.checkRole({ serviceId : scwin.data.service_id, roleCodes : com.getLoginInfo('roleCode')}, function(e) {
				scwin.data.isRoleYn = e.isRoleYn;
				if (scwin.data.isRoleYn && dma_info.get("apr_state") == "XAD070") {
					btn_confirm.show("");
					btn_reject.show("");
				}				
			});			

			ibx_empno.setDisabled(true);
			btn_search_emp.setDisabled(true);
			ica_req_ymd.setDisabled(true);
			grd_after_fam.setGridReadOnly(true);
			
			
			if (dma_info.get("apr_state") == "XAD100") {
				btn_print.setDisabled(false);
			}
		} else {
			btn_copy.show("");
			btn_plus.show("");
						
			if (ibx_empno.getValue() != com.getLoginInfo("empno") && !scwin.data.isRoleYn) {
				btn_save.setDisabled(true);
				btn_apr.setDisabled(true);
				btn_del.setDisabled(true);
			}
		}		
	};	

	
	/**
	 * 변경후 가족사항 항목 변경 이벤트
	 */
	scwin.grd_after_fam_onviewchange = function(info) {		
		var oldCnt = dlt_oldList.getRowCount();
		var exceptState = dlt_chgList.getCellData(info.rowIndex, "except_yn");
		
		//변경전 리스트가 있을 때 각 셀 변경에 따라 
		//변경후 리스트의 처리구분 컬럼 값을 변경해준다.
		if (oldCnt > 0) {
			if (exceptState !="C") {
				if ([5,6,7,8].includes(info.colIndex)) {
					dlt_chgList.setCellData(info.rowIndex, 1, "U");
					spa_file.show("");
					scwin.data.file = true;
				}
				if (info.colIndex == 1) {
					var rmk = dlt_chgList.getCellData(info.rowIndex, "rmk");
					if (exceptState == "Y") {
						if (oldCnt==0) {
							dlt_chgList.setCellData(info.rowIndex, 1, "N");
							com.alert("신규입력시 변경후 가족사항의 처리구분중 제외를 사용하실 수 없습니다.");
							return;
						}
					
						dlt_chgList.setCellData(info.rowIndex, 6, 0);
						dlt_chgList.setCellData(info.rowIndex, 7, 0);
						dlt_chgList.setCellData(info.rowIndex, 8, 0);
						dlt_chgList.setCellData(info.rowIndex, 9, 0);	
						
						if (rmk =="") {
							com.alert("처리구분중 제외 선택시 반드시 비고에 사유를 입력해 주시기 바랍니다.");
							grd_after_fam.setRowBackgroundColor(info.rowIndex, "#FFFF80");
							grd_after_fam.setFocusedCell(info.rowIndex, "rmk", true)
						}			
					} else if (exceptState =="N") {
						grd_after_fam.setRowBackgroundColor(info.rowIndex, "#FFFFFF");
					} else if (exceptState =="A") {
						dlt_chgList.setCellData(info.rowIndex, "fam_payamt_yn", "1");
					} else if (exceptState =="R") {
						dlt_chgList.setCellData(info.rowIndex, "fam_payamt_yn", "0");
					} else {
						grd_after_fam.setRowBackgroundColor(info.rowIndex, "#FFFF80");
					}
					
					if (exceptState =="Y" || exceptState =="R" || exceptState =="N") {
						var arr = dlt_chgList.getColumnDistinctDataArray("except_yn");
						if (!arr.includes("C") && !arr.includes("U") && !arr.includes("A")) {
							spa_file.hide();
						}
					}
				}			
			}
		}
	};
	
	/**
	 * 변경후 가족사항 체크 이벤트
	 */
	scwin.grd_after_fam_oncellclick = function(row,col,colId) {
		var rowStatus = dlt_chgList.getRowStatus(row);
		if (col == 0) {
			if (rowStatus == "U") {
				com.alert("변경전 가족사항은 선택할 수 없습니다.");
				dlt_chgList.setCellData(row, 0, 0);
				return;
			}
		}		
	};

	]]></script>
    </head>
    <body ev:onpageload="scwin.onpageload" ev:onpageunload="scwin.onpageunload">
    	<w2:wframe id="wfm_title" src="/cm/xml/contentTitle.xml" style=""></w2:wframe>
    	<xf:group class="pageWrap" id="grp_base_info" style="">
    		<xf:group class="searchSection step" id="" style="">
    			<xf:group class="le" id="">
    				<xf:trigger class="btn " id="btn_list" style="" type="button" ev:onclick="scwin.btn_list_onclick">
    					<xf:label><![CDATA[목록]]></xf:label>
    				</xf:trigger>
    			</xf:group>
    			<xf:group class="btnbox" id="">
    				<xf:trigger class="btn icon print" id="btn_print" style="display:none;" type="button" ev:onclick="scwin.btn_print_onclick" disabled="true">
    					<xf:label><![CDATA[인쇄]]></xf:label>
    				</xf:trigger>
    				<xf:trigger class="btn blue" id="btn_apr" style="" type="button" ev:onclick="scwin.btn_apr_onclick">
    					<xf:label><![CDATA[결재신청]]></xf:label>
    				</xf:trigger>
    			</xf:group>
    		</xf:group>
    		<w2:gridView autoFit="allColumn" class="grid" dataList="data:dlt_reject" defaultCellHeight="28" evenRowBackgroundColor="#f7faff"
    			id="grd_reject" noResultMessage="조회 결과가 없습니다." noResultMessageClass="noResult" rowMouseOverColor="#e7f0fb"
    			rowNumBackgroundColor="#fff" rowNumHeaderValue="No." rowNumVisible="true" rowNumWidth="60" rowStatusHeaderValue="상태"
    			rowStatusVisible="false" rowStatusWidth="50" scrollByColumn="false" scrollByColumnAdaptive="false" selectedCellColor="#fbf2cd"
    			selectedRowColor="#fbf2cd" style="height: 85px;" visibleRowNum="10">
    			<w2:caption id="caption1" style="" value="this is a grid caption."></w2:caption>
    			<w2:header id="header1" style="">
    				<w2:row id="row1" style="">
    					<w2:column displayMode="label" id="column41" inputType="text" style="height:28px" value="반려자" width="100"></w2:column>
    					<w2:column displayMode="label" id="column9" inputType="text" style="height:28px;" value="반려의견" width="600"></w2:column>
    					<w2:column width="70" inputType="text" style="height:28px" id="column43" value="반려일시" displayMode="label"></w2:column>
    				</w2:row>
    			</w2:header>
    			<w2:gBody id="gBody1" style="">
    				<w2:row id="row2" style="">
    					<w2:column displayMode="label" id="empname" inputType="text" style="height:28px" value="" width="100" readOnly="true"></w2:column>
    					<w2:column displayMode="label" id="contents" inputType="text" readOnly="true" style="height:28px;" width="900"
    						value="">
    					</w2:column>
    					<w2:column width="70" inputType="text" style="height:28px" id="created_date" value="" displayMode="label" readOnly="true"></w2:column>
    				</w2:row>
    			</w2:gBody>
    		</w2:gridView>
    		<xf:group class="w2tb tbl" id="" style="" tagname="table">
    			<w2:attributes>
    				<w2:summary></w2:summary>
    			</w2:attributes>
    			<xf:group tagname="caption"></xf:group>
    			<xf:group tagname="colgroup">
    				<xf:group style="width:150px;" tagname="col"></xf:group>
    				<xf:group style="" tagname="col"></xf:group>
    				<xf:group style="width:150px;" tagname="col"></xf:group>
    				<xf:group style="" tagname="col"></xf:group>
    				<xf:group style="width:150px;" tagname="col"></xf:group>
    				<xf:group style="" tagname="col"></xf:group>
    				<xf:group style="width:150px;" tagname="col"></xf:group>
    				<xf:group style="" tagname="col"></xf:group>
    			</xf:group>
    			<xf:group tagname="tr">
    				<xf:group class="w2tb_th" tagname="th">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:textbox id="" label="개인번호(성명)" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group class="w2tb_td" tagname="td">
    					<w2:attributes></w2:attributes>
    					<xf:group class="flex" id="" style="">
    						<xf:group class="inpSch fix" id="" style="width:180px;">
    							<xf:input adjustMaxLength="false" class="inp" id="ibx_empno" style="" ref="data:dma_info.empno" disabled="true" ev:onkeypress="scwin.ibx_empno_onkeypress"></xf:input>
    							<xf:trigger class="btn" id="btn_search_emp" style="" type="button" ev:onclick="scwin.btn_search_emp_onclick">
    								<xf:label><![CDATA[검색]]></xf:label>
    							</xf:trigger>
    						</xf:group>
    						<xf:input adjustMaxLength="false" class="inp full" id="ibx_nm" style="max-width: 150px;" readOnly="true" ref="data:dma_info.nm"></xf:input>
    					</xf:group>
    				</xf:group>
    				<xf:group class="w2tb_th" tagname="th">
    					<w2:attributes></w2:attributes>
    					<w2:textbox id="" label="부서" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group class="w2tb_td" tagname="td">
    					<w2:attributes></w2:attributes>
    					<w2:textbox class="txt" id="tbx_dept_nm" label="000" style="" tagname="span" ref="data:dma_info.dept_nm"></w2:textbox>
    				</xf:group>
    				<xf:group class="w2tb_th" tagname="th">
    					<w2:attributes></w2:attributes>
    					<w2:textbox id="" label="직급" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group class="w2tb_td" tagname="td">
    					<w2:attributes></w2:attributes>
    					<w2:textbox class="txt" id="tbx_posi_nm" label="000" style="" tagname="span" ref="data:dma_info.posi_nm"></w2:textbox>
    				</xf:group>
    				<xf:group class="w2tb_th" tagname="th">
    					<w2:attributes></w2:attributes>
    					<w2:textbox id="" label="주민등록번호" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group tagname="td" class="w2tb_td">
    					<w2:attributes></w2:attributes>
    					<w2:textbox class="txt" id="tbx_ssr_no" label="000" style="" tagname="span" ref="data:dma_info.resid_no"></w2:textbox>
    				</xf:group>
    			</xf:group>
    			<xf:group tagname="tr">
    				<xf:group class="w2tb_th" tagname="th">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:span class="bul_req" id="" label="[필수입력항목]" style=""></w2:span>
    					<w2:textbox class="blue" id="" label="신청일" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group class="w2tb_td" tagname="td">
    					<w2:attributes></w2:attributes>
    					<w2:inputCalendar calendarValueType="yearMonthDate" class="inpcal" focusOnDateSelect="false" footerDiv="false"
    						id="ica_req_ymd" renderDiv="true" rightAlign="false" style="max-width: 200px;" ref="data:dma_info.req_ymd" readOnly="true">
    					</w2:inputCalendar>
    				</xf:group>
    				<xf:group class="w2tb_th" tagname="th">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:textbox id="" label="결재상태" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group class="w2tb_td" tagname="td">
    					<w2:attributes></w2:attributes>
    					<w2:textbox class="txt" id="tbx_apr_state_nm" label="000" style="" tagname="span" ref="data:dma_info.apr_state_nm"></w2:textbox>
    				</xf:group>
    				<xf:group class="w2tb_th" tagname="th">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:textbox id="" label="신청번호" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group class="w2tb_td" tagname="td">
    					<w2:attributes>
    						<w2:colspan>3</w2:colspan>
    						<w2:rowspan>1</w2:rowspan>
    					</w2:attributes>
    					<w2:textbox class="txt" id="tbx_req_no" label="000" style="" tagname="span" ref="data:dma_info.req_no"></w2:textbox>
    				</xf:group>
    			</xf:group>
    		</xf:group>
    		<xf:group class="titleSection" id="" style="">
    		    <xf:group class="le" id="">
    			<w2:textbox class="tit_tbl" id="" label="변경전 가족사항" style="" tagname="h3"></w2:textbox>
    			</xf:group>  
    			<xf:group class="ri" id="">
    				<xf:group class="btnarea" id="" style="">
    					<xf:trigger class="btn" id="btn_copy" style="" type="button" ev:onclick="scwin.btn_copy_onclick">
    						<xf:label><![CDATA[복사]]></xf:label>
    					</xf:trigger>
    				</xf:group>
    			</xf:group>    			
    		</xf:group>
    		<w2:gridView autoFit="allColumn" class="grid" dataList="data:dlt_oldList" defaultCellHeight="28"
    			evenRowBackgroundColor="#f7faff" id="grd_before_fam" noResultMessage="조회 결과가 없습니다." noResultMessageClass="noResult"
    			rowMouseOverColor="#e7f0fb" rowNumBackgroundColor="#fff" rowNumHeaderValue="No." rowNumVisible="true" rowNumWidth="60"
    			rowStatusHeaderValue="상태" rowStatusVisible="false" rowStatusWidth="50" scrollByColumn="false" scrollByColumnAdaptive="false"
    			selectedCellColor="#fbf2cd" selectedRowColor="#fbf2cd" style="height: 85px;" visibleRowNum="10">
    			<w2:caption id="caption1" style="" value="this is a grid caption."></w2:caption>
    			<w2:header id="header1" style="">
    				<w2:row id="row1" style="">
    					<w2:column displayMode="label" id="column41" inputType="text" style="height:28px" value="처리구분" width="100"></w2:column>
    					<w2:column displayMode="label" id="column9" inputType="text" style="height:28px;" value="관계" width="100"></w2:column>
    					<w2:column displayMode="label" id="column43" inputType="text" style="height:28px" value="주민등록번호" width="150"></w2:column>
    					<w2:column displayMode="label" id="column45" inputType="text" style="height:28px" value="성명" width="70"></w2:column>
    					<w2:column displayMode="label" id="column47" inputType="text" style="height:28px" value="동거유무" width="70"></w2:column>
    					<w2:column displayMode="label" id="column49" inputType="text" style="height:28px" value="인적공제" width="70"></w2:column>
    					<w2:column displayMode="label" id="column53" inputType="text" style="height:28px" value="장애" width="70"></w2:column>
    					<w2:column displayMode="label" id="column51" inputType="text" style="height:28px" value="가족수당" width="70"></w2:column>
    					<w2:column displayMode="label" id="column55" inputType="text" style="height:28px" value="수당발생일" width="100"></w2:column>
    					<w2:column displayMode="label" id="column57" inputType="text" style="height:28px" value="수당종료일" width="100"></w2:column>
    					<w2:column displayMode="label" id="column59" inputType="text" style="height:28px" value="직업명" width="100"></w2:column>
    					<w2:column width="100" inputType="text" style="height:28px" id="column61" value="학력" displayMode="label"></w2:column>
    					<w2:column width="100" inputType="text" style="height:28px" id="column65" value="주소" displayMode="label"></w2:column>
    					<w2:column width="150" inputType="text" style="height:28px" id="column63" value="비고" displayMode="label"></w2:column>
    				</w2:row>
    			</w2:header>
    			<w2:gBody id="gBody1" style="">
    				<w2:row id="row2" style="">
    					<w2:column displayMode="label" id="except_yn" inputType="select" style="height:28px" value="" width="100"
    						readOnly="true" escape="false" selectedData="true" allOption="" chooseOption="" ref="" viewType="icon">
    						<w2:choices>
    							<w2:item>
    								<w2:label><![CDATA[변동없음]]></w2:label>
    								<w2:value><![CDATA[N]]></w2:value>
    							</w2:item>
    							<w2:item>
    								<w2:label><![CDATA[추가]]></w2:label>
    								<w2:value><![CDATA[C]]></w2:value>
    							</w2:item>
    							<w2:item>
    								<w2:label><![CDATA[수정]]></w2:label>
    								<w2:value><![CDATA[U]]></w2:value>
    							</w2:item>
    							<w2:item>
    								<w2:label><![CDATA[제외]]></w2:label>
    								<w2:value><![CDATA[Y]]></w2:value>
    							</w2:item>
    							<w2:item>
    								<w2:label><![CDATA[가족수당추기]]></w2:label>
    								<w2:value><![CDATA[A]]></w2:value>
    							</w2:item>
    							<w2:item>
    								<w2:label><![CDATA[가족수당해제]]></w2:label>
    								<w2:value><![CDATA[R]]></w2:value>
    							</w2:item>
    						</w2:choices>
    					</w2:column>
    					<w2:column displayMode="label" id="relat" inputType="select" readOnly="true" style="height:28px;" width="100" viewType="icon"></w2:column>
    					<w2:column displayMode="label" id="resid_no" inputType="text" style="height:28px" value="" width="150" readOnly="true"></w2:column>
    					<w2:column displayMode="label" id="nm" inputType="text" style="height:28px" value="" width="70" readOnly="true"></w2:column>
    					<w2:column displayMode="label" id="cohbt_yn" inputType="checkbox" style="height:28px" value="" width="70" escape="false" viewType="icon" readOnly="true" valueType="binary"></w2:column>
    					<w2:column displayMode="label" id="human_dedct_yn" inputType="checkbox" style="height:28px" value="" width="70" viewType="icon" readOnly="true" valueType="binary"></w2:column>
    					<w2:column displayMode="label" id="obst_yn" inputType="checkbox" style="height:28px" value="" width="70" viewType="icon" readOnly="true" valueType="binary"></w2:column>
    					<w2:column displayMode="label" id="fam_payamt_yn" inputType="checkbox" style="height:28px" value="" width="70" viewType="icon" readOnly="true" valueType="binary"></w2:column>
    					<w2:column id="payamt_occr_ymd" inputType="text" style="height:28px" value="" width="100" readOnly="true" displayFormat="yyyy-MM-dd" dataType="date"></w2:column>
    					<w2:column id="payamt_cls_ymd" inputType="text" style="height:28px" value="" width="100" readOnly="true" displayFormat="yyyy-MM-dd" dataType="date"></w2:column>
    					<w2:column displayMode="label" id="ocpt_nm" inputType="text" style="height:28px" value="" width="100" readOnly="true"></w2:column>
    					<w2:column width="100" inputType="select" style="height:28px" id="educ" value="" displayMode="label" readOnly="true" viewType="icon"></w2:column>
    					<w2:column width="100" inputType="text" style="height:28px" id="addr" value="" displayMode="label" readOnly="true"></w2:column>
    					<w2:column width="150" inputType="text" style="height:28px" id="rmk" value="" displayMode="label" readOnly="true"></w2:column>
    				</w2:row>
    			</w2:gBody>
    		</w2:gridView>
    		<xf:group class="titleSection" id="" style="">
    			<xf:group class="le" id="">
    				<w2:textbox class="tit_tbl" id="" label="변경후 가족사항" style="" tagname="h3"></w2:textbox>
    				<w2:span class="note red" id="" label='※ 주민등록번호는 "******-*******" 형식으로 입력해 주시기 바랍니다.' style=""></w2:span>
    			</xf:group>
    			<xf:group class="ri" id="">
    				<xf:group class="btnarea" id="" style="">
    					<xf:trigger class="bt_plus" id="btn_plus" style="" type="button" ev:onclick="scwin.btn_plus_onclick">
    						<xf:label><![CDATA[추가]]></xf:label>
    					</xf:trigger>
    					<xf:trigger class="bt_minus" id="btn_minus" style="" type="button" ev:onclick="scwin.btn_minus_onclick">
    						<xf:label><![CDATA[삭제]]></xf:label>
    					</xf:trigger>
    				</xf:group>
    			</xf:group>
    		</xf:group>
    		<w2:gridView autoFit="allColumn" class="grid" dataList="data:dlt_chgList" defaultCellHeight="28"
    			evenRowBackgroundColor="#f7faff" id="grd_after_fam" noResultMessage="조회 결과가 없습니다." noResultMessageClass="noResult"
    			rowMouseOverColor="#e7f0fb" rowNumBackgroundColor="#fff" rowNumHeaderValue="No." rowNumVisible="true" rowNumWidth="60"
    			rowStatusHeaderValue="상태" rowStatusVisible="false" rowStatusWidth="50" scrollByColumn="false" scrollByColumnAdaptive="false"
    			selectedCellColor="#fbf2cd" selectedRowColor="#fbf2cd" style="height: 85px;" visibleRowNum="10" ev:onviewchange="scwin.grd_after_fam_onviewchange" ev:oncellclick="scwin.grd_after_fam_oncellclick">
    			<w2:caption id="caption1" style="" value="this is a grid caption."></w2:caption>
    			<w2:header id="header1" style="">
    				<w2:row id="row1" style="">
    					<w2:column checkboxLabel="전체선택" displayMode="label" fixColumnWidth="true" id="column1" inputType="checkbox"
    						readOnly="false" style="height:28px;" value="선택" width="45">
    					</w2:column>
    					<w2:column displayMode="label" id="column41" inputType="text" style="height:28px" value="처리구분" width="100"></w2:column>
    					<w2:column displayMode="label" id="column9" inputType="text" style="height:28px;" value="관계" width="100"></w2:column>
    					<w2:column displayMode="label" id="column43" inputType="text" style="height:28px" value="주민등록번호" width="150"></w2:column>
    					<w2:column width="70" inputType="text" style="height:28px" id="column67" value="나이(만)" displayMode="label"></w2:column>
    					<w2:column displayMode="label" id="column45" inputType="text" style="height:28px" value="성명" width="70"></w2:column>
    					<w2:column displayMode="label" id="column47" inputType="text" style="height:28px" value="동거유무" width="70"></w2:column>
    					<w2:column displayMode="label" id="column49" inputType="text" style="height:28px" value="인적공제" width="70"></w2:column>
    					<w2:column displayMode="label" id="column53" inputType="text" style="height:28px" value="장애" width="70"></w2:column>
    					<w2:column displayMode="label" id="column51" inputType="text" style="height:28px" value="가족수당" width="70"></w2:column>
    					<w2:column displayMode="label" id="column55" inputType="text" style="height:28px" value="수당발생일" width="100"></w2:column>
    					<w2:column displayMode="label" id="column57" inputType="text" style="height:28px" value="수당종료일" width="100"></w2:column>
    					<w2:column displayMode="label" id="column59" inputType="text" style="height:28px" value="직업명" width="100"></w2:column>
    					<w2:column displayMode="label" id="column61" inputType="text" style="height:28px" value="학력" width="100"></w2:column>
    					<w2:column displayMode="label" id="column65" inputType="text" style="height:28px" value="주소" width="100"></w2:column>
    					<w2:column displayMode="label" id="column63" inputType="text" style="height:28px" value="비고" width="150"></w2:column>
    				</w2:row>
    			</w2:header>
    			<w2:gBody id="gBody1" style="">
    				<w2:row id="row2" style="">
    					<w2:column displayMode="label" id="chk" inputType="checkbox" readOnly="false" style="height:28px;" width="50"
    						checkboxLabel="선택">
    					</w2:column>
    					<w2:column displayMode="label" id="except_yn" inputType="select" style="height:28px" value="" width="100"
    						viewType="icon" allOption="" chooseOption="" ref="">
    						<w2:choices>
    							<w2:item>
    								<w2:label><![CDATA[변동없음]]></w2:label>
    								<w2:value><![CDATA[N]]></w2:value>
    							</w2:item>
    							<w2:item>
    								<w2:label><![CDATA[추가]]></w2:label>
    								<w2:value><![CDATA[C]]></w2:value>
    							</w2:item>
    							<w2:item>
    								<w2:label><![CDATA[수정]]></w2:label>
    								<w2:value><![CDATA[U]]></w2:value>
    							</w2:item>
    							<w2:item>
    								<w2:label><![CDATA[제외]]></w2:label>
    								<w2:value><![CDATA[Y]]></w2:value>
    							</w2:item>
    							<w2:item>
    								<w2:label><![CDATA[가족수당추가]]></w2:label>
    								<w2:value><![CDATA[A]]></w2:value>
    							</w2:item>
    							<w2:item>
    								<w2:label><![CDATA[가족수당해제]]></w2:label>
    								<w2:value><![CDATA[R]]></w2:value>
    							</w2:item>
    						</w2:choices>
    					</w2:column>
    					<w2:column displayMode="label" id="relat" inputType="select" style="height:28px;" width="100"
    						viewType="icon">
    					</w2:column>
    					<w2:column displayMode="label" id="resid_no" inputType="text" style="height:28px" value="" width="150"
    						maxLength="14" allowChar="0-9,-">
    					</w2:column>
    					<w2:column width="70" inputType="text" style="height:28px" id="age" value="" displayMode="label" readOnly="true"></w2:column>
    					<w2:column displayMode="label" id="nm" inputType="text" style="height:28px" value="" width="70">
    					</w2:column>
    					<w2:column displayMode="label" id="cohbt_yn" inputType="checkbox" style="height:28px" value="" width="70"
    						viewType="icon" valueType="binary">
    					</w2:column>
    					<w2:column displayMode="label" id="human_dedct_yn" inputType="checkbox" style="height:28px" value="" width="70"
    						viewType="icon" valueType="binary">
    					</w2:column>
    					<w2:column displayMode="label" id="obst_yn" inputType="checkbox" style="height:28px" value="" width="70"
    						viewType="icon" valueType="binary">
    					</w2:column>
    					<w2:column displayMode="label" id="fam_payamt_yn" inputType="checkbox" style="height:28px" value="" width="70"
    						viewType="icon" valueType="binary">
    					</w2:column>
    					<w2:column id="payamt_occr_ymd" inputType="text" style="height:28px" value="" width="100" displayFormat="yyyy-MM-dd" dataType="date" readOnly="true" valueType="binary"></w2:column>
    					<w2:column id="payamt_cls_ymd" inputType="text" style="height:28px" value="" width="100" displayFormat="yyyy-MM-dd" dataType="date" readOnly="true" valueType="binary"></w2:column>
    					<w2:column displayMode="label" id="ocpt_nm" inputType="text" style="height:28px" value="" width="100" maxByteLength="60"></w2:column>
    					<w2:column displayMode="label" id="educ" inputType="select" style="height:28px" value="" width="100" viewType="icon"></w2:column>
    					<w2:column displayMode="label" id="addr" inputType="text" style="height:28px" value="" width="100" maxByteLength="200"></w2:column>
    					<w2:column displayMode="label" id="rmk" inputType="text" style="height:28px" value="" width="150" maxByteLength="255"></w2:column>
    				</w2:row>
    			</w2:gBody>
    		</w2:gridView>
    		<xf:group class="helparea" id="" style="">
    			<xf:group id="" style="" tagname="ol">
    				<xf:group id="" tagname="li">
    					<w2:textbox class="" id="" label="중복신청 금지 : 배우자가 공무원이고 가족수당을 지급받고 있는 경우 가족수당을 지급하지 않음.(공무원수당 등에 관한 규정 제10조(가족수당))"
    						style="" tagname="span">
    					</w2:textbox>
    				</xf:group>
    				<xf:group id="" style="" tagname="li">
    					<w2:textbox class="" id=""
    						label="지급제한 : 부양가족 변동사항(취득‧상실) 신고를 허위로 한 자는 허위신고로 지급된 추가지급금의 변상 및 가족수당 지급 정지 조치됨.(가족수당 지급기준 제6조(지급의 제한))" style=""
    						tagname="span">
    					</w2:textbox>
    				</xf:group>
    			</xf:group>
    		</xf:group>
    		<xf:group class="w2tb tbl" id="" style="" tagname="table">
    			<w2:attributes>
    				<w2:summary></w2:summary>
    			</w2:attributes>
    			<xf:group tagname="caption"></xf:group>
    			<xf:group tagname="colgroup">
    				<xf:group style="width:200px;" tagname="col"></xf:group>
    				<xf:group style="" tagname="col"></xf:group>
    				<xf:group style="width:200px;" tagname="col"></xf:group>
    				<xf:group style="" tagname="col"></xf:group>
    				<xf:group style="width:200px;" tagname="col"></xf:group>
    				<xf:group style="" tagname="col"></xf:group>
    			</xf:group>
    			<xf:group tagname="tr">
    				<xf:group class="w2tb_th" tagname="th">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
						<w2:span class="bul_req" id="" label="[필수입력항목]" style=""></w2:span>    					
    					<w2:textbox id="" label="변경내용 요약" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group class="w2tb_td" tagname="td">
    					<w2:attributes>
    						<w2:colspan>5</w2:colspan>
    						<w2:rowspan>1</w2:rowspan>
    					</w2:attributes>
    					<xf:input adjustMaxLength="false" class="inp full" id="ibx_bas_rmk" style="" ref="data:dma_info.rmk" maxByteLength="255"></xf:input>
    				</xf:group>
    			</xf:group>
    			<xf:group tagname="tr">
    				<xf:group class="w2tb_th" tagname="th">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
						<w2:span class="bul_req" id="spa_file" label="[필수입력항목]" style=""></w2:span>      					
    					<w2:textbox id="" label="첨부파일" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group class="w2tb_td" tagname="td">
    					<w2:attributes>
    						<w2:colspan>5</w2:colspan>
    						<w2:rowspan>1</w2:rowspan>
    					</w2:attributes>
    					<xf:group class="fileuploadBox" id="upload_A" style="height:150px;"></xf:group>
    				</xf:group>
    			</xf:group>
    		</xf:group>
    		<xf:group class="helparea" id="" style="">
    			<xf:group id="" style="" tagname="ul">
    				<xf:group id="" tagname="li">
    					<w2:textbox class="blue" id="" label="저장 및 결재신청 버튼이 비활성화 된 경우, 과거 작성중인 건을 삭제 후 진행하시면 됩니다." style=""
    						tagname="span">
    					</w2:textbox>
    				</xf:group>
    				<xf:group id="" style="" tagname="li">
    					<w2:textbox class="blue" id="" label="매월 10일 마감, 10일 이후 신청 건은 익월 결재 및 급여 반영됩니다." style="" tagname="span">
    					</w2:textbox>
    				</xf:group>
    			</xf:group>
    		</xf:group>
    		<xf:group class="btnGroup" id="" style="">
    			<xf:group class="le" id="" style="">
    			</xf:group>
    			<xf:group class="ri" id="">
    				<xf:trigger class="btn pro" id="btn_confirm" style="" type="button" ev:onclick="scwin.btn_confirm_onclick">
    					<xf:label><![CDATA[처리]]></xf:label>
    				</xf:trigger>
    				<xf:trigger class="btn pro" id="btn_reject" style="" type="button" ev:onclick="scwin.btn_reject_onclick">
    					<xf:label><![CDATA[반려]]></xf:label>
    				</xf:trigger>
    				<xf:trigger class="btn pro" id="btn_del" style="" type="button" ev:onclick="scwin.btn_del_onclick">
    					<xf:label><![CDATA[삭제]]></xf:label>
    				</xf:trigger>
    				<xf:trigger class=" btn pro conf" id="btn_save" style="" type="button" ev:onclick="scwin.btn_save_onclick">
    					<xf:label><![CDATA[저장]]></xf:label>
    				</xf:trigger>
    			</xf:group>
    		</xf:group>
    		<xf:group class="titleSection" id="" style="">
    			<w2:textbox class="tit_tbl" id="" label="가족수당 증빙서류" style="" tagname="h3"></w2:textbox>
    		</xf:group>
    		<xf:group class="helparea pt0" id="" style="">
    			<xf:group id="" style="" tagname="ol">
    				<xf:group id="" tagname="li">
    					<w2:textbox class="red" id=""
    						label="모든 서류는 최근 3개월 이내 발행본이어야 하며, 주민등록등본, 가족관계증명서의 경우 주민등록번호 13자리 전체를 식별할 수 있는 서류여야 합니다." style="" tagname="span">
    					</w2:textbox>
    				</xf:group>
    			</xf:group>
    		</xf:group>
    		<xf:group class="w2tb tbl" id="" style="" tagname="table">
    			<w2:attributes>
    				<w2:summary></w2:summary>
    			</w2:attributes>
    			<xf:group tagname="caption"></xf:group>
    			<xf:group tagname="colgroup">
    				<xf:group style="width:200px;" tagname="col"></xf:group>
    				<xf:group style="width:150px;" tagname="col"></xf:group>
    				<xf:group style="width:200px;" tagname="col"></xf:group>
    				<xf:group style="" tagname="col"></xf:group>
    				<xf:group style="" tagname="col"></xf:group>
    			</xf:group>
    			<xf:group tagname="tr">
    				<xf:group class="w2tb_th ce" tagname="th">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:textbox id="" label="구분" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group class="w2tb_th ce" tagname="th">
    					<w2:attributes></w2:attributes>
    					<w2:textbox class="" id="" label="본인과 동거여부" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group class="w2tb_th ce" tagname="th">
    					<w2:attributes>
    						<w2:colspan>2</w2:colspan>
    						<w2:rowspan>1</w2:rowspan>
    					</w2:attributes>
    					<w2:textbox class="" id="" label="첨부서류" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group class="w2tb_th ce" tagname="th">
    					<w2:attributes></w2:attributes>
    					<w2:textbox class="" id="" label="비고" style="" tagname="span"></w2:textbox>
    				</xf:group>
    			</xf:group>
    			<xf:group tagname="tr">
    				<xf:group class="w2tb_th ce" tagname="th">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:textbox id="" label="배우자" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group class="w2tb_th col_blue ce" tagname="th">
    					<w2:attributes></w2:attributes>
    					<w2:textbox id="" label="필요없음" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group class="w2tb_td" tagname="td">
    					<w2:attributes>
    						<w2:colspan>2</w2:colspan>
    						<w2:rowspan>1</w2:rowspan>
    					</w2:attributes>
    					<w2:textbox class="txt" id="" label="- 가족관계증명서" style="" tagname="p"></w2:textbox>
    					<w2:textbox class="txt" id="" label="-" style="" tagname="span"></w2:textbox>
    					<w2:anchor class="linkfile singleLine" id="btn_docu_down1" outerDiv="false" style="" ev:onclick="scwin.btn_docu_down1_onclick">
    						<xf:label><![CDATA[서약서]]></xf:label>
    					</w2:anchor>
    					<w2:textbox class="txt" id="" label="(공무원 수당 중복수령 금지 서약)" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group tagname="td" class="w2tb_td">
    					<w2:attributes></w2:attributes>
    				</xf:group>
    			</xf:group>
    			<xf:group tagname="tr">
    				<xf:group tagname="th" class="w2tb_th ce">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:textbox id="" label="자녀" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group tagname="th" class="w2tb_th col_blue ce">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:textbox id="" label="필요없음" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group tagname="td" class="w2tb_td">
    					<w2:attributes>
    						<w2:colspan>2</w2:colspan>
    						<w2:rowspan>1</w2:rowspan>
    					</w2:attributes>
    					<w2:textbox class="txt" id="" label="- 가족관계증명서" style="" tagname="p"></w2:textbox>
    				</xf:group>
    				<xf:group tagname="td" class="w2tb_td">
    					<w2:attributes></w2:attributes>
    					<w2:textbox class="txt" id="" label="- 만 19세 미만" style="" tagname="p"></w2:textbox>
    					<w2:textbox class="txt" id="" label="- 부양가족 4인을 초과해도 신청 가능" style="" tagname="p"></w2:textbox>
    				</xf:group>
    			</xf:group>
    			<xf:group tagname="tr">
    				<xf:group tagname="th" class="w2tb_th ce">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:textbox id="" label="직계비속 (자녀 제외)" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group tagname="th" class="w2tb_th col_blue ce">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:textbox id="" label="O" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group tagname="td" class="w2tb_td">
    					<w2:attributes>
    						<w2:colspan>2</w2:colspan>
    						<w2:rowspan>1</w2:rowspan>
    					</w2:attributes>
    					<w2:textbox class="txt" id="" label="- 주민등록등본" style="" tagname="p"></w2:textbox>
    				</xf:group>
    				<xf:group tagname="td" class="w2tb_td">
    					<w2:attributes></w2:attributes>
    					<w2:textbox class="txt" id="" label="- 만 19세 미만" style="" tagname="p"></w2:textbox>
    					<w2:textbox class="txt" id="" label="- 본인과 동거하는 경우만 가능" style="" tagname="p"></w2:textbox>
    					<w2:textbox class="txt" id="" label="- 손자, 손녀 등" style="" tagname="p"></w2:textbox>
    				</xf:group>
    			</xf:group>
    			<xf:group tagname="tr">
    				<xf:group tagname="th" class="w2tb_th ce">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    						<w2:colspan>1</w2:colspan>
    						<w2:rowspan>5</w2:rowspan>
    					</w2:attributes>
    					<!-- <w2:textbox id="" label="본인 및 배우자의 직계존속 (父 : 만 60세 이상 母 : 만 55세 이상)" style="" tagname="span"></w2:textbox> -->

    					<w2:textbox id="" label="본인 및 배우자의 직계존속" style="" tagname="span"></w2:textbox>
    					<w2:textbox id="" label="(父 : 만 60세 이상" style="" tagname="p" class=""></w2:textbox>
    					<w2:textbox id="" label="母 : 만 55세 이상)" style="" tagname="p" class=""></w2:textbox>
    				</xf:group>
    				<xf:group tagname="th" class="w2tb_th col_blue ce">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:textbox id="" label="O" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group tagname="td" class="w2tb_td">
    					<w2:attributes>
    						<w2:colspan>2</w2:colspan>
    						<w2:rowspan>1</w2:rowspan>
    					</w2:attributes>
    					<w2:textbox class="txt" id="" label="- 주민등록등본" style="" tagname="p"></w2:textbox>
    				</xf:group>
    				<xf:group tagname="td" class="w2tb_td">
    					<w2:attributes></w2:attributes>
    					<w2:textbox class="txt" id="" label="- 본인과 동거하는 경우" style="" tagname="p"></w2:textbox>
    				</xf:group>
    			</xf:group>
    			<xf:group tagname="tr">
    				<xf:group tagname="th" class="w2tb_th col_blue ce">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:textbox id="" label="X" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group tagname="td" class="w2tb_td">
    					<w2:attributes>
    						<w2:colspan>2</w2:colspan>
    						<w2:rowspan>1</w2:rowspan>
    					</w2:attributes>
    					<w2:textbox class="txt" id="" label="- 가족관계증명서" style="" tagname="p"></w2:textbox>
    					<w2:textbox class="txt" id="" label="- 배우자의 주민등록등본 (직계존속과의 동거여부 확인)" style="" tagname="p"></w2:textbox>
    				</xf:group>
    				<xf:group tagname="td" class="w2tb_td">
    					<w2:attributes></w2:attributes>
    					<w2:textbox class="txt" id="" label="- 배우자와 동거하는 경우" style="" tagname="p"></w2:textbox>
    				</xf:group>
    			</xf:group>
    			<xf:group tagname="tr">
    				<xf:group tagname="th" class="w2tb_th col_blue ce">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:textbox id="" label="X" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group tagname="td" class="w2tb_td">
    					<w2:attributes>
    						<w2:colspan>2</w2:colspan>
    						<w2:rowspan>1</w2:rowspan>
    					</w2:attributes>
    					<w2:textbox class="txt" id="" label="- 가족관계증명서" style="" tagname="p"></w2:textbox>
    					<w2:textbox class="txt" id="" label="- 건강보험 자격확인(통보)서 (본인 기준, 3개월 이내 발행본)" style="" tagname="p"></w2:textbox>
    				</xf:group>
    				<xf:group tagname="td" class="w2tb_td">
    					<w2:attributes></w2:attributes>
    					<w2:textbox class="txt" id="" label="- 본인(또는 배우자)과 동거하고 있지 않은 경우(별거)" style="" tagname="p"></w2:textbox>
    					<w2:textbox class="txt" id="" label="- 가입주(세대주)에 본인, 자격확인내역에 해당 직계존속이 있어야 함" style="" tagname="p"></w2:textbox>
    				</xf:group>
    			</xf:group>
    			<xf:group tagname="tr">
    				<xf:group tagname="th" class="w2tb_th col_blue ce">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:textbox id="" label="필요없음" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group tagname="td" class="w2tb_td">
    					<w2:attributes>
    						<w2:colspan>2</w2:colspan>
    						<w2:rowspan>1</w2:rowspan>
    					</w2:attributes>
    					<w2:textbox class="txt" id="" label="- 가족관계증명서" style="" tagname="p"></w2:textbox>
    					<w2:textbox class="txt" id="" label="- 장애인 증명서 또는 복지카드" style="" tagname="p"></w2:textbox>
    				</xf:group>
    				<xf:group tagname="td" class="w2tb_td">
    					<w2:attributes></w2:attributes>
    					<w2:textbox class="txt" id="" label="- 직계존속의 장애의 정도가 심한 경우" style="" tagname="p"></w2:textbox>
    				</xf:group>
    			</xf:group>
    			<xf:group tagname="tr">
    				<xf:group tagname="th" class="w2tb_th col_blue ce">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:textbox id="" label="필요없음" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group tagname="td" class="w2tb_td">
    					<w2:attributes>
    						<w2:colspan>2</w2:colspan>
    						<w2:rowspan>1</w2:rowspan>
    					</w2:attributes>
    					<w2:textbox class="txt" id="" label="- (부모님 기준) 가족관계증명서" style="" tagname="p"></w2:textbox>
    				</xf:group>
    				<xf:group tagname="td" class="w2tb_td">
    					<w2:attributes></w2:attributes>
    					<w2:textbox class="txt" id="" label="- [예외조항] 본인이 독남, 독녀일 경우(=외동)" style="" tagname="p"></w2:textbox>
    				</xf:group>
    			</xf:group>
    			<xf:group tagname="tr">
    				<xf:group tagname="th" class="w2tb_th ce">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    						<w2:colspan>1</w2:colspan>
    						<w2:rowspan>3</w2:rowspan>
    					</w2:attributes>
    					<w2:textbox id="" label="형제 자매 (만 19세 미만)" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group tagname="th" class="w2tb_th col_blue ce">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    						<w2:colspan>1</w2:colspan>
    						<w2:rowspan>3</w2:rowspan>
    					</w2:attributes>
    					<w2:textbox id="" label="O" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group tagname="td" class="w2tb_td">
    					<w2:attributes>
    						<w2:colspan>1</w2:colspan>
    						<w2:rowspan>3</w2:rowspan>
    					</w2:attributes>
    					<w2:textbox class="txt" id="" label="- 주민등록등본, 가족관계증명서(공통)" style="" tagname="p"></w2:textbox>
    				</xf:group>
    				<xf:group tagname="td" class="w2tb_td">
    					<w2:attributes></w2:attributes>
    					<w2:textbox class="txt" id="" label="- (부모님 기준) 가족관계증명서" style="" tagname="p"></w2:textbox>
    				</xf:group>
    				<xf:group tagname="td" class="w2tb_td">
    					<w2:attributes></w2:attributes>
    					<w2:textbox class="txt" id="" label="① 장애의 정도가 심한 형제/자매" style="" tagname="p"></w2:textbox>
    				</xf:group>
    			</xf:group>
    			<xf:group tagname="tr">
    				<xf:group tagname="td" class="w2tb_td">
    					<w2:attributes></w2:attributes>
    					<w2:textbox class="txt" id="" label="- 형제자매의 장애인 증명서 또는 복지카드" style="" tagname="p"></w2:textbox>
    				</xf:group>
    				<xf:group tagname="td" class="w2tb_td">
    					<w2:attributes></w2:attributes>
    					<w2:textbox class="txt" id="" label="② 부모가 장애의 정도가 심한 경우" style="" tagname="p"></w2:textbox>
    				</xf:group>
    			</xf:group>
    			<xf:group tagname="tr">
    				<xf:group tagname="td" class="w2tb_td ce">
    					<w2:attributes></w2:attributes>
    					<w2:textbox class="txt" id="" label="-" style="" tagname="p"></w2:textbox>
    				</xf:group>
    				<xf:group tagname="td" class="w2tb_td">
    					<w2:attributes></w2:attributes>
    					<w2:textbox class="txt" id="" label="③ 부모가 사망한 경우" style="" tagname="p"></w2:textbox>
    				</xf:group>
    			</xf:group>
    		</xf:group>
    		<xf:group class="helparea" id="" style="">
    			<xf:group id="" style="" tagname="ul">
    				<xf:group id="" tagname="li">
    					<w2:textbox class="blue" id="" label="세부사항은 첨부된 별표 제2호를 참고해주시기 바랍니다. (장애의 정도, 형제 자매 등의 내용 포함)" style=""
    						tagname="span">
    					</w2:textbox>
    				</xf:group>
    			</xf:group>
    		</xf:group>
    		<w2:anchor id="btn_docu_down2" outerDiv="false" style="" class="linkfile" ev:onclick="scwin.btn_docu_down2_onclick">
    			<xf:label><![CDATA[별표 제2호.pdf]]></xf:label>
    		</w2:anchor>
    	</xf:group>
    </body>
</html>
