<?xml version="1.0" encoding="UTF-8"?>
<html xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ev="http://www.w3.org/2001/xml-events"
    xmlns:w2="http://www.inswave.com/websquare" xmlns:xf="http://www.w3.org/2002/xforms">
    <head meta_programName="과학기술인연금 신청">
    	<w2:type>DEFAULT</w2:type>
        <w2:buildDate/>
        <xf:model>
        	<xf:instance>
        		<data xmlns="" />
        	</xf:instance>
        	<w2:dataCollection baseNode="map">
        		<w2:dataMap baseNode="map" id="dma_search">
        			<w2:keyInfo>
        				<w2:key id="syspayno" name="syspayno" dataType="text"></w2:key>
        				<w2:key id="req_no" name="req_no" dataType="text"></w2:key>
        				<w2:key id="salry_cd" name="salry_cd" dataType="text"></w2:key>
        			</w2:keyInfo>
        		</w2:dataMap>
        		<w2:dataMap baseNode="map" id="dma_info">
        			<w2:keyInfo>
        				<w2:key id="req_no" name="신청번호" dataType="text"></w2:key>
        				<w2:key id="req_ymd" name="신청일" dataType="text"></w2:key>
        				<w2:key id="syspayno" name="시스템개인번호" dataType="text"></w2:key>
        				<w2:key id="dept_cd" name="부서코드" dataType="text"></w2:key>


        				<w2:key id="dept_new_ymd" name="부서신설일" dataType="text"></w2:key>
        				<w2:key id="req_typ" name="신청유형" dataType="text"></w2:key>
        				<w2:key id="retire_middle_cntfr_ymd" name="퇴직중간기산일" dataType="text"></w2:key>
        				<w2:key id="postmt_no" name="우편번호" dataType="text"></w2:key>
        				<w2:key id="base_addr" name="기본주소" dataType="text"></w2:key>
        				<w2:key id="detls_addr" name="상세주소" dataType="text"></w2:key>
        				<w2:key id="cmpy_postmt_no" name="회사우편번호" dataType="text"></w2:key>
        				<w2:key id="cmpy_base_addr" name="회사기본주소" dataType="text"></w2:key>
        				<w2:key id="cmpy_detls_addr" name="회사상세주소" dataType="text"></w2:key>
        				<w2:key id="home_tel" name="집전화" dataType="text"></w2:key>
        				<w2:key id="mobile" name="핸드폰" dataType="text"></w2:key>
        				<w2:key id="ext_no" name="내선번호" dataType="text"></w2:key>
        				<w2:key id="email" name="이메일" dataType="text"></w2:key>
        				<w2:key id="retire_mny_cntfr_ymd" name="퇴직금기산일" dataType="text"></w2:key>
        				<w2:key id="retire_incl_yn" name="퇴직포함여부" dataType="text"></w2:key>
        				<w2:key id="psn_burdn" name="개인부담" dataType="text"></w2:key>
        				<w2:key id="cpmy_burdn" name="회사부담" dataType="text"></w2:key>
        				<w2:key id="add_pay_yn" name="추가납부여부" dataType="text"></w2:key>
        				<w2:key id="add_pay_amt" name="추가납부금액" dataType="text"></w2:key>
        				<w2:key id="req_cause" name="신청사유" dataType="text"></w2:key>
        				<w2:key id="attach_file_no" name="첨부파일번호" dataType="text"></w2:key>
        				<w2:key id="docu_no" name="문서번호" dataType="text"></w2:key>


        				<w2:key id="init_indict_etc_yn" name="최초운용지시MP기타여부" dataType="text"></w2:key>

        				<w2:key id="apart_indict_etc_yn" name="기존퇴직금별도운용지시기타여부" dataType="text"></w2:key>











        				<w2:key id="init_indict_mp100_yn" name="최초운용지시MP100여부" dataType="text"></w2:key>
        				<w2:key id="init_indict_mp70_yn" name="최초운용지시MP70여부" dataType="text"></w2:key>
        				<w2:key id="init_indict_mp50_yn" name="최초운용지시MP50여부" dataType="text"></w2:key>
        				<w2:key id="init_indict_mp30_yn" name="최초운용지시MP30여부" dataType="text"></w2:key>
        				<w2:key id="apart_indict_mp100_yn" name="기존퇴직금별도운용지시MP100여부" dataType="text"></w2:key>
        				<w2:key id="apart_indict_mp70_yn" name="기존퇴직금별도운용지시MP70여부" dataType="text"></w2:key>
        				<w2:key id="apart_indict_mp50_yn" name="기존퇴직금별도운용지시MP50여부" dataType="text"></w2:key>
        				<w2:key id="apart_indict_mp30_yn" name="기존퇴직금별도운용지시MP30여부" dataType="text"></w2:key>
        				<w2:key id="init_indict_retireamt_yn" name="최초운용지시 과학기술인공제회 퇴직연금 정기예금 1년" dataType="text"></w2:key>
        				<w2:key id="apart_indict_retireamt_yn" name="기존퇴직금별도운용지시 과학기술인공제회 퇴직연금 정기예금 1년" dataType="text"></w2:key>
        				<w2:key id="sci_tech_anuty" name="과학기술연금여부" dataType="text"></w2:key>

        				<w2:key id="empno" name="개인번호" dataType="text"></w2:key>
        				<w2:key id="apr_state_nm" name="결재상태명" dataType="text"></w2:key>
        				<w2:key id="apr_state" name="결재상태" dataType="text"></w2:key>
        				<w2:key id="nm" name="성명" dataType="text"></w2:key>
        				<w2:key id="dept_nm" name="부서명" dataType="text"></w2:key>
        				<w2:key id="posi_nm" name="직급명" dataType="text"></w2:key>
        				<w2:key id="entr_ymd" name="입원일" dataType="text"></w2:key>
        				<w2:key id="longwk_cntfr_ymd" name="퇴직기산일" dataType="text"></w2:key>
        				<w2:key id="resid_no" name="주민번호" dataType="text"></w2:key>
        				<w2:key id="cole_yn" name="cole_yn" dataType="text"></w2:key>
        				<w2:key id="rmk" name="rmk" dataType="text"></w2:key>
        				<w2:key id="retonum" name="retonum" dataType="text"></w2:key>
        				<w2:key id="app_yrmon" name="app_yrmon" dataType="text"></w2:key>
        				<w2:key id="calc_base" name="calc_base" dataType="text"></w2:key>
        				<w2:key id="approval" name="approval" dataType="text"></w2:key>
        				<w2:key id="service_id" name="service_id" dataType="text"></w2:key>
        				<w2:key id="doc_id" name="doc_id" dataType="text"></w2:key>
        				<w2:key id="regst_syspayno" name="등록자 시스템개인번호" dataType="text"></w2:key>
        				<w2:key id="updt_syspayno" name="수정자 시스템개인번호" dataType="text"></w2:key>
        				<w2:key id="comments" name="반려의견" dataType="text"></w2:key>
        				<w2:key id="info_cd" name="info_cd" dataType="text"></w2:key>
        			</w2:keyInfo>
        		</w2:dataMap>
        		<w2:dataList baseNode="list" repeatNode="map" id="dlt_reject" saveRemovedData="true">
        			<w2:columnInfo>
        				<w2:column id="empname" name="반려자명" dataType="text"></w2:column>
        				<w2:column id="contents" name="반려비고" dataType="text"></w2:column>
        				<w2:column id="created_date" name="반려일자" dataType="text"></w2:column>
        			</w2:columnInfo>
        		</w2:dataList>
        		<w2:dataMap baseNode="map" id="dma_param">
        			<w2:keyInfo>
        				<w2:key id="syspayno" name="syspayno" dataType="text"></w2:key>
        				<w2:key id="req_no" name="req_no" dataType="text"></w2:key>
        				<w2:key id="dept_cd" name="dept_cd" dataType="text"></w2:key>
        				<w2:key id="req_typ" name="req_typ" dataType="text"></w2:key>
        				<w2:key id="apr_state" name="apr_state" dataType="text"></w2:key>
        				<w2:key id="req_ymd_from" name="req_ymd_from" dataType="text"></w2:key>
        				<w2:key id="req_ymd_to" name="req_ymd_to" dataType="text"></w2:key>
        				<w2:key id="empno" name="empno" dataType="text"></w2:key>
        				<w2:key id="dept_nm" name="dept_nm" dataType="text"></w2:key>
        				<w2:key id="nm" name="nm" dataType="text"></w2:key>
        				<w2:key id="g_req_no" name="g_req_no" dataType="text"></w2:key>
        				<w2:key id="param4" name="param4" dataType="text"></w2:key>
        			</w2:keyInfo>
        		</w2:dataMap>
        	</w2:dataCollection>
        	<w2:workflowCollection></w2:workflowCollection>
        	<xf:submission id="sbm_selectHumApyAnuty" ref="data:json,dma_search" target="" action="SvcHUMAPYANUSR01.pwkjson" method="post"
        		mediatype="application/json" encoding="UTF-8" instance="" replace="" errorHandler="" customHandler="" mode="asynchronous"
        		processMsg="" ev:submit="" ev:submitdone="" ev:submiterror="" abortTrigger="">
        	</xf:submission>
        	<xf:submission id="sbm_saveHumApyAnuty" ref="data:json,dma_info" target="data:json,dma_search" action="SvcHUMAPYANUSI01.pwkjson" method="post"
        		mediatype="application/json" encoding="UTF-8" instance="" replace="" errorHandler="" customHandler="" mode="asynchronous"
        		processMsg="" ev:submit="" ev:submitdone="" ev:submiterror="" abortTrigger="">
        	</xf:submission>
        	<xf:submission id="sbm_selectHumApyAnutyApr" ref="data:json,dma_search" target="" action="SvcHUMAPYANUSR02.pwkjson"
        		method="post" mediatype="application/json" encoding="UTF-8" instance="" replace="" errorHandler="" customHandler=""
        		mode="asynchronous" processMsg="" ev:submit="" ev:submitdone="" ev:submiterror="" abortTrigger="">
        	</xf:submission>
        	<xf:submission id="sbm_deleteHumApyAnuty" ref="data:json,dma_info" target="" action="SvcHUMAPYANUSD01.pwkjson" method="post"
        		mediatype="application/json" encoding="UTF-8" instance="" replace="" errorHandler="" customHandler="" mode="asynchronous"
        		processMsg="" ev:submit="" ev:submitdone="" ev:submiterror="" abortTrigger="">
        	</xf:submission>
        	<xf:submission id="sbm_aprAgr" ref="data:json,dma_info" target="" action="SvcHUMAPYANUSU01.pwkjson" method="post" mediatype="application/json"
        		encoding="UTF-8" instance="" replace="" errorHandler="" customHandler="" mode="asynchronous" processMsg="" ev:submit=""
        		ev:submitdone="" ev:submiterror="" abortTrigger="">
        	</xf:submission>
        	<xf:submission id="sbm_aprReject" ref="data:json,dma_info" target="" action="SvcHUMAPYANUSU02.pwkjson" method="post" mediatype="application/json"
        		encoding="UTF-8" instance="" replace="" errorHandler="" customHandler="" mode="asynchronous" processMsg="" ev:submit=""
        		ev:submitdone="" ev:submiterror="" abortTrigger="">
        	</xf:submission>
        </xf:model>
        <script type="text/javascript" lazy="false"><![CDATA[
    /****************************************************
 	 * 화면 설명 : 과학기술인연금 신청
 	 * 변경 이력 : 2023-08-25	김상미	최초 작성
 	 * 서비스아이디 : H585
 	 ****************************************************/ 
 	         
 	scwin.data ={};
 	
 	 /**
	 * 페이지 로딩 이벤트
	 */  	         
	scwin.onpageload = function() {
		var param = com.getParameter();	
		console.log(param);
		scwin.data.service_id="H585";
		scwin.data.doc_id="H16";	
		scwin.data.loadYn=false;
		grd_reject.hide();
		spa_attach.hide();
		btn_confirm.hide();
		btn_reject.hide();
		grp_init.hide();
		grp_apart.hide();
		grp_salary.hide();
		com.biz.disabledButtons(dma_info.get("apr_state"), dma_info.get("req_no"));
		scwin.initPage(param);	
	};
	
	scwin.onpageunload = function() {
		
	};
	
	/**
	* 화면 초기 세팅
	*/
	scwin.initPage = function(param) {
		// 공통코드
		var codeOptions = [ { code : "HSF", compID : "sbx_req_typ"} //신청구분
		                  , { code : "XAB", compID : "sbx_domain"} //이메일도메인
		               ];		
		com.setCmnCd(codeOptions, function() {
		});
		
		// 첨부파일 컴포넌트 초기화
		com.file.init();
		// 첨부파일
		com.file.create(upload_A.getID(), {fileKey: scwin.data.service_id, mode: 'edit'});
		
		scwin.data.today = com.getServerDateTime();	
		//달력세팅
		ica_req_ymd.setValue(scwin.data.today);	

		// 데이터 유효성 체크
		com.setValidGroup(grp_base_info, [
			  {id:"ica_req_ymd", mandatory :true}
			, {id:"sbx_req_typ", mandatory :true}					
		]);	
				
		com.biz.checkRole({ serviceId : scwin.data.service_id, roleCodes : com.getLoginInfo('roleCode')}, function(e) {
			scwin.data.isRoleYn = e.isRoleYn;
		});	
		
		//권한정보 세팅
		scwin.data.roleCode = com.getLoginInfo('roleCode');

		dma_param.setJSON(param);	
		
		//신청번호 파라메터 세팅
		if (dma_param.get("req_no") !="") {
			dma_search.set("req_no", dma_param.get("req_no"));
		} else if (dma_param.get("g_req_no") !="") {
			dma_search.set("req_no", dma_param.get("g_req_no"));		
		}
		
		//salry_cd 세팅
		dma_search.set("salry_cd", "561");
		
		if (dma_search.get("req_no") == "") {
			com.alert("과학기술인연금 신청 및 승인은 매월 10일 마감, 10일 이후 신청 건은 익월 처리됩니다.", function(){
				dma_search.set("syspayno", com.getLoginInfo("sn"));
				scwin.search();				
			});				
		}else{
			scwin.search();
		}
	};

	
	/**
	* 인사정보 세팅
	*/	
	scwin.setEmpInfo = function() {
		var data = { empno : com.getLoginInfo("empno"), 
					 work_clsf : "HAG010", 
					 ref_yn : "N"
					}
		com.pop.open( com.pop.TYPE.HUM, data, function(ret) {
		});	
	};
	
	/**
	* 신청정보 조회
	*/
	scwin.search = function() {
		com.execute(sbm_selectHumApyAnuty, {
			successCallback : function(e) {
				dma_info.setJSON(e.responseJSON.elData.humApyAnutyInfoVo);
				
				if (dma_info.get("apr_state")=="XAD015") {
					dlt_reject.setJSON(e.responseJSON.elData.docList, false);
					if (dlt_reject.getTotalRow() > 0) {
						grd_reject.show();
					}						
				}

				spa_psn_burdn.setLabel("평균임금의 "+dma_info.get("calc_base")+ "% 납부");
				
				if (dma_info.get("sci_tech_anuty")=="N") {// 미가입자는 신청유형 가입으로 고정
					sbx_req_typ.setSelectedIndex(1);
					sbx_req_typ.setDisabled(true);				
				}

				if (dma_info.get("add_pay_yn") =="Y") {
					ibx_add_pay_amt.setDisabled(false);
				}			
				
				if (dma_info.get("req_no") != "") {
					if (dma_info.get("req_ymd") < "20220624") {
						grp_apart.show("");
						grp_init.show("");
						cbx_init_mgmt_indict_retire_amt.hide();
						cbx_apart_mgmt_indict_retire_amt.hide();
					}
					
					//첨부파일 세팅
					var vMode = "edit";
					if (dma_info.get("apr_state") >= "XAD020") {
						vMode = "view";
					}				
					var attachFileNo = dma_info.get("attach_file_no").trim();
					com.file.create(upload_A.getID(), {fileKey: (attachFileNo == "") ? scwin.data.service_id : attachFileNo, mode: vMode});		
					
					//담당자확인 상태에서 담당자에게 노출되는 정보
					if (dma_info.get("apr_state") =="XAD070") {
						if (scwin.data.isRoleYn) {
							grp_salary.show("");
							
							ibx_belng_yrmon.setValue(scwin.data.today.substring(0,6));
							
							if (dma_info.get("entr_ymd").substring(0,4)  >= ica_req_ymd.getValue().substring(0,4)) {
								ibx_start_ym.setValue(dma_info.get("entr_ymd").substring(0,6));
							} else {
								ibx_start_ym.setValue(ica_req_ymd.getValue().substring(0,4)+"01");
							}
							ibx_end_ym.setValue(scwin.data.today.substring(0,6));
						}
					}		
				}
				
				//이메일 정보 세팅
				if (dma_info.get("email") !="" && dma_info.get("email").indexOf("@") > -1) {
					var email = dma_info.get("email").split("@");
					ibx_email.setValue(email[0]);
					ibx_domain.setValue(email[1]);
					sbx_domain.setValue(email[1]);
				}

				scwin.compControll();
				scwin.data.loadYn = true;
			}
		});	
	};
	
	/**
	* 화면 콤포넌트 컨트롤
	*/	
	scwin.compControll = function() {
	    com.biz.disabledButtons(dma_info.get("apr_state"), dma_info.get("req_no"));	
		
		if (dma_info.get("req_no") != "") {
			//저장되면 인쇄버튼 활성화
			btn_print.setDisabled(false);
		}
			    
		if (dma_info.get("apr_state") >= "XAD020") {
			//관리자이고, 담당자확인 상태일 때만 반려/처리버튼 노출.
			com.biz.checkRole({ serviceId : scwin.data.service_id, roleCodes : com.getLoginInfo('roleCode')}, function(e) {
				scwin.data.isRoleYn = e.isRoleYn;
				if (scwin.data.isRoleYn && dma_info.get("apr_state") == "XAD070") {
					btn_confirm.show("");
					btn_reject.show("");
				}				
			});				
						
			var readonlyArr = ["ica_req_ymd","ibx_ext_no","ibx_email","ibx_home_tel","ibx_detls_addr","ibx_belng_yrmon",
					"ibx_add_pay_amt","ibx_cmpy_postmt_no","ibx_domain","ibx_domain","ibx_cmpy_detls_addr",
					"ibx_end_ym","ibx_base_addr","ibx_postmt_no","ibx_mobile","ibx_cpmy_base_addr","ibx_start_ym",
					"cbx_retire_incl_yn","cbx_add_pay_yn",
					"cbx_apart_mgmt_indict_mp100","cbx_apart_mgmt_indict_mp70","cbx_apart_mgmt_indict_mp50","cbx_apart_mgmt_indict_mp30",
					"cbx_init_mgmt_indict_mp100","cbx_init_mgmt_indict_mp70","cbx_init_mgmt_indict_mp50","cbx_init_mgmt_indict_mp30",
					"cbx_apart_mgmt_indict_retire_amt","cbx_init_mgmt_indict_retire_amt","cbx_apart_mgmt_indict_etc","cbx_init_mgmt_indict_etc"];
			scwin.setReadonly(readonlyArr, true);
			var disableArr = ["btn_search_postmt","btn_search_cmpy_postmt","sbx_req_typ","sbx_domain","txa_req_cause"];
			scwin.setDisable(disableArr, true);
						
		} else {
			if (tbx_req_no.getValue() != "" && !scwin.data.loadYn){
				com.alert("과학기술인연금 신청 및 승인은 매월 10일 마감, 10일 이후 신청 건은 익월 처리됩니다.", function(){			
				});	
			}
			
			if (tbx_empno.getValue() != com.getLoginInfo("empno")) {
				btn_save.setDisabled(true);
				btn_apr.setDisabled(true);
				btn_del.setDisabled(true);
			}
			
		}
		//결재완료 상태일 때만 인쇄 가능함.
		if (dma_info.get("apr_state") == "XAD100") {
			//1003123 역할이 있는 사용자만 결재완료후 반려처리 가능.
			if (scwin.data.roleCode.indexOf("1003123") > -1) {
				btn_reject.show("");
			}
		}
		
		//가입유형일 경우 처리
		if (sbx_req_typ.getValue() == "HSF001") {
			spa_attach.show("");	
			cbx_add_pay_yn.setDisabled(true);	
		}
	
	};
	
	/**
	* 컴포넌트 readonly true/false 처리
	*/
	scwin.setReadonly = function(arr, flag) {
		for (var i =0; i<arr.length; i++) {
			$p.getComponentById(arr[i]).setReadOnly(flag);
		}
	};

	/**
	* 컴포넌트 disable true/false 처리
	*/	
	scwin.setDisable = function(arr, flag) {
		for (var i =0; i<arr.length; i++) {
			$p.getComponentById(arr[i]).setDisabled(flag);
		}
	};
	
	/**
	 * 목록 버튼 클릭
	 */		
	scwin.btn_list_onclick = function(e) {
		scwin.backToList();		
	};

	/**
	 * 목록 페이지로 이동
	 */	
	scwin.backToList = function() {
		var data ={};
		com.moveList('H575'); 
	};		
	

	/**
	 * 인쇄 버튼 클릭 이벤트
	 */		
	scwin.btn_print_onclick = function(e) {
		var ozrCode = "H099";
		// 최종중간정산일 : 입원일과 퇴직금기산일이 같으면 공란, 다르면 퇴직금기산일 -1일
		var middleCntfrYmd ="";
		
		if (dma_info.get("entr_ymd") != dma_info.get("longwk_cntfr_ymd")) {
			middleCntfrYmd = com.addDate(dma_info.get("longwk_cntfr_ymd"), -1);
		}

		//oz팝업 호출시 전달할 파라메터
		var node = "reqNo=" + dma_info.get("req_no") 
				+ "&reqYmd=" + dma_info.get("req_ymd") 
				+ "&syspayno=" + dma_info.get("syspayno")
				+ "&middleCntfrYmd=" + middleCntfrYmd;
						
		if (cbx_retire_incl_yn.getValue()=="Y") {
			ozrCode ="H100";
		}
		
		com.oz.openPopup({
			ozrCode: ozrCode,
			param: node    
        });		
	};
	
	
	/**
	 * 결재요청 버튼 클릭 이벤트
	 */		
	scwin.btn_apr_onclick = function(e) {
		scwin.data.approval = true;
		if (!scwin.preSave()) {
			return;
		}
			
		com.confirm("결재신청 하시겠습니까?", function(ret) {
			if (ret) {
				dma_info.set("approval", "true");
				 scwin.saveTrans();		
			}
		});		
		
	};

	/**
	 * 신청유형 selectbox 선택 변경 이벤트
	 */		
	scwin.sbx_req_typ_onchange = function(info) {
		var req_ymd = ica_req_ymd.getValue();
		var req_ym = req_ymd.substring(0,6);
		
		// 입원일 ,신청일 날짜차이 단 신청일중 월의 21일 급여일자를 기준으로 비교
		var date = com.diffDate(dma_info.get("enter_ymd"), req_ym+"21");
		
		if (this.getValue() != "HSF001") {// 가입아닐때
			ica_retire_mny_cntr_ymd.setValue("");			//연금가입일
			spa_retire_mny_cntr_ymd.hide();
			cbx_retire_incl_yn.setValue("N");			//퇴직금합산
			cbx_retire_incl_yn.setDisabled(true);
			cbx_add_pay_yn.setDisabled(false);		//추가납부
			
			if (this.getValue() == "HSF003") { //해지
				cbx_add_pay_yn.setDisabled(true);
				cbx_add_pay_yn.setValue("N");
				ibx_add_pay_amt.setValue("");		//추가납부금액
				ica_retire_mny_cntr_ymd.setReadOnly(true);
			}
		} else {
			cbx_retire_incl_yn.setDisabled(false);
			cbx_add_pay_yn.setDisabled(false);
		
			// 당해년도 이전 입사자의 경우 => 현재년도 1월 1일  : case 1
			// 당해년도 입사자의 경우  => 입사일자               : case 2
			if (Number(dma_info.get("entr_ymd").substring(0,4)) < Number(scwin.data.today.substring(0,4))) {
				ica_retire_mny_cntr_ymd.setValue(scwin.data.today.substring(0,4) +"0101");	
			} else {
				ica_retire_mny_cntr_ymd.setValue(dma_info.get("entr_ymd"));
			}
		}
		
		if (date < 365) {
			cbx_retire_incl_yn.setValue("Y");
			cbx_retire_incl_yn.setDisabled(true);
		}
		
		//데이터를 조회하여 세팅할 때 이벤트가 적용되어 문제가 발생할 수 있어서, 데이터가 조회된 이후에 이벤트 발생시에만 적용될 수 있도록 조건 적용.
		if (scwin.data.loadYn) {
			if (this.getValue() == "HSF001") { //가입일 경우
				spa_init_mgmt.show("");
				spa_apart_mgmt.show("");
				spa_retire_mny_cntr_ymd.show("");	
				spa_attach.show("");		
				cbx_init_mgmt_indict_retire_amt.setValue("N");
				cbx_init_mgmt_indict_etc.setValue("N");
				cbx_apart_mgmt_indict_retire_amt.setValue("N");
				cbx_apart_mgmt_indict_etc.setValue("N");			
			} else {
				spa_init_mgmt.hide();
				spa_apart_mgmt.hide();
				spa_attach.hide();			
				cbx_init_mgmt_indict_retire_amt.setValue("N");
				cbx_init_mgmt_indict_etc.setValue("N");
				cbx_apart_mgmt_indict_retire_amt.setValue("N");
				cbx_apart_mgmt_indict_etc.setValue("N");
			}		
		}	
	};
		
	/**
	 * 자택주소 우편변호 조회
	 */		
	scwin.btn_search_postmt_onclick = function(e) {
		com.pop.open(com.pop.TYPE.ADDR, "", function(ret) {
			dma_info.set("postmt_no", ret.zipNo);
			dma_info.set("base_addr", ret.addrPart1);
			dma_info.set("detls_addr", ret.addrPart2);
		});		
	};
	
	/**
	 * 회사주소 우편변호 조회
	 */		
	scwin.btn_search_cmpy_postmt_onclick = function(e) {
		com.pop.open(com.pop.TYPE.ADDR, "", function(ret) {
			dma_info.set("cmpy_postmt_no", ret.zipNo);
			dma_info.set("cmpy_base_addr", ret.addrPart1);
			dma_info.set("cmpy_detls_addr", ret.addrPart2);
		});		
	};

	/**
	 * 이메일 도메인 selectbox 선택 변경 이벤트
	 */		
	scwin.sbx_domain_onchange = function(info) {
		if (info.newValue !="") {
			ibx_domain.setValue(this.getText());
		} else {
			ibx_domain.setValue("");
		}
	};

	/**
	 * 추가납부여부 체크 이벤트
	 */	
	scwin.cbx_add_pay_yn_onchange = function(info) {
		if (cbx_add_pay_yn.getValue()=="Y") {
			ibx_add_pay_amt.setDisabled(false);
		} else {
			ibx_add_pay_amt.setValue("0");
			ibx_add_pay_amt.setDisabled(true);			
		}
	};

	/**
	* 과학기술인연금 안내문 다운 클릭 이벤트
	*/
	scwin.btn_docu_down1_onclick = function() {
		scwin.downFileinfo("과학기술인연금 안내문.hwp","10000018");		
	};

	/**
	* 과학기술인연금 양식 다운 클릭 이벤트
	*/	
	scwin.btn_docu_down2_onclick = function() {
		scwin.downFileinfo("과학기술인연금.zip","10000014");
	};
	
	/**
     * 파일 다운로드
     */
	scwin.downFileinfo = function downFileinfo(file_nm,file_no) {
		var url = "/SvcAttachDown.do?fileName=web_folder/bizdoc/hum/"+file_no+"&realName="+encodeURIComponent(file_nm)+"&bizKind=OLD";		
		window.open(url, '_blank').focus();
	};	

	/**
     * 처리 버튼 클릭
     */		
	scwin.btn_confirm_onclick = function(e) {
		if (!scwin.data.isRoleYn) {
			com.alert("관리자외에는 처리 하실 수 없습니다.");
		}
		
		if (scwin.validate()) {
			com.confirm("승인처리 하시겠습니까?", function(ret) { 		
				if (ret) {
					dma_info.set("app_yrmon", ibx_belng_yrmon.getValue());
					dma_info.set("retonum", com.diffDate(ibx_start_ym.getValue(), ibx_end_ym.getValue(), "M"));
					dma_info.set("rmk", ibx_belng_yrmon.getValue() +" 소급분 적용");
					dma_info.set("addr_postmt_no", ibx_postmt_no.getValue());
					dma_info.set("addr_base", ibx_base_addr.getValue());
					dma_info.set("addr_detls", ibx_detls_addr.getValue());
					dma_info.set("updt_syspayno", com.getLoginInfo("sn"));	
					dma_info.set("sci_tech_anuty", "Y");							
					com.execute(sbm_aprAgr, {
						successCallback : function(e) {
							com.alert("승인처리 되었습니다");
							com.openTabMenu("A004", {});
						}
					});
				}
			});
		}	
	};

	/**
     * 반려 버튼 클릭
     */		
	scwin.btn_reject_onclick = function(e) {
		if (!scwin.data.isRoleYn) {
			com.alert("관리자외에는 반려를 하실 수 없습니다.");
		}
		var options = {
		    id: "APR02P",
		    popupName: "반려의견",
		    width: 500,
		    height: 300
		};
		com.openPopup("/ui/apr/APR_C001_03P.xml", options, "", function(retObj) {
		    if (retObj.comments != null) {
		        dma_info.set("comments", retObj.comments);
		        com.execute(sbm_aprReject, {
		            successCallback: function(e) {
		                com.alert("반려처리 되었습니다");
						com.openTabMenu("A004", {});
		            }
		        });
		    }
		});	
	};

	/**
     * 삭제 버튼 클릭
     */		
	scwin.btn_del_onclick = function(e) {
		scwin.remove();
	};

	/**
     * 삭제 실행 
     */		
	scwin.remove = function() {
		dma_info.set("regst_syspayno", com.getLoginInfo("sn"));
		dma_info.set("updt_syspayno", com.getLoginInfo("sn"));

		com.confirm("message.xom.wq.022"/*삭제 하시겠습니까?*/, function(ret) {
			if (ret) {
				com.file.deleteAll(function(){				
					com.execute(sbm_deleteHumApyAnuty, {
						successCallback : function(e) { // 성공 콜백
							com.alert("message.xom.wq.023"/*정상적으로 처리되었습니다.*/, function() {
								if (dma_param.get("param4") == "apr") {
									com.openTabMenu("A010", {});
								} else {
									scwin.backToList();							
								}
							});
						}
					});
				});
			}
		});	
	}

	/**
     * 저장 버튼 클릭
     */	
	scwin.btn_save_onclick = function(e) {
		scwin.data.approval = false;
		if (!scwin.preSave()) {
			return;
		}

		com.confirm("message.xom.wq.017"/*저장 하시겠습니까?*/, function(ret) {
			if (ret) {
				dma_info.set("approval", "false");
				scwin.saveTrans();			
			}
		});
	};
	

	/**
     * 저장 실행
     */		
     scwin.saveTrans = function() {
		com.file.transport(function(attachObj) {
			console.log(attachObj);
			var attaches = [];
			if (JSON.stringify(attachObj.upload_A) != '{}') {
				attaches.push(attachObj.upload_A);
				dma_info.set("attach_file_no", attachObj.upload_A);				
			}
			dma_info.set("validAttachNo", attaches.join(","));			
			console.log(dma_info.getJSON());	
			scwin.save();
		});    	
     };
  
  	/**
     * 저장 실행
     */		
     scwin.save = function() {
 		//서비스아이디 세팅
		dma_info.set("service_id", scwin.data.service_id);
		dma_info.set("doc_id", scwin.data.doc_id);
		dma_info.set("dept_cd", com.getLoginInfo("deptCode"));
		dma_info.set("dept_new_ymd", com.getLoginInfo("deptNewYmd"));
		
	
		if (dma_info.get("approval") == "true") {
			var infoCd = tbx_nm.getValue() +"(" + tbx_empno.getValue() + ") / " + txa_req_cause.getValue().replace(/(\n)/g, " ");
			dma_info.set("info_cd", infoCd);			
		}
		
		console.log(dma_info.getJSON());		

		com.execute(sbm_saveHumApyAnuty, {
			successCallback : function(e) { // 성공 콜백
				com.alert("message.xom.wq.023"/*정상적으로 처리되었습니다.*/, function() {
					scwin.postSave();
				});
			} 
		});
   	
     };   
     /**
     * 저장전 확인
     */
     scwin.preSave = function() {
	     debugger;
	     if (!scwin.validate()) {
	     	return false;
	     }

	     if (sbx_req_typ.getValue()=="HSF001") {
	     	if (ica_retire_mny_cntr_ymd.getValue() == "") {
	     		com.alert("퇴직금기산일을 입력하세요.");
	     		return false;
	     	}
	     	
			//연금가입일이 입력된 경우 날짜 유효성 체크
			if (ica_retire_mny_cntr_ymd.getValue() !="") {
				if (!com.isDate(ica_retire_mny_cntr_ymd.getValue(), false)) {
					return false;
				}
			}	     	
		    
		    if (cbx_init_mgmt_indict_retire_amt.getValue() !="Y"
	     		&& cbx_init_mgmt_indict_etc.getValue() != "Y") {
		     		com.alert("최초운용지시를 체크하여주시기 바랍니다.");
		     		return false;
	     	}
	     	
	     	if (cbx_apart_mgmt_indict_retire_amt.getValue() != "Y"
	     		&& cbx_apart_mgmt_indict_etc.getValue() !="Y") {
		     		com.alert("기존퇴직금별도운용지시를 체크하여주시기 바랍니다.");
					return false;
	     	}	
	     }
	     
	     	     
	     if (cbx_retire_incl_yn.getValue()=="Y") {
	     	if (cbx_init_mgmt_indict_retire_amt.getValue() !="Y"
	     		&& cbx_init_mgmt_indict_etc.getValue() != "Y") {
		     		com.alert("최초운용지시를 체크하여주시기 바랍니다.");
		     		return false;
	     	}
	     	
	     	if (cbx_apart_mgmt_indict_retire_amt.getValue() != "Y"
	     		&& cbx_apart_mgmt_indict_etc.getValue() !="Y") {
		     		com.alert("기존퇴직금별도운용지시를 체크하여주시기 바랍니다.");
					return false;
	     	}	
	     }

		// 최초운용지시 중복체크 확인
     	if (cbx_init_mgmt_indict_retire_amt.getValue() =="Y"
     		&& cbx_init_mgmt_indict_etc.getValue() == "Y") {
	     		com.alert("최초운용지시는 하나만 선택 가능합니다.");
	     		return false;
     	}
     	// 기존퇴직금별도운용지시 중복체크 확인
     	if (cbx_apart_mgmt_indict_retire_amt.getValue() == "Y"
     		&& cbx_apart_mgmt_indict_etc.getValue() =="Y") {
	     		com.alert("기존퇴직금별도운용지시는 하나만 선택 가능합니다.");
				return false;
     	}	
	     
	     if (ibx_postmt_no.getValue().trim()== "" || ibx_base_addr.getValue().trim() == "" 
	     	|| ibx_detls_addr.getValue().trim() == "") {
		     	com.alert("자택주소를 입력해 주십시오.");
				return false;
	     }
	     
	     // 가입자인데 신청유형이 가입일때	     
	     if (dma_info.get("sci_tech_anuty")=="Y" && sbx_req_typ.getValue()=="HSF001") {
		     com.alert("이미 가입자이므로 신청유형은 가입으로 할 수 없습니다.");
		     return false;
	     }
	     
	     //추가납부체크
	     if (cbx_add_pay_yn.getValue()=="Y" &&
	     	(ibx_add_pay_amt.getValue()=="" || ibx_add_pay_amt.getValue()=="0")) {
		     	com.alert("추가납부액을 입력하세요.");
		     	return false;
	     }
	     
	     if (sbx_req_typ.getValue() == "HSF001") {
	     	if (com.file.action.getTotalFileCount(upload_A.getID()) < 1) {
		     	com.alert("첨부파일은 필수 항목입니다.\n화면 하단의 변경된 연금 가입양식을 다운받아 작성후 첨부해주시기 바랍니다.");
		     	upload_A.focus();
		     	return false;
	     	}
	     }

	     return true;
     };
     

    /**
     * 데이터 검증
     */
	scwin.validate = function() {
		debugger;
		if (!com.validateData(dma_info,[
			{ id : "req_ymd", mandatory : true},
			{ id : "req_typ", mandatory : true},
		], false)) return false;
		
		if (!com.isDate(ica_req_ymd.getValue(), false)) {
			return false;
		}			
		return true;
	};	
	
	/**
     * 저장 후 처리
     */
	scwin.postSave = function() {
		if (!scwin.data.approval) {
			com.confirm("결재신청 하시겠습니까?", function(ret) {
				if (ret) {
					scwin.data.approval = true;
					dma_info.set("req_no", dma_search.get("req_no"));
					dma_info.set("approval", "true");				
					scwin.save();
				} else {
					scwin.search();
				}							
			});
		} else {
			//결재신청 후에는 결재진행함으로 이동
			com.openTabMenu("A005", {});
		}	
	};
      ]]></script>
    </head>
    <body ev:onpageload="scwin.onpageload" ev:onpageunload="scwin.onpageunload">
    	<w2:wframe id="wfm_title" src="/cm/xml/contentTitle.xml" style=""></w2:wframe>
    	<xf:group class="pageWrap" id="grp_base_info" style="">
    		<xf:group class="searchSection step" id="" style="">
    			<xf:group class="le" id="">
    				<xf:trigger class="btn " id="btn_list" style="" type="button" ev:onclick="scwin.btn_list_onclick">
    					<xf:label><![CDATA[목록]]></xf:label>
    				</xf:trigger>
    			</xf:group>
    			<xf:group class="btnbox" id="">
    				<xf:trigger class="btn icon print" id="btn_print" style="" type="button" ev:onclick="scwin.btn_print_onclick" disabled="true">
    					<xf:label><![CDATA[인쇄]]></xf:label>
    				</xf:trigger>
    				<xf:trigger class="btn blue" id="btn_apr" style="" type="button" ev:onclick="scwin.btn_apr_onclick">
    					<xf:label><![CDATA[결재신청]]></xf:label>
    				</xf:trigger>
    			</xf:group>
    		</xf:group>
    		<w2:gridView autoFit="allColumn" class="grid" dataList="data:dlt_reject" defaultCellHeight="28" evenRowBackgroundColor="#f7faff"
    			id="grd_reject" noResultMessage="조회 결과가 없습니다." noResultMessageClass="noResult" rowMouseOverColor="#e7f0fb"
    			rowNumBackgroundColor="#fff" rowNumHeaderValue="No." rowNumVisible="true" rowNumWidth="60" rowStatusHeaderValue="상태"
    			rowStatusVisible="false" rowStatusWidth="50" scrollByColumn="false" scrollByColumnAdaptive="false" selectedCellColor="#fbf2cd"
    			selectedRowColor="#fbf2cd" style="height: 85px;" visibleRowNum="10">
    			<w2:caption id="caption1" style="" value="this is a grid caption."></w2:caption>
    			<w2:header id="header1" style="">
    				<w2:row id="row1" style="">
    					<w2:column displayMode="label" id="column41" inputType="text" style="height:28px" value="반려자" width="100"></w2:column>
    					<w2:column displayMode="label" id="column9" inputType="text" style="height:28px;" value="반려의견" width="800"></w2:column>
    					<w2:column displayMode="label" id="column43" inputType="text" style="height:28px" value="반려일시" width="100"></w2:column>
    				</w2:row>
    			</w2:header>
    			<w2:gBody id="gBody1" style="">
    				<w2:row id="row2" style="">
    					<w2:column displayMode="label" id="empname" inputType="text" style="height:28px" value="" width="100" readOnly="true"></w2:column>
    					<w2:column displayMode="label" id="contents" inputType="text" readOnly="true" style="height:28px;" value=""
    						width="800">
    					</w2:column>
    					<w2:column displayMode="label" id="created_date" inputType="text" style="height:28px" value="" width="100" dataType="date" readOnly="true"></w2:column>
    				</w2:row>
    			</w2:gBody>
    		</w2:gridView>
    		<xf:group class="w2tb tbl" id="" style="" tagname="table">
    			<w2:attributes>
    				<w2:summary></w2:summary>
    			</w2:attributes>
    			<xf:group tagname="caption"></xf:group>
    			<xf:group tagname="colgroup">
    				<xf:group style="width:200px;" tagname="col"></xf:group>
    				<xf:group style="" tagname="col"></xf:group>
    				<xf:group style="width:200px;" tagname="col"></xf:group>
    				<xf:group style="" tagname="col"></xf:group>
    				<xf:group style="width:200px;" tagname="col"></xf:group>
    				<xf:group style="" tagname="col"></xf:group>
    			</xf:group>
    			<xf:group tagname="tr">
    				<xf:group class="w2tb_th" tagname="th">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:textbox id="" label="개인번호(성명)" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group class="w2tb_td" tagname="td">
    					<w2:attributes></w2:attributes>
    					<w2:textbox class="txt" id="tbx_empno" label="" style="" tagname="span" ref="data:dma_info.empno"></w2:textbox>
    					<w2:textbox class="" id="tbx_nm10" label="(" style="" tagname="span"></w2:textbox>
    					<w2:textbox class="" id="tbx_nm" label="" style="display:inline-block;min-width:20px;" tagname="span" ref="data:dma_info.nm"></w2:textbox>
    					<w2:textbox class="" id="tbx_nm20" label=")" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group class="w2tb_th" tagname="th">
    					<w2:attributes></w2:attributes>
    					<w2:textbox id="" label="부서" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group class="w2tb_td" tagname="td">
    					<w2:attributes></w2:attributes>
    					<w2:textbox class="txt" id="tbx_dept_nm" label="" style="" tagname="span" ref="data:dma_info.dept_nm"></w2:textbox>
    				</xf:group>
    				<xf:group class="w2tb_th" tagname="th">
    					<w2:attributes></w2:attributes>
    					<w2:textbox id="" label="직급" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group class="w2tb_td" tagname="td">
    					<w2:attributes></w2:attributes>
    					<w2:textbox class="txt" id="tbx_posi_nm" label="" style="" tagname="span" ref="data:dma_info.posi_nm"></w2:textbox>
    				</xf:group>
    			</xf:group>
    			<xf:group tagname="tr">
    				<xf:group class="w2tb_th" tagname="th">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:span class="bul_req" id="" label="[필수입력항목]" style=""></w2:span>
    					<w2:textbox class="blue" id="" label="신청일" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group class="w2tb_td" tagname="td">
    					<w2:attributes></w2:attributes>
    					<w2:inputCalendar calendarValueType="yearMonthDate" class="inpcal" focusOnDateSelect="false" footerDiv="false"
    						id="ica_req_ymd" renderDiv="true" rightAlign="false" style="min-width: 100px; max-width: 200px;" ref="data:dma_info.req_ymd" readOnly="true">
    					</w2:inputCalendar>
    				</xf:group>
    				<xf:group class="w2tb_th" tagname="th">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:textbox id="" label="결재상태" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group class="w2tb_td" tagname="td">
    					<w2:attributes></w2:attributes>
    					<w2:textbox class="txt" id="tbx_apr_state_nm" label="" style="" tagname="span" ref="data:dma_info.apr_state_nm"></w2:textbox>
    				</xf:group>
    				<xf:group class="w2tb_th" tagname="th">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:textbox id="" label="신청번호" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group class="w2tb_td" tagname="td">
    					<w2:attributes></w2:attributes>
    					<w2:textbox class="txt" id="tbx_req_no" label="" style="" tagname="span" ref="data:dma_info.req_no"></w2:textbox>
    				</xf:group>
    			</xf:group>
    		</xf:group>
    		<xf:group class="titleSection" id="" style="">
    			<w2:textbox class="tit_tbl" id="" label="신청 내용" style="" tagname="h3"></w2:textbox>
    		</xf:group>
    		<xf:group class="w2tb tbl" id="" style="" tagname="table">
    			<w2:attributes>
    				<w2:summary></w2:summary>
    			</w2:attributes>
    			<xf:group tagname="caption"></xf:group>
    			<xf:group tagname="colgroup">
    				<xf:group style="width:200px;" tagname="col"></xf:group>
    				<xf:group style="" tagname="col"></xf:group>
    				<xf:group style="width:200px;" tagname="col"></xf:group>
    				<xf:group style="" tagname="col"></xf:group>
    				<xf:group style="width:200px;" tagname="col"></xf:group>
    				<xf:group style="" tagname="col"></xf:group>
    			</xf:group>
    			<xf:group tagname="tr">
    				<xf:group class="w2tb_th" tagname="th">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:span class="bul_req" id="" label="[필수입력항목]" style=""></w2:span>
    					<w2:textbox class="blue" id="" label="신청유형" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group class="w2tb_td" tagname="td">
    					<w2:attributes>
    						<w2:colspan>5</w2:colspan>
    						<w2:rowspan>1</w2:rowspan>
    					</w2:attributes>
    					<xf:select1 appearance="minimal" chooseOption="true" chooseOptionLabel="-선택-" class="sel"
    						direction="auto" disabledClass="w2selectbox_disabled" id="sbx_req_typ" style="max-width: 200px;"
    						submenuSize="auto" ev:onchange="scwin.sbx_req_typ_onchange" ref="data:dma_info.req_typ">
    						<xf:choices></xf:choices>
    					</xf:select1>
    				</xf:group>
    			</xf:group>
    			<xf:group tagname="tr">
    				<xf:group class="w2tb_th" tagname="th">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:textbox class="" id="" label="입원일" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group class="w2tb_td" tagname="td">
    					<w2:attributes></w2:attributes>
    					<w2:textbox class="txt" id="tbx_entr_ymd" label="" style="" tagname="span" displayFormat="####-##-##" ref="data:dma_info.entr_ymd"></w2:textbox>
    				</xf:group>
    				<xf:group class="w2tb_th" tagname="th">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:textbox class="" id="" label="퇴직금기산일" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group class="w2tb_td" tagname="td">
    					<w2:attributes>
    						<w2:colspan>1</w2:colspan>
    						<w2:rowspan>1</w2:rowspan>
    					</w2:attributes>
    					<w2:textbox class="txt" id="tbx_retier_middle_cntr_ymd" label="" style="" tagname="span" ref="data:dma_info.longwk_cntfr_ymd" displayFormat="####-##-##"></w2:textbox>
    				</xf:group>
    				<xf:group class="w2tb_th" tagname="th">
    					<w2:attributes></w2:attributes>
    					<w2:textbox class="" id="" label="주민번호" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group tagname="td" class="w2tb_td">
    					<w2:attributes></w2:attributes>
    					<w2:textbox class="txt" id="tbx_resid_no" label="000" style="" tagname="span" ref="data:dma_info.resid_no"></w2:textbox>
    				</xf:group>
    			</xf:group>
    			<xf:group tagname="tr">
    				<xf:group class="w2tb_th" tagname="th">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:span class="bul_req" id="" label="[필수입력항목]" style=""></w2:span>
    					<w2:textbox class="blue" id="" label="자택주소" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group class="w2tb_td" tagname="td">
    					<w2:attributes>
    						<w2:colspan>5</w2:colspan>
    						<w2:rowspan>1</w2:rowspan>
    					</w2:attributes>
    					<xf:group class="flex" id="" style="">
    						<xf:group class="inpSch fix" id="" style="width:120px;">
    							<xf:input adjustMaxLength="false" class="inp" id="ibx_postmt_no" style="" ref="data:dma_info.postmt_no" maxlength="5"></xf:input>
    							<xf:trigger class="btn" id="btn_search_postmt" style="" type="button" ev:onclick="scwin.btn_search_postmt_onclick">
    								<xf:label><![CDATA[검색]]></xf:label>
    							</xf:trigger>
    						</xf:group>
    						<xf:input adjustMaxLength="false" class="inp full" id="ibx_base_addr" style="max-width: 300px;" ref="data:dma_info.base_addr" maxByteLength="200"></xf:input>
    						<xf:input adjustMaxLength="false" class="inp full" id="ibx_detls_addr" style="max-width: 300px;" ref="data:dma_info.detls_addr" maxByteLength="150"></xf:input>
    					</xf:group>
    				</xf:group>
    			</xf:group>
    			<xf:group tagname="tr">
    				<xf:group class="w2tb_th" tagname="th">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:textbox class="" id="" label="회사주소" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group class="w2tb_td" tagname="td">
    					<w2:attributes>
    						<w2:colspan>5</w2:colspan>
    						<w2:rowspan>1</w2:rowspan>
    					</w2:attributes>
    					<xf:group class="flex" id="" style="">
    						<xf:group class="inpSch fix" id="" style="width:120px;">
    							<xf:input adjustMaxLength="false" class="inp" id="ibx_cmpy_postmt_no" style="" ref="data:dma_info.cmpy_postmt_no" maxlength="5"></xf:input>
    							<xf:trigger class="btn" id="btn_search_cmpy_postmt" style="" type="button" ev:onclick="scwin.btn_search_cmpy_postmt_onclick">
    								<xf:label><![CDATA[검색]]></xf:label>
    							</xf:trigger>
    						</xf:group>
    						<xf:input adjustMaxLength="false" class="inp full" id="ibx_cpmy_base_addr" style="max-width: 300px;" ref="data:dma_info.cmpy_base_addr" maxByteLength="200"></xf:input>
    						<xf:input adjustMaxLength="false" class="inp full" id="ibx_cmpy_detls_addr" style="max-width: 300px;" ref="data:dma_info.cmpy_detls_addr" maxByteLength="150"></xf:input>
    					</xf:group>
    				</xf:group>
    			</xf:group>
    			<xf:group tagname="tr">
    				<xf:group class="w2tb_th" tagname="th">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:textbox class="" id="" label="자택전화번호" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group class="w2tb_td" tagname="td">
    					<w2:attributes></w2:attributes>
    					<xf:input adjustMaxLength="false" class="inp full" id="ibx_home_tel" style="max-width: 200px;" title="" ref="data:dma_info.home_tel" allowChar="0-9,-" maxlength="20"></xf:input>
    				</xf:group>
    				<xf:group class="w2tb_th" tagname="th">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:textbox class="" id="" label="휴대폰" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group class="w2tb_td" tagname="td">
    					<w2:attributes>
    						<w2:colspan>3</w2:colspan>
    						<w2:rowspan>1</w2:rowspan>
    					</w2:attributes>
    					<xf:input adjustMaxLength="false" class="inp full" id="ibx_mobile" style="max-width: 200px;" title="" ref="data:dma_info.mobile" allowChar="0-9,-" maxlength="20"></xf:input>
    				</xf:group>
    			</xf:group>
    			<xf:group tagname="tr">
    				<xf:group class="w2tb_th" tagname="th">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:textbox class="" id="" label="회사전화번호" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group class="w2tb_td" tagname="td">
    					<w2:attributes></w2:attributes>
    					<xf:input adjustMaxLength="false" class="inp full" id="ibx_ext_no" style="max-width: 200px;" title="" ref="data:dma_info.ext_no" allowChar="0-9,-" maxlength="20"></xf:input>
    				</xf:group>
    				<xf:group class="w2tb_th" tagname="th">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:textbox class="" id="" label="전자우편" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group class="w2tb_td" tagname="td">
    					<w2:attributes>
    						<w2:colspan>3</w2:colspan>
    						<w2:rowspan>1</w2:rowspan>
    					</w2:attributes>
    					<xf:group class="flex" id="">
    						<xf:input adjustMaxLength="false" class="inp full" id="ibx_email" style="max-width: 100px;" title="" maxlength="50"></xf:input>
    						<w2:textbox class="txt" id="" label="@" style="" tagname="span"></w2:textbox>
    						<xf:input adjustMaxLength="false" class="inp full ml0" id="ibx_domain" style="max-width: 150px;" title="" maxlength="50"></xf:input>
    						<xf:select1 appearance="minimal" chooseOption="true" chooseOptionLabel="직접입력" class="sel"
    							direction="auto" disabled="false" disabledClass="w2selectbox_disabled" id="sbx_domain" ref="" style="max-width: 200px;"
    							submenuSize="auto" ev:onchange="scwin.sbx_domain_onchange">
    							<xf:choices></xf:choices>
    						</xf:select1>
    					</xf:group>
    				</xf:group>
    			</xf:group>
    			<xf:group tagname="tr">
    				<xf:group tagname="th" class="w2tb_th">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:span class="bul_req" id="spa_retire_mny_cntr_ymd" label="[필수입력항목]" style=""></w2:span>
    					<w2:textbox class="" id="tbx_retire_mny_cntr_ymd" label="연금가입일" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group tagname="td" class="w2tb_td">
    					<w2:attributes></w2:attributes>
    					<w2:inputCalendar calendarValueType="yearMonthDate" class="inpcal" focusOnDateSelect="false" footerDiv="false"
    						id="ica_retire_mny_cntr_ymd" renderDiv="true" rightAlign="false" style="max-width: 200px;" ref="data:dma_info.retire_mny_cntfr_ymd" readOnly="true">
    					</w2:inputCalendar>
    				</xf:group>
    				<xf:group tagname="th" class="w2tb_th">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:textbox class="" id="" label="퇴직금합산" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group tagname="td" class="w2tb_td">
    					<w2:attributes>
    						<w2:colspan>3</w2:colspan>
    						<w2:rowspan>1</w2:rowspan>
    					</w2:attributes>
    					<xf:select appearance="full" class="chkGroup" cols="" id="cbx_retire_incl_yn" ref="data:dma_info.retire_incl_yn"
    						renderType="checkboxgroup" rows="" selectedindex="-1" style="">
    						<xf:choices>
    							<xf:item>
    								<xf:label><![CDATA[]]></xf:label>
    								<xf:value><![CDATA[Y]]></xf:value>
    							</xf:item>
    						</xf:choices>
    					</xf:select>
    				</xf:group>
    			</xf:group>
    			<xf:group tagname="tr">
    				<xf:group tagname="th" class="w2tb_th">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:span class="bul_req" id="spa_init_mgmt" label="[필수입력항목]" style=""></w2:span>
    					<w2:textbox class="blue" id="tbx_init_mgmt" label="최초운용지시" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group tagname="td" class="w2tb_td">
    					<w2:attributes>
    						<w2:colspan>5</w2:colspan>
    						<w2:rowspan>1</w2:rowspan>
    					</w2:attributes>
    					<xf:select appearance="full" class="chkGroup" cols="" id="cbx_init_mgmt_indict_retire_amt"
    						ref="data:dma_info.init_indict_retireamt_yn" renderType="checkboxgroup" rows="" selectedindex="-1" style="" falseValue="N">
    						<xf:choices>
    							<xf:item>
    								<xf:label><![CDATA[과학기술인공제회 퇴직연금 정기예금 1년]]></xf:label>
    								<xf:value><![CDATA[Y]]></xf:value>
    							</xf:item>
    						</xf:choices>
    					</xf:select>
    					<xf:group class="singleLine" id="grp_init" style=""> 
	    					<xf:select appearance="full" class="chkGroup" cols="" id="cbx_init_mgmt_indict_mp100"
	    						ref="data:dma_info.init_indict_mp100_yn" renderType="checkboxgroup" rows="" selectedindex="-1" style="">
	    						<xf:choices>
	    							<xf:item>
	    								<xf:label><![CDATA[MP100]]></xf:label>
	    								<xf:value><![CDATA[Y]]></xf:value>
	    							</xf:item>
	    						</xf:choices>
	    					</xf:select>
	    					<xf:select appearance="full" class="chkGroup" cols="" id="cbx_init_mgmt_indict_mp70"
	    						ref="data:dma_info.init_indict_mp70_yn" renderType="checkboxgroup" rows="" selectedindex="-1" style="">
	    						<xf:choices>
	    							<xf:item>
	    								<xf:label><![CDATA[MP70]]></xf:label>
	    								<xf:value><![CDATA[Y]]></xf:value>
	    							</xf:item>
	    						</xf:choices>
	    					</xf:select>
	    					<xf:select appearance="full" class="chkGroup" cols="" id="cbx_init_mgmt_indict_mp50"
	    						ref="data:dma_info.init_indict_mp50_yn" renderType="checkboxgroup" rows="" selectedindex="-1" style="">
	    						<xf:choices>
	    							<xf:item>
	    								<xf:label><![CDATA[MP50]]></xf:label>
	    								<xf:value><![CDATA[Y]]></xf:value>
	    							</xf:item>
	    						</xf:choices>
	    					</xf:select>
	    					<xf:select appearance="full" class="chkGroup" cols="" id="cbx_init_mgmt_indict_mp30"
	    						ref="data:dma_info.init_indict_mp30_yn" renderType="checkboxgroup" rows="" selectedindex="-1" style="">
	    						<xf:choices>
	    							<xf:item>
	    								<xf:label><![CDATA[MP30]]></xf:label>
	    								<xf:value><![CDATA[Y]]></xf:value>
	    							</xf:item>
	    						</xf:choices>
	    					</xf:select>
    					</xf:group>    					
    					<xf:select appearance="full" class="chkGroup" cols="" id="cbx_init_mgmt_indict_etc"
    						ref="data:dma_info.init_indict_etc_yn" renderType="checkboxgroup" rows="" selectedindex="-1" style="" falseValue="N">
    						<xf:choices>
    							<xf:item>
    								<xf:label><![CDATA[기타]]></xf:label>
    								<xf:value><![CDATA[Y]]></xf:value>
    							</xf:item>
    						</xf:choices>
    					</xf:select>
    				</xf:group>
    			</xf:group>
    			<xf:group tagname="tr">
    				<xf:group tagname="th" class="w2tb_th">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:span class="bul_req" id="spa_apart_mgmt" label="[필수입력항목]" style=""></w2:span>
    					<w2:textbox class="blue" id="tbx_apart_mgmt" label="기존퇴직금별도운용지시" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group tagname="td" class="w2tb_td">
    					<w2:attributes>
    						<w2:colspan>5</w2:colspan>
    						<w2:rowspan>1</w2:rowspan>
    					</w2:attributes>
    					<xf:select appearance="full" class="chkGroup" cols="" id="cbx_apart_mgmt_indict_retire_amt"
    						ref="data:dma_info.apart_indict_retireamt_yn" renderType="checkboxgroup" rows="" selectedindex="-1" style="" falseValue="N">
    						<xf:choices>
    							<xf:item>
    								<xf:label><![CDATA[과학기술인공제회 퇴직연금 정기예금 1년]]></xf:label>
    								<xf:value><![CDATA[Y]]></xf:value>
    							</xf:item>
    						</xf:choices>
    					</xf:select>
    					<xf:group class="singleLine" id="grp_apart" style="">     					
	    					<xf:select appearance="full" class="chkGroup" cols="" id="cbx_apart_mgmt_indict_mp100" ref="data:dma_info.apart_indict_mp100_yn"
	    						renderType="checkboxgroup" rows="" selectedindex="-1" style="">
	    						<xf:choices>
	    							<xf:item>
	    								<xf:label><![CDATA[MP100]]></xf:label>
	    								<xf:value><![CDATA[Y]]></xf:value>
	    							</xf:item>
	    						</xf:choices>
	    					</xf:select>
	    					<xf:select appearance="full" class="chkGroup" cols="" id="cbx_apart_mgmt_indict_mp70" ref="data:dma_info.apart_indict_mp70_yn"
	    						renderType="checkboxgroup" rows="" selectedindex="-1" style="">
	    						<xf:choices>
	    							<xf:item>
	    								<xf:label><![CDATA[MP70]]></xf:label>
	    								<xf:value><![CDATA[Y]]></xf:value>
	    							</xf:item>
	    						</xf:choices>
	    					</xf:select>
	    					<xf:select appearance="full" class="chkGroup" cols="" id="cbx_apart_mgmt_indict_mp50" ref="data:dma_info.apart_indict_mp50_yn"
	    						renderType="checkboxgroup" rows="" selectedindex="-1" style="">
	    						<xf:choices>
	    							<xf:item>
	    								<xf:label><![CDATA[MP50]]></xf:label>
	    								<xf:value><![CDATA[Y]]></xf:value>
	    							</xf:item>
	    						</xf:choices>
	    					</xf:select>
	    					<xf:select appearance="full" class="chkGroup" cols="" id="cbx_apart_mgmt_indict_mp30" ref="data:dma_info.apart_indict_mp30_yn"
	    						renderType="checkboxgroup" rows="" selectedindex="-1" style="">
	    						<xf:choices>
	    							<xf:item>
	    								<xf:label><![CDATA[MP30]]></xf:label>
	    								<xf:value><![CDATA[Y]]></xf:value>
	    							</xf:item>
	    						</xf:choices>
	    					</xf:select>
    					</xf:group>    					    					    					    					
    					<xf:select appearance="full" class="chkGroup" cols="" id="cbx_apart_mgmt_indict_etc"
    						ref="data:dma_info.apart_indict_etc_yn" renderType="checkboxgroup" rows="" selectedindex="-1" style="" falseValue="N">
    						<xf:choices>
    							<xf:item>
    								<xf:label><![CDATA[기타]]></xf:label>
    								<xf:value><![CDATA[Y]]></xf:value>
    							</xf:item>
    						</xf:choices>
    					</xf:select>
    				</xf:group>
    			</xf:group>
    			<xf:group tagname="tr">
    				<xf:group class="w2tb_th" tagname="th">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:textbox class="" id="" label="개인부담" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group class="w2tb_td" tagname="td">
    					<w2:attributes></w2:attributes>
    					<w2:span class="helptxt" id="spa_psn_burdn" label="평균임금의 4.5 % 납부" style=""></w2:span>
    				</xf:group>
    				<xf:group class="w2tb_th" tagname="th">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:textbox class="" id="" label="추가납부" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group class="w2tb_td" tagname="td">
    					<w2:attributes></w2:attributes>
    					<xf:select appearance="full" class="chkGroup" cols="" id="cbx_add_pay_yn" ref="data:dma_info.add_pay_yn"
    						renderType="checkboxgroup" rows="" selectedindex="-1" style="" ev:onchange="scwin.cbx_add_pay_yn_onchange">
    						<xf:choices>
    							<xf:item>
    								<xf:label><![CDATA[]]></xf:label>
    								<xf:value><![CDATA[Y]]></xf:value>
    							</xf:item>
    						</xf:choices>
    					</xf:select>
    				</xf:group>
    				<xf:group class="w2tb_th" tagname="th">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:textbox class="" id="" label="추가납부액 (월납부액)" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group class="w2tb_td" tagname="td">
    					<w2:attributes></w2:attributes>
    					<xf:input adjustMaxLength="false" class="inp full ri" id="ibx_add_pay_amt" style="max-width: 200px;" title="" displayFormat="#,###" ref="data:dma_info.add_pay_amt" disabled="true" dataType="number" applyFormat="all"></xf:input>
    				</xf:group>
    			</xf:group>
    			<xf:group tagname="tr">
    				<xf:group class="w2tb_th" tagname="th">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:textbox class="" id="" label="사유" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group class="w2tb_td" tagname="td">
    					<w2:attributes>
    						<w2:colspan>5</w2:colspan>
    						<w2:rowspan>1</w2:rowspan>
    					</w2:attributes>
    					<xf:textarea class="" id="txa_req_cause" style="height:80px;" title="" ref="data:dma_info.req_cause" maxByteLength="255"></xf:textarea>
    				</xf:group>
    			</xf:group>
    			<xf:group tagname="tr" id="grp_salary">
    				<xf:group tagname="th" class="w2tb_th">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:textbox class="" id="" label="급여반영월" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group tagname="td" class="w2tb_td">
    					<w2:attributes></w2:attributes>
    					<xf:input adjustMaxLength="false" class="inp full" id="ibx_belng_yrmon" style="max-width: 200px;" title="" allowChar="0-9,-" displayFormat="####-##" maxlength="7"></xf:input>
    				</xf:group>
    				<xf:group tagname="th" class="w2tb_th">
    					<w2:attributes></w2:attributes>
    					<w2:textbox class="" id="" label="추가납부기간" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group tagname="td" class="w2tb_td">
    					<w2:attributes>
    						<w2:colspan>3</w2:colspan>
    						<w2:rowspan>1</w2:rowspan>
    					</w2:attributes>
    					<xf:group class="flex" id="" style="">
    						<xf:input adjustMaxLength="false" class="inp full" id="ibx_start_ym" style="max-width: 150px;" title="" displayFormat="####-##" maxlength="6" allowChar="0-9" dataType="text"></xf:input>
    						<w2:textbox class="txt" id="" label="~" style="" tagname="span"></w2:textbox>
    						<xf:input adjustMaxLength="false" class="inp full ml0" id="ibx_end_ym" style="max-width: 150px;" title="" displayFormat="####-##" allowChar="0-9" maxlength="6" dataType="text"></xf:input>
    					</xf:group>
    				</xf:group>
    			</xf:group>    			
    			<xf:group tagname="tr">
    				<xf:group class="w2tb_th" tagname="th">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:span class="bul_req" id="spa_attach" label="[필수입력항목]" style=""></w2:span>
    					<w2:textbox id="" label="첨부파일" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group class="w2tb_td" tagname="td">
    					<w2:attributes>
    						<w2:colspan>5</w2:colspan>
    						<w2:rowspan>1</w2:rowspan>
    					</w2:attributes>
    					<xf:group class="fileuploadBox" id="upload_A" style="height:150px;"></xf:group>
    				</xf:group>
    			</xf:group>
    		</xf:group>
    		<xf:group class="btnGroup" id="" style="">
    			<xf:group class="le" id="" style=""></xf:group>
    			<xf:group class="ri" id="">
    				<xf:trigger class="btn pro" id="btn_confirm" style="" type="button" ev:onclick="scwin.btn_confirm_onclick">
    					<xf:label><![CDATA[처리]]></xf:label>
    				</xf:trigger>
    				<xf:trigger class="btn pro" id="btn_reject" style="" type="button" ev:onclick="scwin.btn_reject_onclick">
    					<xf:label><![CDATA[반려]]></xf:label>
    				</xf:trigger>
    				<xf:trigger class="btn pro" id="btn_del" style="" type="button" ev:onclick="scwin.btn_del_onclick">
    					<xf:label><![CDATA[삭제]]></xf:label>
    				</xf:trigger>
    				<xf:trigger class=" btn pro conf" id="btn_save" style="" type="button" ev:onclick="scwin.btn_save_onclick">
    					<xf:label><![CDATA[저장]]></xf:label>
    				</xf:trigger>
    			</xf:group>
    		</xf:group>    		
    		<w2:anchor class="linkfile mt10" id="btn_docu_down1" outerDiv="false" style="" ev:onclick="scwin.btn_docu_down1_onclick">
    			<xf:label><![CDATA[과학기술인연금 안내문 다운]]></xf:label>
    		</w2:anchor>
    		<w2:anchor class="linkfile mt5" id="btn_docu_down2" outerDiv="false" style="" ev:onclick="scwin.btn_docu_down2_onclick">
    			<xf:label><![CDATA[과학기술인연금 양식 다운]]></xf:label>
    		</w2:anchor>
    		<xf:group class="helparea" id="" style="">
    			<xf:group id="" style="" tagname="ol">
    				<xf:group id="" style="" tagname="li">
    					<w2:textbox class="blue" id="" label="과학기술인연금 신청시, 안내문을 꼭 읽은 후에 신청하여 주시기 바랍니다." style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group id="" style="" tagname="li">
    					<w2:textbox class="blue" id="" label="매월 10일 마감, 10일 이후 신청 건은 익월 처리됩니다." style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group id="" style="" tagname="li">
    					<w2:textbox class="blue" id="" label="첨부파일은 PDF파일 50MB이하, 하나의 파일로 병합하여 올려주시기 바랍니다." style="" tagname="span"></w2:textbox>
    				</xf:group>
    			</xf:group>
    		</xf:group>

    	</xf:group>
    </body>
</html>
