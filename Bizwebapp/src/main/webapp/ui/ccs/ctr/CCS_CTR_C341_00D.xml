<?xml version="1.0" encoding="UTF-8"?>
<html xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ev="http://www.w3.org/2001/xml-events"
    xmlns:w2="http://www.inswave.com/websquare" xmlns:xf="http://www.w3.org/2002/xforms">
    <head meta_programName="항공 마일리지 신청서(신고서)">
    	<w2:type>DEFAULT</w2:type>
        <w2:buildDate/>
        <xf:model>
            <xf:instance>
                <data xmlns=""/>
            </xf:instance>
            <w2:dataCollection baseNode="map">
            	<w2:dataList baseNode="list" repeatNode="map" id="dlt_airMileUse" saveRemovedData="true">
            		<w2:columnInfo>
            			<w2:column id="req_no" name="신청번호" dataType="text"></w2:column>
            			<w2:column id="seq" name="순번" dataType="text"></w2:column>
            			<w2:column id="in_out_clsf" name="국내외구분" dataType="text"></w2:column>
            			<w2:column id="biztrip_req_no" name="출장신청번호" dataType="text"></w2:column>
            			<w2:column id="biztrip_report_no" name="출장정산번호" dataType="text"></w2:column>
            			<w2:column id="syspayno" name="사용자" dataType="text"></w2:column>
            			<w2:column id="nm" name="사용자명" dataType="text"></w2:column>
            			<w2:column id="empno" name="개인번호" dataType="text"></w2:column>
            			<w2:column id="own_mile" name="보유마일리지" dataType="text"></w2:column>
            			<w2:column id="pub_new_mile" name="공적생성마일리지" dataType="text"></w2:column>
            			<w2:column id="cu_pub_new_mile" name="(구)공적생성마일리지" dataType="text"></w2:column>
            			<w2:column id="pub_use_mile" name="공적사용마일리지" dataType="text"></w2:column>
            			<w2:column id="cu_pub_use_mile" name="(구)공적사용마일리지" dataType="text"></w2:column>
            			<w2:column id="per_use_mile" name="사적사용마일리지" dataType="text"></w2:column>
            			<w2:column id="attach_file_no_req" name="신청서 첨부파일" dataType="text"></w2:column>
            			<w2:column id="attach_file_no_report" name="신고서 첨부파일" dataType="text"></w2:column>
            			<w2:column id="air_cd" name="항공사" dataType="text"></w2:column>
            			<w2:column id="air_nm" name="항공사명" dataType="text"></w2:column>
            			<w2:column id="seat_grd" name="좌석등급" dataType="text"></w2:column>
            			<w2:column id="unuse_cause" name="미사용사유" dataType="text"></w2:column>
            			<w2:column id="req_psn" name="신청자" dataType="text"></w2:column>
            			<w2:column id="req_rmk" name="비고" dataType="text"></w2:column>
            			<w2:column id="report_ymd" name="신고일자" dataType="text"></w2:column>
            			<w2:column id="report_rmk" name="신고서비고" dataType="text"></w2:column>
            			<w2:column id="report_psn" name="신고자" dataType="text"></w2:column>
            			<w2:column id="use_mile_yn" name="마일리지사용유무" dataType="text"></w2:column>
            			<w2:column id="mile_case" name="마일리지 활용방법" dataType="text"></w2:column>
            			<w2:column id="use_cause" name="마일리지 사용사유" dataType="text"></w2:column>
            			<w2:column id="way_trip" name="운행구분" dataType="text"></w2:column>
            			<w2:column id="cal_boarding_ymd" name="탑승일" dataType="text"></w2:column>
            			<w2:column id="apr_state" name="신고서결재상태" dataType="text"></w2:column>
            			<w2:column id="air_fee" name="항공운임비" dataType="text"></w2:column>
            			<w2:column id="air_real_fee" name="운임신청액" dataType="text"></w2:column>
            			<w2:column id="biztrip_region" name="출장지" dataType="text"></w2:column>
            			<w2:column id="trip_prd" name="출장기간" dataType="text"></w2:column>
            			<w2:column id="air_cd_chang_yn" name="항공사취소" dataType="text"></w2:column>
            		</w2:columnInfo>
            	</w2:dataList>
            	<w2:dataMap baseNode="map" id="dma_search">
            		<w2:keyInfo>
            			<w2:key id="req_no" name="항공마일리지신청번호" dataType="text"></w2:key>
            			<w2:key id="biztrip_req_no" name="출장신청번호" dataType="text"></w2:key>
            			<w2:key id="rep_req_no" name="정산신청번호" dataType="text"></w2:key>
            			<w2:key id="syspayno" name="시스템 개인번호" dataType="text"></w2:key>
            		</w2:keyInfo>
            	</w2:dataMap>
            	<w2:dataMap baseNode="map" id="dma_airMileUse">
            		<w2:keyInfo>
            			<w2:key id="req_no" name="신청번호" dataType="text"></w2:key>
            			<w2:key id="seq" name="순번" dataType="text"></w2:key>
            			<w2:key id="in_out_clsf" name="국내외구분" dataType="text"></w2:key>
            			<w2:key id="biztrip_req_no" name="출장신청번호" dataType="text"></w2:key>
            			<w2:key id="biztrip_report_no" name="출장정산번호" dataType="text"></w2:key>
            			<w2:key id="syspayno" name="사용자" dataType="text"></w2:key>
            			<w2:key id="nm" name="사용자명" dataType="text"></w2:key>
            			<w2:key id="empno" name="개인번호" dataType="text"></w2:key>
            			<w2:key id="own_mile" name="보유마일리지" dataType="text"></w2:key>
            			<w2:key id="pub_new_mile" name="적립마일리지" dataType="text"></w2:key>
            			<w2:key id="cu_pub_new_mile" name="(구)공적생성마일리지" dataType="text"></w2:key>
            			<w2:key id="pub_use_mile" name="공적사용마일리지" dataType="text"></w2:key>
            			<w2:key id="cu_pub_use_mile" name="(구)공적사용마일리지" dataType="text"></w2:key><w2:key id="per_use_mile" name="사적사용마일리지" dataType="text"></w2:key>
            			
            			<w2:key id="attach_file_no_req" name="신청서 첨부파일" dataType="text"></w2:key>
            			<w2:key id="attach_file_no_report" name="신고서 첨부파일" dataType="text"></w2:key>
            			<w2:key id="air_cd" name="항공사" dataType="text"></w2:key>
            			<w2:key id="air_nm" name="항공사명" dataType="text"></w2:key>
            			<w2:key id="seat_grd" name="좌석등급" dataType="text"></w2:key>
            			<w2:key id="unuse_cause" name="미사용사유" dataType="text"></w2:key>
            			<w2:key id="req_psn" name="신청자" dataType="text"></w2:key>
            			<w2:key id="req_rmk" name="비고" dataType="text"></w2:key>
            			<w2:key id="report_rmk" name="신고서비고" dataType="text"></w2:key>
            			<w2:key id="report_ymd" name="신고일자" dataType="text"></w2:key>
            			<w2:key id="report_psn" name="신고자" dataType="text"></w2:key>
            			<w2:key id="use_mile_yn" name="마일리지사용유무" dataType="text"></w2:key>
            			<w2:key id="mile_case" name="마일리지 활용방법" dataType="text"></w2:key>
            			<w2:key id="use_cause" name="마일리지 사용사유" dataType="text"></w2:key>
            			<w2:key id="way_trip" name="운행구분" dataType="text"></w2:key>
            			<w2:key id="cal_boarding_ymd" name="탑승일" dataType="text"></w2:key>
            			<w2:key id="apr_state" name="신고서결재상태" dataType="text"></w2:key>
            			<w2:key id="air_fee" name="항공운임비" dataType="text"></w2:key>
            			<w2:key id="air_real_fee" name="운임신청액" dataType="text"></w2:key>
            			<w2:key id="biztrip_region" name="출장지" dataType="text"></w2:key>
            			<w2:key id="trip_prd" name="출장기간" dataType="text"></w2:key>
            			<w2:key id="air_cd_chang_yn" name="항공사취소" dataType="text"></w2:key>
            			<w2:key id="validAttachNo" name="첨부파일" dataType="text"></w2:key>
            		</w2:keyInfo>
            	</w2:dataMap>
            	<w2:dataList baseNode="list" repeatNode="map" id="dlt_airMile" saveRemovedData="true">
            		<w2:columnInfo>
            			<w2:column id="air_cd" name="name1" dataType="text"></w2:column>
            			<w2:column id="able_mile" name="name2" dataType="text"></w2:column>
            		</w2:columnInfo>
            	</w2:dataList>
            	<w2:dataMap baseNode="map" id="dma_trip">
            		<w2:keyInfo>
            			<w2:key id="biztrip_region" name="출장지" dataType="text"></w2:key>
            			<w2:key id="biztrip_start_ymd" name="출장시작일자" dataType="text"></w2:key>
            			<w2:key id="biztrip_cls_ymd" name="출장종료일자" dataType="text"></w2:key>
            			<w2:key id="biztrip_req_no" name="출장신청번호" dataType="text"></w2:key>
            			<w2:key id="req_no" name="마일리지신청번호" dataType="text"></w2:key>
            		</w2:keyInfo>
            	</w2:dataMap>
            </w2:dataCollection>
            <w2:workflowCollection/>
            <!-- 조회 -->
    		<xf:submission id="sbm_selectData" ref="data:json,dma_search" target='data:json,[{"id":"dlt_airMileUse","key":"airMileUseList"},{"id":"dma_trip","key":"tripVo"}]'
    			action="SvcCCSCTRAIRR01.pwkjson" method="post" mediatype="application/json" encoding="UTF-8" instance="" replace="" errorHandler=""
    			customHandler="" mode="asynchronous" processMsg="조회중..." ev:submit="" ev:submitdone="" ev:submiterror="" abortTrigger="">
    		</xf:submission>
    		<!-- 개인별 마일리지 보유현황조회 -->
    		<xf:submission id="sbm_selectAbleMile" ref="data:json,dma_search" target=''
    			action="SvcCCSCTRAIRR02.pwkjson" method="post" mediatype="application/json" encoding="UTF-8" instance="" replace="" errorHandler=""
    			customHandler="" mode="asynchronous" processMsg="조회중..." ev:submit="" ev:submitdone="" ev:submiterror="" abortTrigger="">
    		</xf:submission>
    		<!-- 마일리지 신청 저장 -->
    		<xf:submission id="sbm_saveData" ref="data:json,dma_airMileUse" target='data:json,dma_search'
    			action="SvcCCSCTRAIRM01.pwkjson" method="post" mediatype="application/json" encoding="UTF-8" instance="" replace="" errorHandler=""
    			customHandler="" mode="asynchronous" processMsg="조회중..." ev:submit="" ev:submitdone="" ev:submiterror="" abortTrigger="">
    		</xf:submission>
        </xf:model>
         <script type="text/javascript" lazy="false"><![CDATA[
    /****************************************************
	* 화면 설명 : 항공마일리지 신청서(신고서)
	* 변경 이력 : 2023-02-13	이영희	최초 작성
	* serviceId : C341
	****************************************************/
	scwin.data ={};	
	/**
	* 페이지 로딩 이벤트
	*/   
	scwin.onpageload = function() {		
		// 초기화
		com.file.init();
		btn_aply.hide();
		grp_use_mile.hide();
		btn_air_cancel.hide();
		
		//enter key event
		com.setEnterKeyEvent(grp_emp, scwin.btn_emp_onclick);
		
		// parameter
		var param = com.getParameter();
		dma_search.setJSON(param);		
		
		scwin.data.flag = param.flag;
		
		// 공통코드
		var codeOptions = [ { code : "CTS", compID :"sbx_seat_grd" } // 좌석등급
		 				   ,{ code : "CAM", compID :"acb_air_cd,grd_mileUse:air_cd,grd_airMile:air_cd" }  // 항공사
		                   ,{ code : "CAU", compID :"sbx_unuse_cause,grd_mileUse:unuse_cause" }	// 미사용사유
		                   ,{ code : "CMC", compID :"sbx_mile_case" } // 마일리지 활용방법
		                ];		
		com.setCmnCd(codeOptions, function() {
			// 출장정보 조회				
			if(dma_search.get("req_no") != "" || dma_search.get("biztrip_req_no") != ""){
				scwin.search();	
			}else{
				scwin.setInit();
			}
		});		
	};
	
	scwin.onpageunload = function() {
	};	
	
	/**
	* 신규작성 초기화
	*/
	scwin.setInit = function(){
		// 첨부파일
		com.file.create(upload_A.getID(), {fileKey: "C341", mode: "edit"});
		
		if(scwin.data.flag == "DomTrip"){
			dma_airMileUse.set("in_out_clsf", "I");
		}		
		// 좌석등급
		dma_airMileUse.set("seat_grd", "CTS001");
		// 마일리지 사용유무
		rdo_use_mile_yn.setValue("N");
		// 운행구분
		rdo_way_trip.setValue("R");
		
		dma_airMileUse.set("biztrip_req_no", dma_search.get("biztrip_req_no"));		
		dma_airMileUse.set("biztrip_report_no", dma_search.get("rep_req_no"));		
		dma_airMileUse.set("req_no", dma_search.get("req_no"));
		
		if(dma_search.get("req_no") == ""){
			// 사용자 셋팅
			ibx_empno.setValue(com.getLoginInfo("empno"));
			btn_emp.trigger("click");
		}
	};
	
	/**
	* 버튼 제어
	*/
	scwin.setFormButton = function(aprState, row){
		// 항공사 변경 불가능하도록 수정(마일리지 적립시 항공사별로 하고 있어서 항공사 수정하면 이전 항공사 데이터 초기화해야함)		
		acb_air_cd.setDisabled(true);
		
		if(dlt_airMileUse.getCellData(row, "air_cd_chang_yn") == "Y"){
			btn_air_cancel.hide();		
			btn_save.setDisabled(true);	
		}else{	
			if(scwin.data.flag != "DomTrip"){
				btn_air_cancel.show(""); // 항공사취소	
			}
		}
		
		if(aprState >= "XAD020"){
			btn_air_cancel.hide();
		}else{
			btn_aply.show("");
			btn_addUser.show("");
		}
		
		if(dma_airMileUse.get("way_trip") == "R"){
			ica_boarding_ymd.setDisabled(true);
		}else{
			ica_boarding_ymd.setDisabled(false);
		}
	};
	
	/**
	* 조회
	*/
	scwin.search = function(){
		com.execute(sbm_selectData, {
			successCallback : function(e){
				// 여행기간
				spn_trip_prd.setValue(com.formatDate(dma_trip.get("biztrip_start_ymd"), "dot") + " ~ " + com.formatDate(dma_trip.get("biztrip_cls_ymd"), "dot"));
				
				if(dlt_airMileUse.getRowCount() > 0){					
					// 결재상태에 따른 버튼 제어
					com.biz.disabledButtons(dlt_airMileUse.getCellData(0, "apr_state"), dlt_airMileUse.getCellData(0, "biztrip_report_no"));					
					grd_mileUse.setFocusedCell(0, 0);
				}else{
					scwin.setInit();	
				}
			}
		});
	};
	
	/**
	* 항공마일리지 활용방법에 따른 form setting
	*/
	scwin.setFormMileCase = function(mileCase){
		if(/CMC001|CMC002/.test(mileCase)){
			grp_mile_cause.hide();	
		}else{
			grp_mile_cause.show("");
			
			if(mileCase == "CMC003"){ // CMC003 좌석승급(2등정액 대상자)
				sbx_use_cause.show("");
				ibx_use_cause.hide();
			}else{ // CMC004 부가서비스 등 이용
				sbx_use_cause.hide();
				ibx_use_cause.show("");
			}
		}
	};
	
	/**
	* 저장
	*/
	scwin.save = function(){
		if(com.isEmpty(dma_airMileUse.get("biztrip_req_no"))){
			dma_airMileUse.set("biztrip_req_no", dma_search.get("biztrip_req_no"));
		}
		if(com.isEmpty(dma_airMileUse.get("biztrip_report_no"))){
			dma_airMileUse.set("biztrip_report_no", dma_search.get("rep_req_no"));
		}
		
		dma_airMileUse.set("biztrip_report_no", dma_search.get("rep_req_no"));
		dma_airMileUse.set("req_psn", com.getLoginInfo("sn"));
		dma_airMileUse.set("report_psn", com.getLoginInfo("sn"));
		dma_airMileUse.set("report_ymd", com.getServerDateTime());
		dma_airMileUse.set("air_cd_chang_yn", "N");
		
		if(sbx_mile_case.getValue() == "CMC003"){
			dma_airMileUse.set("use_cause", sbx_use_cause.getValue());
		}else if(sbx_mile_case.getValue() == "CMC004"){
			dma_airMileUse.set("use_cause", ibx_use_cause.getValue());
		}else{
			dma_airMileUse.set("use_cause", "");
		}
		
		com.file.transport( function(attachObj){
			dma_airMileUse.set("attach_file_no_req", attachObj.upload_A);
			dma_airMileUse.set("validAttachNo", attachObj.upload_A);			
			
			com.execute(sbm_saveData, {
				successCallback : function(e) { // 성공 콜백					
					com.alert("message.xom.wq.023"/*정상적으로 처리되었습니다.*/, function(){
						// 조회
						scwin.search();
					});
				}
			});
		});	
	};
	
	/**
	* 잔여마일리지 계산
	*/
	scwin.getRemainMile = function(){
		var remainMile = com.parseInt(dma_airMileUse.get("own_mile")) - com.parseInt(dma_airMileUse.get("pub_use_mile"));
		spn_remain_mile.setValue((remainMile <0)? 0 : remainMile);
	};
	
	/**
	* 저장 전 체크
	*/
	scwin.preSave = function(){
		var essnDatas = [
			{ id : "syspayno", mandatory : true},
			{ id : "air_cd", mandatory : true},
			{ id : "seat_grd", mandatory : true},
			{ id : "air_fee", mandatory : true},
			{ id : "pub_new_mile", mandatory : true},
			{ id : "use_mile_yn", mandatory : true}
		];
		
		
		if(dma_airMileUse.get("use_mile_yn") == "Y"){
			essnDatas.push({ id : "mile_case", mandatory : true}
						  ,{ id : "air_real_fee", mandatory : true}
						  ,{ id : "pub_use_mile", mandatory : true});	
		}else{
			essnDatas.push({ id : "unuse_cause", mandatory : true});
		}
		
		if(!com.validateData(dma_airMileUse, essnDatas, false)) return false;
		
		if(dma_airMileUse.get("use_mile_yn") == "Y"){
			if(sbx_mile_case.getValue() == "CMC003" && sbx_use_cause.getValue() == ""){
				alert("마일리지 사용사유를 선택해 주시기 바랍니다. ");
				sbx_use_cause.focus();
				return false;
			}
			
			if(sbx_mile_case.getValue() == "CMC004" && ibx_use_cause.getValue() == ""){
				alert("마일리지 사용사유를 선택해 주시기 바랍니다. ");
				ibx_use_cause.focus();
				return false;
			}			
			if(com.file.action.getTotalFileCount(upload_A.getID()) < 1){
				alert("첨부파일은 필수 입력 항목입니다.");
				return false;
			}				
		}else if(dma_airMileUse.get("use_mile_yn") == "N"){			// 마일리지 사용 안함(마일리지 부족)의 경우, 첨부파일 필수체크 제외(XC22023011F9, 이재상사무원 요청, 2023.05.08)
			if(com.file.action.getTotalFileCount(upload_A.getID()) < 1){
				if(sbx_unuse_cause.getValue() == "CAU001"){
					return true;					
				}else{
					alert("첨부파일은 필수 입력 항목입니다.");
					return false;	
				}
				
			}	
		}		
		return true;
	};
	
	/* ----------------------------------------------------------------- event ----------------------------------*/
	/**
	* 항공마일리지 사용그리드 로우인덱스 변경 이벤트
	*/
	scwin.grd_mileUse_onrowindexchange = function(row,oldRow) {
		dma_airMileUse.setJSON(dlt_airMileUse.getRowJSON(row));
		
		ibx_empno.setReadOnly(true);
		btn_emp.setDisabled(true);		
		
		// 항공마일리지 활용방법에 따른 form setting
		scwin.setFormMileCase(dma_airMileUse.get("mile_case"));
		switch(dma_airMileUse.get("mile_case")){
			case "CMC003" :
				sbx_use_cause.setValue(dma_airMileUse.get("use_cause"));
				break;
			case "CMC004" :
				ibx_use_cause.setValue(dma_airMileUse.get("use_cause"));
				break;
			default : ibx_use_cause.setValue(""); break;
		}
		
		// 잔여마일 계산
		scwin.getRemainMile();		
		
		// 첨부파일
		com.file.create(upload_A.getID(), {fileKey: (dma_airMileUse.get("attach_file_no_req") == "")?"C341" : dma_airMileUse.get("attach_file_no_req"), mode: "edit"});
		
		scwin.setFormButton(dma_airMileUse.get("apr_state"), row);
		
		// 개인별 마일리지 보유현황 조회
		dma_search.set("syspayno", dma_airMileUse.get("syspayno"));
		com.execute(sbm_selectAbleMile, {
			successCallback : function(e){
				dlt_airMile.setJSON(e.responseJSON.ctrAirMileVoList);	
			}
		});
	};
	
	/**
	* 마일리지 활용방법 변경 이벤트
	*/
	scwin.sbx_mile_case_onviewchange = function(info) {
		scwin.setFormMileCase(this.getValue());
	};
	
	/**
	* 항공사 취소 버튼 클릭 이벤트
	*/
	scwin.btn_air_cancel_onclick = function(e) {
		if (!confirm("항공사 취소 후에는 수정이 불가 합니다. 진행하시겠습니까?")) return;
		
		dma_airMileUse.set("air_cd_chang_yn", "Y");
		scwin.save();
	};
	
	/**
	* 항공사 변경 이벤트
	*/
	scwin.acb_air_cd_onviewchange = function(info) {
		btn_addUser.show("");
		
		if(info.newValue == ""){
			spn_own_mile.setValue(0);
			spn_remain_mile.setValue(0);
		}else{
			var rows = dlt_airMile.getMatchedJSON("air_cd", info.newValue, true);
			if(rows.length > 0){
				var data = rows[0];
				spn_own_mile.setValue(data.able_mile);
				scwin.getRemainMile();
			}
		}
	};
	
	/**
	* 사용자추가 버튼 클릭 이벤트
	*/
	scwin.btn_addUser_onclick = function(e) {
		ibx_empno.setReadOnly(false);
		btn_emp.setDisabled(false);
		acb_air_cd.setDisabled(false);
		
		dma_airMileUse.setEmptyValue();
		dlt_airMile.removeAll();
		dlt_airMile.reform();
		
		btn_save.setDisabled(false);
		
		scwin.setInit();
	};
	
	/**
	* 사용자검색 버튼 클릭 이벤트
	*/
	scwin.btn_emp_onclick = function(e) {
		var data = {
			empno : ibx_empno.getValue(),
			ref_yn : (ibx_empno.getValue() == "")? "Y" : "N",
			work_clsf : "HAG010"
		};
		
		com.pop.open(com.pop.TYPE.HUM, data, function(ret) {
			ibx_empno.setValue(ret.empno);
			dma_airMileUse.set("nm", ret.nm);
			dma_airMileUse.set("syspayno", ret.syspayno);
			
			// 개인별 마일리지 보유현황 조회
			dma_search.set("syspayno", ret.syspayno);
			com.execute(sbm_selectAbleMile, {
				successCallback : function(e){
					dlt_airMile.setJSON(e.responseJSON.ctrAirMileVoList);	
				}
			});
		});
	};
	
	/**
	* 출장신청번호 검색 버튼 클릭 이벤트
	*/
	scwin.btn_trip_onclick = function(e) {
		var reqNo = ibx_biztrip_req_no.getValue();
		if(reqNo == ""){
			alert("출장신청서가 존재하지 않습니다.");
		}else{
			
			if(/C86|C72/.test(reqNo.substring(0, 3))){
				com.openTabMenu("C320",{req_no : reqNo});
				
			}else if(reqNo.substring(0, 3) == "C74"){ // 해외
				var data={
					reqNo : reqNo,
					flag : "Update",
					aprStateCode : "XAD100"
				}
				
				com.openTabMenu("C302", data);
			}
		}
	};
	
	/**
	* 운행구분 변경 이벤트
	*/	
	scwin.rdo_way_trip_onchange = function(info) {
		if(this.getValue() == "R"){
			ica_boarding_ymd.setValue("");
			ica_boarding_ymd.setDisabled(true);
		}else{
			ica_boarding_ymd.setDisabled(false);
		}
	};
	
	/**
	* 공적사용마일리지 변경 이벤트
	*/
	scwin.ibx_pub_use_mile_onviewchange = function(info) {
		if(info.newValue == "") this.getValue(0);
		
		// 잔여마일리지 계산
		scwin.getRemainMile();
	};
	
	/**
	* 닫기 버튼 클릭 이벤트
	*/
	scwin.btn_close_onclick = function(e) {
		com.closePopup();
	};
	
	/**
	* 저장 버튼 클릭 이벤트
	*/
	scwin.btn_save_onclick = function(e) {
		if(!scwin.preSave()) return;
		
		com.confirm("message.xom.wq.017"/*저장 하시겠습니까?*/, function(ret){
			if(ret){
				scwin.save();
			}
		});
	};
	
	/**
	* 마일리지 사용유무 변경 이벤트
	*/
	scwin.rdo_use_mile_yn_onchange = function(info) {
		if(this.getValue() == "Y"){
			grp_use_mile.show("");	
			grp_unuse_resn.hide();
		}else{
			grp_use_mile.hide();
			grp_unuse_resn.show("");
		}
	};
	
	/**
	* 적용버튼 클릭
	*/
	scwin.btn_aply_onclick = function(e) {
		com.closePopup({req_no: dma_airMileUse.get("req_no")});
	};	
	]]></script>
    </head>
    <body ev:onpageload="scwin.onpageload">
    	<xf:group class="pop_contents" id="" style="">
    		<xf:group class="titleSection pt0" id="" style="">
    			<xf:group class="le" id="">
    				<w2:textbox class="tit_tbl" id="" label="항공사별 마일리지 신청서(신고서)" style="" tagname="h3"></w2:textbox>
    			</xf:group>
    		</xf:group>
    		<xf:group class="w2tb tbl" id="" style="" tagname="table">
    			<w2:attributes>
    				<w2:summary></w2:summary>
    			</w2:attributes>
    			<xf:group tagname="caption" text="항공마일리지관리번호, 출장신청번호, 복명서번호"></xf:group>
    			<xf:group tagname="colgroup">
    				<xf:group style="width:160px;" tagname="col"></xf:group>
    				<xf:group style="" tagname="col"></xf:group>
    				<xf:group style="width:140px;" tagname="col"></xf:group>
    				<xf:group style="width:250px;" tagname="col"></xf:group>
    				<xf:group style="width:140px;" tagname="col"></xf:group>
    				<xf:group style="" tagname="col"></xf:group>
    			</xf:group>
    			<xf:group tagname="tr">
    				<xf:group class="w2tb_th" tagname="th">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:textbox id="" label="항공마일리지관리번호" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group class="w2tb_td" tagname="td">
    					<w2:attributes></w2:attributes>
    					<w2:span escape="false" id="spn_req_no" label="00" style="" ref="data:dma_airMileUse.req_no"></w2:span>
    				</xf:group>
    				<xf:group class="w2tb_th" tagname="th">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:textbox id="" label="출장신청번호" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group class="w2tb_td" tagname="td">
    					<xf:input adjustMaxLength="false" class="inp" id="ibx_biztrip_req_no" style="" readOnly="true" ref="data:dma_airMileUse.biztrip_req_no"></xf:input>
    					<xf:trigger class="btn" id="btn_trip" style="" type="button" ev:onclick="scwin.btn_trip_onclick">
    						<xf:label><![CDATA[출장신청서]]></xf:label>
    					</xf:trigger>
    					<w2:attributes></w2:attributes>
    				</xf:group>
    				<xf:group class="w2tb_th" tagname="th" style="">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:textbox id="" label="복명서번호" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group class="w2tb_td" tagname="td" style="">
    					<xf:input adjustMaxLength="false" class="inp" id="ibx_rep_req_no" style="" title="복명서번호" readOnly="true" ref="data:dma_airMileUse.biztrip_report_no"></xf:input>
    					<w2:attributes></w2:attributes>
    				</xf:group>
    			</xf:group>
    		</xf:group>
    		<w2:gridView autoFit="allColumn" class="grid" dataList="data:dlt_airMileUse" defaultCellHeight="28" evenRowBackgroundColor="#f7faff"
    			id="grd_mileUse" noResultMessage="조회 결과가 없습니다." noResultMessageClass="noResult" rowMouseOverColor="#e7f0fb" rowNumBackgroundColor="#fff"
    			rowNumHeaderValue="No." rowNumVisible="true" rowNumWidth="40" rowStatusHeaderValue="상태" rowStatusVisible="false" rowStatusWidth="50"
    			scrollByColumn="false" scrollByColumnAdaptive="false" selectedCellColor="#fbf2cd" selectedRowColor="#fbf2cd" style="height: 85px;"
    			summaryAuto="true" visibleRowNum="5" ev:onrowindexchange="scwin.grd_mileUse_onrowindexchange">
    			<w2:caption id="caption1" style="" value="this is a grid caption."></w2:caption>
    			<w2:header id="header1" style="">
    				<w2:row id="row1" style="">
    					<w2:column displayMode="label" id="column7" inputType="text" style="height:28px;" value="사번" width="100"></w2:column>
    					<w2:column displayMode="label" id="column5" inputType="text" style="height:28px;" value="사용자" width="100"></w2:column>
    					<w2:column displayMode="label" id="column3" inputType="text" style="height:28px;" value="마일리지 미사용 사유" width="200"></w2:column>
    					<w2:column displayMode="label" id="column20" inputType="text" style="height:28px;" value="항공사" width="100"></w2:column>
    					<w2:column width="100" inputType="text" style="height:28px" id="column32" value="생성 마일리지" displayMode="label"></w2:column>
    					<w2:column displayMode="label" id="column29" inputType="text" style="height:28px;" value="공적 금번사용 마일리지"
    						width="200">
    					</w2:column>
    					<w2:column width="100" inputType="text" style="height:28px" id="column30" value="출장신청번호" displayMode="label"></w2:column>
    					<w2:column width="100" inputType="text" style="height:28px" id="column34" value="항공사취소" displayMode="label"></w2:column>
    				</w2:row>
    			</w2:header>
    			<w2:gBody id="gBody1" style="">
    				<w2:row id="row2" style="">
    					<w2:column displayMode="label" id="empno" inputType="text" readOnly="true" style="height:28px;" width="100"></w2:column>
    					<w2:column displayMode="label" escape="false" id="nm" inputType="text" readOnly="true" style="height:28px;"
    						width="100">
    					</w2:column>
    					<w2:column displayMode="label" escape="false" id="unuse_cause" inputType="select" readOnly="true" style="height:28px;"
    						width="200">
    					</w2:column>
    					<w2:column class="" displayMode="label" id="air_cd" inputType="select" readOnly="true" style="height:28px;"
    						width="100">
    					</w2:column>
    					<w2:column width="100" inputType="text" style="height:28px" id="pub_new_mile" value="" displayMode="label"
    						readOnly="true" class="ri" dataType="number" displayFormat="#,###">
    					</w2:column>
    					<w2:column displayMode="label" id="pub_use_mile" inputType="text" readOnly="true" style="height:28px;" width="200" class="ri" dataType="number" displayFormat="#,###"></w2:column>
    					<w2:column width="100" inputType="text" style="height:28px" id="biztrip_req_no" value="" displayMode="label"
    						readOnly="true">
    					</w2:column>
    					<w2:column width="100" inputType="select" style="height:28px" id="air_cd_chang_yn" value="" displayMode="label"
    						readOnly="true" allOption="" chooseOption="" ref="">
    						<w2:choices>
    							<w2:item>
    								<w2:label><![CDATA[취소]]></w2:label>
    								<w2:value><![CDATA[Y]]></w2:value>
    							</w2:item>
    							<w2:item>
    								<w2:label><![CDATA[]]></w2:label>
    								<w2:value><![CDATA[N]]></w2:value>
    							</w2:item>
    						</w2:choices>
    					</w2:column>
    				</w2:row>
    			</w2:gBody>
    		</w2:gridView>
    		<xf:group class="lybox" id="">
    			<xf:group class="ly_column  col_7" id="">
    				<xf:group class="titleSection" id="" style="">
    					<xf:group class="le" id="">
    						<w2:textbox class="tit_tbl" id="" label="신청서(신고서) 상세정보" style="" tagname="h3"></w2:textbox>
    					</xf:group>
    					<xf:group class="ri" id="" style="">
    						<xf:trigger class="btn" id="btn_addUser" style="" type="button" ev:onclick="scwin.btn_addUser_onclick">
    							<xf:label><![CDATA[사용자 추가]]></xf:label>
    						</xf:trigger>
    						<xf:trigger class="btn" id="btn_air_cancel" style="" type="button" ev:onclick="scwin.btn_air_cancel_onclick">
    							<xf:label><![CDATA[항공사 취소]]></xf:label>
    						</xf:trigger>
    					</xf:group>
    				</xf:group>
    				<xf:group class="w2tb tbl" id="" style="" tagname="table">
    					<w2:attributes>
    						<w2:summary></w2:summary>
    					</w2:attributes>
    					<xf:group tagname="caption" text="상세정보"></xf:group>
    					<xf:group tagname="colgroup">
    						<xf:group style="width:190px;" tagname="col"></xf:group>
    						<xf:group style="" tagname="col"></xf:group>
    						<xf:group style="width:190px;" tagname="col"></xf:group>
    						<xf:group style="" tagname="col"></xf:group>
    					</xf:group>
    					<xf:group style="" tagname="tr">
    						<xf:group class="w2tb_th" tagname="th">
    							<w2:attributes>
    								<w2:scope>row</w2:scope>
    							</w2:attributes>
    							<w2:textbox id="" label="여행기간" style="" tagname="span"></w2:textbox>
    						</xf:group>
    						<xf:group class="w2tb_td" tagname="td">
    							<w2:attributes></w2:attributes>
    							<w2:span class="" escape="false" id="spn_trip_prd" label="00" style=""></w2:span>
    						</xf:group>
    						<xf:group class="w2tb_th" tagname="th">
    							<w2:attributes>
    								<w2:scope>row</w2:scope>
    							</w2:attributes>
    							<w2:textbox id="" label="항공권정보(도착지)" style="" tagname="span"></w2:textbox>
    						</xf:group>
    						<xf:group class="w2tb_td" tagname="td">
    							<w2:attributes></w2:attributes>
    							<xf:input adjustMaxLength="false" class="inp full" id="" ref="data:dma_trip.biztrip_region" style=""
    								title="항공권정보(도착지)">
    							</xf:input>
    						</xf:group>
    					</xf:group>
    					<xf:group tagname="tr">
    						<xf:group class="w2tb_th" tagname="th">
    							<w2:attributes>
    								<w2:scope>row</w2:scope>
    							</w2:attributes>
    							<w2:span class="bul_req" id="" label="[필수입력항목]" style=""></w2:span>
    							<w2:textbox id="" label="사용자" style="" tagname="span"></w2:textbox>
    						</xf:group>
    						<xf:group class="w2tb_td" tagname="td">
    							<w2:attributes></w2:attributes>
    							<xf:group id="" class="flex">
    								<xf:group style="width: 180px;" id="grp_emp" class="inpSch">
    									<xf:input adjustMaxLength="false" style="" id="ibx_empno" class="inp req" title="사용자명"
    										ref="data:dma_airMileUse.empno">
    									</xf:input>
    									<xf:trigger style="" id="btn_emp" type="button" class="btn" title="사용자 조회"
    										ev:onclick="scwin.btn_emp_onclick">
    										<xf:label><![CDATA[검색]]></xf:label>
    									</xf:trigger>
    								</xf:group>
    								<xf:input adjustMaxLength="false" style="" id="" class="inp  req full" title="사용자 상세" readOnly="true"
    									ref="data:dma_airMileUse.nm">
    								</xf:input>
    							</xf:group>
    						</xf:group>
    						<xf:group class="w2tb_th" tagname="th">
    							<w2:span class="bul_req" id="" label="[필수입력항목]" style=""></w2:span>
    							<w2:textbox id="" label="국내/국외" style="" tagname="span"></w2:textbox>
    							<w2:attributes>
    								<w2:scope>row</w2:scope>
    							</w2:attributes>
    						</xf:group>
    						<xf:group class="w2tb_td" tagname="td">
    							<xf:select1 appearance="full" class="radioGroup  req" cols="" id="" ref="data:dma_airMileUse.in_out_clsf"
    								renderType="radiogroup" rows="" selectedIndex="1" style="" title="국내/국외">
    								<xf:choices>
    									<xf:item>
    										<xf:label><![CDATA[국내]]></xf:label>
    										<xf:value><![CDATA[I]]></xf:value>
    									</xf:item>
    									<xf:item>
    										<xf:label><![CDATA[국외]]></xf:label>
    										<xf:value><![CDATA[O]]></xf:value>
    									</xf:item>
    								</xf:choices>
    							</xf:select1>
    							<w2:attributes></w2:attributes>
    						</xf:group>
    					</xf:group>
    					<xf:group style="" tagname="tr">
    						<xf:group class="w2tb_th" style="" tagname="th">
    							<w2:attributes>
    								<w2:scope>row</w2:scope>
    							</w2:attributes>
    							<w2:span class="bul_req" id="" label="[필수입력항목]" style=""></w2:span>
    							<w2:textbox id="" label="마일리지 사용 유무" style="" tagname="span"></w2:textbox>
    						</xf:group>
    						<xf:group class="w2tb_td" style="" tagname="td">
    							<xf:select1 appearance="full" class="radioGroup  req" cols="" id="rdo_use_mile_yn"
    								ref="data:dma_airMileUse.use_mile_yn" renderType="radiogroup" rows="" selectedIndex="" style="" title="마일리지 사용 유무"
    								ev:onchange="scwin.rdo_use_mile_yn_onchange">
    								<xf:choices>
    									<xf:item>
    										<xf:label><![CDATA[유]]></xf:label>
    										<xf:value><![CDATA[Y]]></xf:value>
    									</xf:item>
    									<xf:item>
    										<xf:label><![CDATA[무]]></xf:label>
    										<xf:value><![CDATA[N]]></xf:value>
    									</xf:item>
    								</xf:choices>
    							</xf:select1>
    						</xf:group>
    						<xf:group class="w2tb_th" style="" tagname="th">
    							<w2:span class="bul_req" id="" label="[필수입력항목]" style=""></w2:span>
    							<w2:textbox id="" label="항공운임비" style="" tagname="span"></w2:textbox>
    							<w2:attributes>
    								<w2:scope>row</w2:scope>
    							</w2:attributes>
    						</xf:group>
    						<xf:group class="w2tb_td" style="" tagname="td">
    							<xf:input adjustMaxLength="false" class="inp full ri  req" id="" style="" title="항공운임비"
    								ref="data:dma_airMileUse.air_fee" dataType="number" displayFormat="#,###" allowChar="0-9">
    							</xf:input>
    						</xf:group>
    					</xf:group>
    					<xf:group tagname="tr">
    						<xf:group class="w2tb_th" tagname="th">
    							<w2:attributes>
    								<w2:scope>row</w2:scope>
    							</w2:attributes>
    							<w2:span class="bul_req" id="" label="[필수입력항목]" style=""></w2:span>
    							<w2:textbox id="" label="항공사" style="" tagname="span"></w2:textbox>
    						</xf:group>
    						<xf:group class="w2tb_td" tagname="td">
    							<w2:attributes></w2:attributes>
    							<w2:autoComplete allOption="" chooseOption="true" chooseOptionLabel="-선택-" class="req" displayMode=""
    								editModeEvent="onclick" id="acb_air_cd" search="" style="" submenuSize="auto" textAlign="left" tooltipDisplay=""
    								useKeywordHighlight="" visibleColumn="" visibleColumnFalseValue="" ref="data:dma_airMileUse.air_cd"
    								ev:onviewchange="scwin.acb_air_cd_onviewchange">
    								<w2:choices></w2:choices>
    							</w2:autoComplete>
    						</xf:group>
    						<xf:group class="w2tb_th" tagname="th">
    							<w2:attributes>
    								<w2:scope>row</w2:scope>
    							</w2:attributes>
    							<w2:span class="bul_req" id="" label="[필수입력항목]" style=""></w2:span>
    							<w2:textbox id="" label="좌석등급" style="" tagname="span"></w2:textbox>
    						</xf:group>
    						<xf:group class="w2tb_td" tagname="td">
    							<w2:attributes></w2:attributes>
    							<xf:select1 allOption="" appearance="minimal" chooseOption="true" chooseOptionLabel="" class="sel  req"
    								direction="auto" disabled="false" disabledClass="w2selectbox_disabled" id="sbx_seat_grd" ref="data:dma_airMileUse.seat_grd"
    								style="" submenuSize="auto" title="좌석등급">
    								<xf:choices></xf:choices>
    							</xf:select1>
    						</xf:group>
    					</xf:group>
    					<xf:group tagname="tr" style="">
    						<xf:group class="w2tb_th" tagname="th">
    							<w2:attributes>
    								<w2:scope>row</w2:scope>
    							</w2:attributes>
    							<w2:textbox id="" label="운행구분" style="" tagname="span"></w2:textbox>
    						</xf:group>
    						<xf:group class="w2tb_td" tagname="td">
    							<w2:attributes></w2:attributes>
    							<xf:select1 appearance="full" class="radioGroup" cols="" id="rdo_way_trip"
    								ref="data:dma_airMileUse.way_trip" renderType="radiogroup" rows="" selectedIndex="" style="" title="운행구분"
    								ev:onchange="scwin.rdo_way_trip_onchange">
    								<xf:choices>
    									<xf:item>
    										<xf:label><![CDATA[왕복]]></xf:label>
    										<xf:value><![CDATA[R]]></xf:value>
    									</xf:item>
    									<xf:item>
    										<xf:label><![CDATA[편도]]></xf:label>
    										<xf:value><![CDATA[O]]></xf:value>
    									</xf:item>
    								</xf:choices>
    							</xf:select1>
    						</xf:group>
    						<xf:group class="w2tb_th" tagname="th">
    							<w2:attributes>
    								<w2:scope>row</w2:scope>
    							</w2:attributes>
    							<w2:textbox id="" label="탑승일(편도)" style="" tagname="span"></w2:textbox>
    						</xf:group>
    						<xf:group class="w2tb_td" tagname="td">
    							<w2:attributes></w2:attributes>
    							<w2:inputCalendar calendarValueType="yearMonthDate" class="inpcal" focusOnDateSelect="false"
    								footerDiv="false" id="ica_boarding_ymd" placeholder="시작일" renderDiv="true" rightAlign="false" style="" title="탑승일(편도) "
    								ref="data:dma_airMileUse.cal_boarding_ymd" disabled="true">
    							</w2:inputCalendar>
    						</xf:group>
    					</xf:group>
    					<xf:group tagname="tr" style="" id="grp_unuse_resn">
    						<xf:group class="w2tb_th" tagname="th">
    							<w2:attributes>
    								<w2:scope>row</w2:scope>
    							</w2:attributes>
    							<w2:span class="bul_req" id="" label="[필수입력항목]" style=""></w2:span>
    							<w2:textbox id="" label="미사용 사유" style="" tagname="span"></w2:textbox>
    						</xf:group>
    						<xf:group class="w2tb_td" tagname="td">
    							<w2:attributes></w2:attributes>
    							<xf:select1 allOption="" appearance="minimal" chooseOption="true" chooseOptionLabel="" class="sel req"
    								direction="auto" disabled="false" disabledClass="w2selectbox_disabled" id="sbx_unuse_cause"
    								ref="data:dma_airMileUse.unuse_cause" style="width:150px;" submenuSize="auto" title="미사용 사유">
    								<xf:choices>
    									<xf:item>
    										<xf:label><![CDATA[new row]]></xf:label>
    										<xf:value></xf:value>
    									</xf:item>
    									<xf:item>
    										<xf:label><![CDATA[new row]]></xf:label>
    										<xf:value></xf:value>
    									</xf:item>
    									<xf:item>
    										<xf:label><![CDATA[new row]]></xf:label>
    										<xf:value></xf:value>
    									</xf:item>
    									<xf:item>
    										<xf:label><![CDATA[new row]]></xf:label>
    										<xf:value></xf:value>
    									</xf:item>
    								</xf:choices>
    							</xf:select1>
    						</xf:group>
    						<xf:group class="w2tb_th" tagname="th">
    							<w2:attributes>
    								<w2:scope>row</w2:scope>
    							</w2:attributes>
    						</xf:group>
    						<xf:group class="w2tb_td" tagname="td">
    							<w2:attributes></w2:attributes>
    						</xf:group>
    					</xf:group>
    					<xf:group style="" tagname="tr">
    						<xf:group class="w2tb_th" tagname="th">
    							<w2:attributes>
    								<w2:scope>row</w2:scope>
    							</w2:attributes>
    							<w2:textbox id="" label="비고" style="" tagname="span"></w2:textbox>
    						</xf:group>
    						<xf:group class="w2tb_td" tagname="td">
    							<w2:attributes>
    								<w2:colspan>3</w2:colspan>
    								<w2:rowspan>1</w2:rowspan>
    							</w2:attributes>
    							<xf:input adjustMaxLength="false" class="inp full le" id="" ref="data:dma_airMileUse.report_rmk" style=""
    								title="비고">
    							</xf:input>
    						</xf:group>
    					</xf:group>
    					<xf:group style="" tagname="tr">
    						<xf:group class="w2tb_th" tagname="th">
    							<w2:attributes>
    								<w2:scope>row</w2:scope>
    							</w2:attributes>
    							<w2:span class="bul_req" id="" label="[필수입력항목]" style=""></w2:span>
    							<w2:textbox id="" label="첨부파일" style="" tagname="span"></w2:textbox>
    						</xf:group>
    						<xf:group class="w2tb_td" tagname="td">
    							<w2:attributes>
    								<w2:colspan>3</w2:colspan>
    								<w2:rowspan>1</w2:rowspan>
    							</w2:attributes>
    							<xf:group class="full" id="upload_A" style="height:100%;"></xf:group>
    						</xf:group>
    					</xf:group>
    				</xf:group>
    				<xf:group class="w2tb tbl" id="grp_use_mile" style="" tagname="table">
    					<w2:attributes>
    						<w2:summary></w2:summary>
    					</w2:attributes>
    					<xf:group tagname="caption" text="상세정보"></xf:group>
    					<xf:group tagname="colgroup">
    						<xf:group style="width:190px;" tagname="col"></xf:group>
    						<xf:group style="" tagname="col"></xf:group>
    						<xf:group style="width:190px;" tagname="col"></xf:group>
    						<xf:group style="" tagname="col"></xf:group>
    					</xf:group>
    					<xf:group style="" tagname="tr">
    						<xf:group class="w2tb_th" tagname="th">
    							<w2:attributes>
    								<w2:scope>row</w2:scope>
    							</w2:attributes>
    							<w2:span class="bul_req" id="" label="[필수입력항목]" style=""></w2:span>
    							<w2:textbox id="" label="마일리지 활용방법" style="" tagname="span"></w2:textbox>
    						</xf:group>
    						<xf:group class="w2tb_td" tagname="td">
    							<w2:attributes></w2:attributes>
    							<xf:select1 allOption="" appearance="minimal" chooseOption="true" chooseOptionLabel="" class="sel req"
    								direction="auto" disabled="false" disabledClass="w2selectbox_disabled" ev:onviewchange="scwin.sbx_mile_case_onviewchange"
    								id="sbx_mile_case" ref="data:dma_airMileUse.mile_case" style="width:150px;" submenuSize="auto" title="마일리지 활용방법">
    								<xf:choices></xf:choices>
    							</xf:select1>
    						</xf:group>
    						<xf:group class="w2tb_th" tagname="th">
    							<w2:attributes>
    								<w2:scope>row</w2:scope>
    							</w2:attributes>
    							<w2:span class="bul_req" id="" label="[필수입력항목]" style=""></w2:span>
    							<w2:textbox id="" label="운임신청액" style="" tagname="span"></w2:textbox>
    						</xf:group>
    						<xf:group class="w2tb_td" tagname="td">
    							<w2:attributes></w2:attributes>
    							<xf:input adjustMaxLength="false" class="inp full ri req" dataType="number" displayFormat="#,###" id=""
    								ref="data:dma_airMileUse.air_real_fee" style="" title="운임신청액">
    							</xf:input>
    						</xf:group>
    					</xf:group>
    					<xf:group id="grp_mile_cause" style="" tagname="tr">
    						<xf:group class="w2tb_th" tagname="th">
    							<w2:attributes>
    								<w2:scope>row</w2:scope>
    							</w2:attributes>
    							<w2:textbox id="" label="마일리지 사용사유" style="" tagname="span"></w2:textbox>
    						</xf:group>
    						<xf:group class="w2tb_td" tagname="td">
    							<w2:attributes>
    								<w2:colspan>3</w2:colspan>
    								<w2:rowspan>1</w2:rowspan>
    							</w2:attributes>
    							<xf:select1 allOption="" appearance="minimal" chooseOption="true" chooseOptionLabel="" class="sel  req"
    								direction="auto" disabled="false" disabledClass="w2selectbox_disabled" id="sbx_use_cause" ref=""
    								style="width:185px; display:none;" submenuSize="auto" title="마일리지 활용방법">
    								<xf:choices>
    									<xf:item>
    										<xf:label><![CDATA[국제회의 대표단]]></xf:label>
    										<xf:value><![CDATA[국제회의 대표단]]></xf:value>
    									</xf:item>
    									<xf:item>
    										<xf:label><![CDATA[편도5시간 이상]]></xf:label>
    										<xf:value><![CDATA[편도5시간 이상]]></xf:value>
    									</xf:item>
    									<xf:item>
    										<xf:label><![CDATA[이코노미 좌석탑승 곤란질환자]]></xf:label>
    										<xf:value><![CDATA[이코노미 좌석탑승 곤란질환자]]></xf:value>
    									</xf:item>
    									<xf:item>
    										<xf:label><![CDATA[중간정액 대상자 동행]]></xf:label>
    										<xf:value><![CDATA[중간정액 대상자 동행]]></xf:value>
    									</xf:item>
    									<xf:item>
    										<xf:label><![CDATA[3년 이내 정년퇴직자]]></xf:label>
    										<xf:value><![CDATA[3년 이내 정년퇴직자]]></xf:value>
    									</xf:item>
    								</xf:choices>
    							</xf:select1>
    							<xf:input adjustMaxLength="false" class="inp full" id="ibx_use_cause" style="margin-left:0px;"
    								title="마일리지 사용사유">
    							</xf:input>
    						</xf:group>
    					</xf:group>
    					<xf:group style="" tagname="tr">
    						<xf:group class="w2tb_th" tagname="th">
    							<w2:attributes>
    								<w2:scope>row</w2:scope>
    							</w2:attributes>
    							<w2:textbox id="" label="보유마일리지(A)" style="" tagname="span"></w2:textbox>
    						</xf:group>
    						<xf:group class="w2tb_td" tagname="td">
    							<w2:attributes></w2:attributes>
    							<w2:span class="ri" dataType="number" displayFormat="#,###" escape="false" id="spn_own_mile" label="00"
    								ref="data:dma_airMileUse.own_mile" style="">
    							</w2:span>
    						</xf:group>
    						<xf:group class="w2tb_th" tagname="th">
    							<w2:attributes>
    								<w2:scope>row</w2:scope>
    							</w2:attributes>
    							<w2:span class="bul_req" id="" label="[필수입력항목]" style=""></w2:span>
    							<w2:textbox id="" label="금번 공적 사용마일리지(B)" style="" tagname="span"></w2:textbox>
    						</xf:group>
    						<xf:group class="w2tb_td" tagname="td">
    							<w2:attributes></w2:attributes>
    							<xf:input adjustMaxLength="false" class="inp full ri req" dataType="number" displayFormat="#,###"
    								ev:onviewchange="scwin.ibx_pub_use_mile_onviewchange" id="ibx_pub_use_mile" ref="data:dma_airMileUse.pub_use_mile" style=""
    								title="금번 공적 사용마일리지(B)">
    							</xf:input>
    						</xf:group>
    					</xf:group>
    					<xf:group style="" tagname="tr">
    						<xf:group class="w2tb_th" tagname="th">
    							<w2:attributes>
    								<w2:scope>row</w2:scope>
    							</w2:attributes>
    							<w2:textbox id="" label="잔여마일리지(C=A-B)" style="" tagname="span"></w2:textbox>
    						</xf:group>
    						<xf:group class="w2tb_td" tagname="td">
    							<w2:attributes></w2:attributes>
    							<w2:span class="ri" dataType="number" displayFormat="#,###" escape="false" id="spn_remain_mile" label="00"
    								style="">
    							</w2:span>
    						</xf:group>
    						<xf:group class="w2tb_th" tagname="th">
    							<w2:attributes>
    								<w2:scope>row</w2:scope>
    							</w2:attributes>
    							<w2:textbox id="" label="금번 사적 사용마일리지" style="" tagname="span"></w2:textbox>
    						</xf:group>
    						<xf:group class="w2tb_td" tagname="td">
    							<w2:attributes></w2:attributes>
    							<xf:input adjustMaxLength="false" class="inp full ri" dataType="number" displayFormat="#,###" id=""
    								ref="data:dma_airMileUse.per_use_mile" style="" title="금번 사적 사용마일리지">
    							</xf:input>
    						</xf:group>
    					</xf:group>
    				</xf:group>
    				<xf:group class="w2tb tbl" id="grp_report" style="" tagname="table">
    					<w2:attributes>
    						<w2:summary></w2:summary>
    					</w2:attributes>
    					<xf:group tagname="caption" text="상세정보"></xf:group>
    					<xf:group tagname="colgroup">
    						<xf:group style="width:190px;" tagname="col"></xf:group>
    						<xf:group style="" tagname="col"></xf:group>
    						<xf:group style="width:190px;" tagname="col"></xf:group>
    						<xf:group style="" tagname="col"></xf:group>
    					</xf:group>
    					<xf:group id="" style="" tagname="tr">
    						<xf:group class="w2tb_th" tagname="th">
    							<w2:attributes>
    								<w2:scope>row</w2:scope>
    							</w2:attributes>
    							<w2:span class="bul_req" id="" label="[필수입력항목]" style=""></w2:span>
    							<w2:textbox id="" label="공적생성마일리지" style="" tagname="span"></w2:textbox>
    						</xf:group>
    						<xf:group class="w2tb_td" tagname="td">
    							<w2:attributes></w2:attributes>
    							<xf:input adjustMaxLength="false" class="inp full req ri" dataType="number" displayFormat="#,###" id=""
    								ref="data:dma_airMileUse.pub_new_mile" style="" title="보유마일리지(A)">
    							</xf:input>
    						</xf:group>
    						<xf:group class="w2tb_th" tagname="th">
    							<w2:attributes>
    								<w2:scope>row</w2:scope>
    							</w2:attributes>
    						</xf:group>
    						<xf:group class="w2tb_td" tagname="td">
    							<w2:attributes></w2:attributes>
    						</xf:group>
    					</xf:group>
    				</xf:group>
    			</xf:group>
    			<xf:group class="ly_column col_3" id="" style="">
    				<xf:group class="titleSection" id="" style="">
    					<xf:group class="le" id="">
    						<w2:textbox class="tit_tbl" id="" label="현재 마일리지 보유현황" style="" tagname="h3"></w2:textbox>
    					</xf:group>
    				</xf:group>
    				<w2:gridView autoFit="allColumn" class="grid" dataList="data:dlt_airMile" defaultCellHeight="28"
    					evenRowBackgroundColor="#f7faff" id="grd_airMile" noResultMessage="조회 결과가 없습니다." noResultMessageClass="noResult" rowMouseOverColor="#e7f0fb"
    					rowNumBackgroundColor="#fff" rowNumHeaderValue="No." rowNumVisible="true" rowNumWidth="60" rowStatusHeaderValue="상태"
    					rowStatusVisible="false" rowStatusWidth="50" scrollByColumn="false" scrollByColumnAdaptive="false" selectedCellColor="#fbf2cd"
    					selectedRowColor="#fbf2cd" style="height: 85px;" summaryAuto="true" visibleRowNum="10">
    					<w2:caption id="caption1" style="" value="this is a grid caption."></w2:caption>
    					<w2:header id="header1" style="">
    						<w2:row id="row1" style="">
    							<w2:column displayMode="label" id="column29" inputType="text" style="height:28px;" value="항공사"
    								width="150">
    							</w2:column>
    							<w2:column displayMode="label" id="column30" inputType="text" style="height:28px" value="보유마일리지(현재)"
    								width="150">
    							</w2:column>
    						</w2:row>
    					</w2:header>
    					<w2:gBody id="gBody1" style="">
    						<w2:row id="row2" style="">
    							<w2:column displayMode="label" id="air_cd" inputType="select" readOnly="true" style="height:28px;"
    								width="150">
    							</w2:column>
    							<w2:column displayMode="label" id="able_mile" inputType="text" readOnly="true" style="height:28px" value=""
    								width="150" class="ri" dataType="number" displayFormat="#,###">
    							</w2:column>
    						</w2:row>
    					</w2:gBody>
    				</w2:gridView>
    			</xf:group>
    		</xf:group>
    		<xf:group class="helparea" id="" style="">
    			<w2:textbox class="helptitle" id="" label="공무항공마일리지 미사용시 첨부(증빙) 자료" style=""></w2:textbox>
    			<xf:group id="" style="" tagname="ul">
    				<xf:group id="" tagname="li">
    					<w2:textbox id="" label="마일리지가 충분한데 보너스좌석 확보가 안되었을 경우 : 항공사 홈페이지 보너스좌석 예약신청 결과 출력물" style="" tagname="span"></w2:textbox>
    				</xf:group>
    			</xf:group>
    		</xf:group>
    		<xf:group class="btnGroup" id="" style="">
    			<xf:group class="le" id="" style=""></xf:group>
    			<xf:group class="ri" id="">
    				<xf:trigger class=" btn pro " id="btn_aply" style="" type="button" ev:onclick="scwin.btn_aply_onclick">
    					<xf:label><![CDATA[적용]]></xf:label>
    				</xf:trigger>
    				<xf:trigger class=" btn pro " id="btn_close" style="" type="button" ev:onclick="scwin.btn_close_onclick">
    					<xf:label><![CDATA[닫기]]></xf:label>
    				</xf:trigger>
    				<xf:trigger class=" btn pro conf" id="btn_save" style="" type="button" ev:onclick="scwin.btn_save_onclick">
    					<xf:label><![CDATA[저장]]></xf:label>
    				</xf:trigger>
    			</xf:group>
    		</xf:group>
    	</xf:group>
    </body>
</html>
