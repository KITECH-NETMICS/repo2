<?xml version="1.0" encoding="UTF-8"?>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:ev="http://www.w3.org/2001/xml-events" xmlns:w2="http://www.inswave.com/websquare" xmlns:xf="http://www.w3.org/2002/xforms">
	<head meta_programName="휴가원신청서">
		<w2:type>DEFAULT</w2:type>
		<w2:buildDate />
		<xf:model>
			<xf:instance> 
				<data xmlns="" /> 
			</xf:instance>
			<w2:dataCollection baseNode="map">
				<w2:dataMap baseNode="map" id="dma_search">
					<w2:keyInfo>
						<w2:key id="req_no" name="신청번호" dataType="text"></w2:key>
						<w2:key id="syspayno" name="사번" dataType="text"></w2:key>
						<w2:key id="anal_yr" name="연도" dataType="text"></w2:key>
						<w2:key id="year" name="연도" dataType="text"></w2:key>

						<w2:key id="start_ymd" name="시작일자" dataType="text"></w2:key>
						<w2:key id="cls_ymd" name="종료일자" dataType="text"></w2:key>
					</w2:keyInfo>
				</w2:dataMap>
				<w2:dataMap baseNode="map" id="dma_cgsAnal">
					<w2:keyInfo>
						<w2:key id="remidr_anal_qty" name="잔여연차일수" dataType="text"></w2:key>
						<w2:key id="remidr_save_qty00" name="저축연차00" dataType="text"></w2:key>
						<w2:key id="remidr_save_qty01" name="저축연차01" dataType="text"></w2:key>
						<w2:key id="remidr_save_qty02" name="저축연차02" dataType="text"></w2:key>
						<w2:key id="remidr_save_qty03" name="저축연차03" dataType="text"></w2:key>
						<w2:key id="remidr_save_qty04" name="저축연차04" dataType="text"></w2:key>
						<w2:key id="remidr_save_qty05" name="저축연차05" dataType="text"></w2:key>
						<w2:key id="remidr_save_qty06" name="저축연차06" dataType="text"></w2:key>
						<w2:key id="remidr_save_qty07" name="저축연차07" dataType="text"></w2:key>
						<w2:key id="remidr_save_qty08" name="저축연차08" dataType="text"></w2:key>
						<w2:key id="remidr_save_qty09" name="저축연차09" dataType="text"></w2:key>
						<w2:key id="remidr_save_qty10" name="저축연차10" dataType="text"></w2:key>
						<w2:key id="no_apr_qty" name="신청중연차개수" dataType="text"></w2:key>
						<w2:key id="work_days" name="워크데이" dataType="text"></w2:key>
						<w2:key id="care_cnt" name="돌봄휴가일수" dataType="text"></w2:key>
						<w2:key id="sick_cnt" name="병가일수" dataType="text"></w2:key>
						<w2:key id="command" name="근무시간체크" dataType="text"></w2:key>
						<w2:key id="tot_com_qty" name="보상전체일수" dataType="text"></w2:key>
						<w2:key id="use_com_qty" name="보상사용일수" dataType="text"></w2:key>
						<w2:key id="remain_com_qty" name="잔여보상일수" dataType="text"></w2:key>

						<w2:key id="use_reward" name="name21" dataType="text"></w2:key>
						<w2:key id="remain_reward" name="name22" dataType="text"></w2:key>
					</w2:keyInfo>
				</w2:dataMap>
				<w2:dataMap baseNode="map" id="dma_cgsInfo">
					<w2:keyInfo>
						<w2:key id="req_no" name="신청번호" dataType="text"></w2:key>
						<w2:key id="req_psn_syspayno" name="신청자시스템개인번호" dataType="text"></w2:key>
						<w2:key id="req_psn_empno" name="개인번호" dataType="text"></w2:key>
						<w2:key id="req_psn_nm" name="신청자" dataType="text"></w2:key>
						<w2:key id="entr_ymd" name="입사일자" dataType="text"></w2:key><w2:key id="holiday_clsf" name="휴가구분" dataType="text"></w2:key>
						<w2:key id="holiday_sub_clsf" name="휴가소구분" dataType="text"></w2:key>
						<w2:key id="holiday_clsf_nm" name="휴가구분명" dataType="text"></w2:key>
						<w2:key id="holiday_start_ymd" name="휴가시작일자" dataType="text"></w2:key>
						<w2:key id="holiday_cls_ymd" name="휴가종료일자" dataType="text"></w2:key>
						<w2:key id="holiday_start_hour" name="휴가시작시간" dataType="text"></w2:key>
						<w2:key id="holiday_cls_hour" name="휴가종료시간" dataType="text"></w2:key>
						<w2:key id="req_psn_dept_cd" name="신청자부서코드" dataType="text"></w2:key>
						<w2:key id="req_psn_dept_ymd" name="신청자부서신설일자" dataType="text"></w2:key>
						<w2:key id="req_psn_dept_nm" name="부서" dataType="text"></w2:key>
						<w2:key id="req_psn_posi_cd" name="신청자직급코드" dataType="text"></w2:key>
						<w2:key id="commute_cd" name="조합원코드" dataType="text"></w2:key>
						<w2:key id="posi_nm" name="직급" dataType="text"></w2:key>
						<w2:key id="holiday_daycnt" name="휴가일수" dataType="text"></w2:key>
						<w2:key id="holiday_cause" name="휴가사유" dataType="text"></w2:key>
						<w2:key id="agent_psn_syspayno" name="대행자시스템개인번호" dataType="text"></w2:key>
						<w2:key id="agent_psn_empno" name="대행자사번" dataType="text"></w2:key>
						<w2:key id="agent_psn_nm" name="대행자성명" dataType="text"></w2:key>
						<w2:key id="destin" name="행선지" dataType="text"></w2:key>
						<w2:key id="contac_loc" name="연락처" dataType="text"></w2:key>
						<w2:key id="care_name" name="가족성명" dataType="text"></w2:key>
						<w2:key id="care_relation" name="나와의관계" dataType="text"></w2:key>
						<w2:key id="care_birth_ymd" name="가족생년월일" dataType="text"></w2:key>
						<w2:key id="rmk" name="비고" dataType="text"></w2:key>
						<w2:key id="attach_file_no" name="첨부파일번호" dataType="text"></w2:key>
						<w2:key id="regst_psn_nm" name="등록자성명" dataType="text"></w2:key>
						<w2:key id="apr_state" name="결재상태" dataType="text"></w2:key>
						<w2:key id="vaccine" name="백신접종구분" dataType="text"></w2:key>
						<w2:key id="vac_cause" name="백신접종사유" dataType="text"></w2:key>
						<w2:key id="vac_gb" name="백신종류" dataType="text"></w2:key>
						<w2:key id="vac_date" name="접종시기" dataType="text"></w2:key>
						<w2:key id="save_anal_yr00" name="저축연차00" dataType="text"></w2:key>
						<w2:key id="save_anal_yr01" name="저축연차01" dataType="text"></w2:key>
						<w2:key id="save_anal_yr02" name="저축연차02" dataType="text"></w2:key>
						<w2:key id="save_anal_yr03" name="저축연차03" dataType="text"></w2:key>
						<w2:key id="save_anal_yr04" name="저축연차04" dataType="text"></w2:key>
						<w2:key id="save_anal_yr05" name="저축연차05" dataType="text"></w2:key>
						<w2:key id="save_anal_yr06" name="저축연차06" dataType="text"></w2:key>
						<w2:key id="save_anal_yr07" name="저축연차07" dataType="text"></w2:key>
						<w2:key id="save_anal_yr08" name="저축연차08" dataType="text"></w2:key>
						<w2:key id="save_anal_yr09" name="저축연차09" dataType="text"></w2:key>
						<w2:key id="save_anal_yr10" name="저축연차10" dataType="text"></w2:key>
						<w2:key id="cud_type" name="저장구분" dataType="text"></w2:key>
						<w2:key id="validAttachNo" name="유효첨부파일번호" dataType="text"></w2:key>
						<w2:key id="approval" name="결재여부" dataType="text"></w2:key>
						<w2:key id="remain_holiday" name="신청후 잔여연차" dataType="text"></w2:key>
						<w2:key id="holiday_before_remain" name="신청전 잔여연차" dataType="text"></w2:key>
						<w2:key id="lbl_start_hour" name="시작시간" dataType="text"></w2:key>
						<w2:key id="lbl_cls_hour" name="종료시간" dataType="text"></w2:key>
						<w2:key id="holiday_hour" name="휴가시간" dataType="text"></w2:key>
						<w2:key id="RepReason" name="휴가구분" dataType="text"></w2:key>
						<w2:key id="rule_type_cd" name="전결" dataType="text"></w2:key>
						<w2:key id="rule_money_cd" name="전결" dataType="text"></w2:key>
						<w2:key id="apr_beforeRewardRemain" name="신청전보상휴가" dataType="text"></w2:key>
						<w2:key id="apr_afterRewardRemain" name="신청후보상휴가" dataType="text"></w2:key>
						
						<w2:key id="ctr_req_no" name="관련신청번호(대체휴일)" dataType="text"></w2:key>
					</w2:keyInfo>
				</w2:dataMap>
				<w2:dataMap baseNode="map" id="dma_postApr" style="">
					<w2:keyInfo>
						<w2:key dataType="text" id="reason" name="사후결재사유"></w2:key>
						<w2:key id="req_no" name="신청번호" dataType="text"></w2:key>
					</w2:keyInfo>
				</w2:dataMap>
			</w2:dataCollection>
			<w2:workflowCollection></w2:workflowCollection>
			<!-- 휴가원신청 조회 -->
			<xf:submission id="sbm_searchInfo" ref='data:json,dma_search' target='' action="/SvcCCSCGSVACR02.pwkjson" method="post"
				mediatype="application/json" encoding="UTF-8" instance="" replace="" errorHandler="" customHandler="" mode="asynchronous" processMsg="" ev:submit="" ev:submitdone=""
				ev:submiterror="" abortTrigger="">
			</xf:submission>
			<!-- 휴가원신청 저장 -->
			<xf:submission id="sbm_saveCgslapp" ref='data:json,[{"id":"dma_cgsInfo","key":"cgslappVo"},{"id":"dma_cgsAnal","key":"cgslappAnalVo"},{"id":"dma_postApr","key":"postAprVo"}]' 
				target='data:json,dma_search' action="/SvcCCSCGSVACM01.pwkjson" method="post" mediatype="application/json"
        		encoding="UTF-8" instance="" replace="" errorHandler="" customHandler="" mode="asynchronous" processMsg="" ev:submit=""
        		ev:submitdone="" ev:submiterror="" abortTrigger="">
        	</xf:submission>
        	<!-- 휴가원신청 삭제 -->
        	<xf:submission id="sbm_delCgslapp" ref='data:json,dma_search' target='' action="/SvcCCSCGSVACD01.pwkjson" method="post"
				mediatype="application/json" encoding="UTF-8" instance="" replace="" errorHandler="" customHandler="" mode="asynchronous" processMsg="" ev:submit="" ev:submitdone=""
				ev:submiterror="" abortTrigger="">
			</xf:submission>
			<!-- 잔여 연차일수, 미승인 연차일수, 돌봄휴가일수 조회 -->
			<xf:submission id="sbm_analCnt" ref='data:json,dma_search' target='data:json,dma_cgsAnal' action="/SvcCCSCGSVACR04.pwkjson" method="post"
				mediatype="application/json" encoding="UTF-8" instance="" replace="" errorHandler="" customHandler="" mode="asynchronous" processMsg="" ev:submit="" ev:submitdone=""
				ev:submiterror="" abortTrigger="">
			</xf:submission>
			<!-- 근무일수조회 -->
			<xf:submission id="sbm_workDays" ref='data:json,dma_search' target='data:json,dma_cgsAnal' action="/SvcCCSCGSVACR06.pwkjson" method="post"
				mediatype="application/json" encoding="UTF-8" instance="" replace="" errorHandler="" customHandler="" mode="asynchronous" processMsg="" ev:submit="" ev:submitdone=""
				ev:submiterror="" abortTrigger=""> 
			</xf:submission>
			<!-- 결재전 체크(병가 증빙 미등록건수) -->
			<xf:submission id="sbm_LappNoFileCnt" ref='data:json,dma_search' target='' action="/SvcCCSCGSVACR15.pwkjson" method="post"
				mediatype="application/json" encoding="UTF-8" instance="" replace="" errorHandler="" customHandler="" mode="asynchronous" processMsg="" ev:submit="" ev:submitdone=""
				ev:submiterror="" abortTrigger="">
			</xf:submission>
		</xf:model> 
        <script src="/cm/js/biz/ccs.js" cache="false" />
		<script type="text/javascript" lazy="false"><![CDATA[
	/****************************************************
	 * 화면 설명 : 휴가원신청
	 * 변경 이력 : 2022-06 박명목 최초생성
	            2022-09-02 이영희 수정
	 * serviceId : C21A
	 ****************************************************/     
	/**
	 * 페이지 로딩 이벤트
	 */      
	scwin.data={};
	    
	scwin.onpageload = function() {
		// 첨부파일 컴포넌트 초기화
		com.file.init();
		
		// dataMap 초기화
		com.initDataMap(dma_cgsInfo);
		
		// 숨기기
		btn_aply_anal.hide(); // 연차반영		
		grp_reason.hide(); // 사후결재사유
		
		// 시작일, 종료일중 숨김처리 이슈로 주석처리
//		com.checkPeriod(ica_from_ymd, ica_to_ymd);
		
		// parameter 설정
		dma_search.setJSON(com.getParameter());
		dma_search.set("anal_yr", com.getServerDateTime("yyyy"));
		
		// enter key event
		com.setEnterKeyEvent(grp_emp, scwin.btn_req_psn_onclick);
		com.setEnterKeyEvent(grp_agent, scwin.btn_agent_onclick);
		
		// 공통코드
		var codeOptions = [ { code : "HBI", compID :"sbx_holiday_clsf"}
						,	{ code : "CFR", compID :"sbx_care_relation" } // 나와의 관계
						,	{ code : "CBC", compID :"sbx_vaccine" } // 백신접종구분
						,	{ code : "CBA", compID :"sbx_vac_cause" } // 백신접종사유
						,	{ code : "CBS", compID :"sbx_vac_gb" } // 백신종류
						,	{ code : "CBD", compID :"sbx_vac_date" } // 접종시기
			];
		com.setCmnCd(codeOptions, function() {	
			var arr = dlt_cmnCd_HBI.getAllJSON();
			dlt_cmnCd_HBI.removeAll();
			dlt_cmnCd_HBI.reform();
			
			var i=0;
			arr.forEach(function(xad){
				// 2019-06-27, 대체휴가 제거, 대체휴가는 출장 및 사전근무신청서에서 신청
				// 2019-12-24, 임산부정기건강진단(오전) 제거, 임산부건강진단으로 대체
				// 2019-12-24, 임산부정기건강진단(오후) 제거, 임산부건강진단으로 대체
				if(!/HBI090|HBI040|HBI041/.test(xad.comCd)){
					dlt_cmnCd_HBI.insertRow(i);
					dlt_cmnCd_HBI.setRowJSON(i, xad, true);
					i++;
				}
			});	
		});
		
		
		if (dma_search.get("req_no") != ""){
			scwin.search();				
		} else {
			// 첨부파일
			com.file.create(upload_A.getID(), {fileKey: 'C21A', mode: 'edit'});
			
			var toDay = com.getServerDateTime('yyyyMMdd');
			dma_cgsInfo.set("holiday_clsf", "HBI006");
			scwin.setFormSetting("HBI006");
			dma_cgsInfo.set("holiday_cause", "개인사정");
			dma_cgsInfo.set("holiday_daycnt", 1);
			dma_cgsInfo.set("cud_type", "C");
			
			// 신규신청
			ibx_req_psn_empno.setValue(com.getLoginInfo("empno"));
			dma_cgsInfo.set("regst_psn_nm", com.getLoginInfo("cn") + "(" + com.getLoginInfo("empno") + ")");
			dma_cgsInfo.set('holiday_start_ymd', toDay);
			dma_cgsInfo.set('holiday_cls_ymd', toDay);
			scwin.getEmpInfo("ReqPsn", ibx_req_psn_empno.getValue());
			
			btn_apr.setDisabled(true);			
		}
		
	};
	
	scwin.onpageunload = function() {
		
	};	
	
	/**
	 * 휴가자 검색 버튼 클릭 이벤트
	 */ 
	scwin.btn_req_psn_onclick = function(e) {
		scwin.getEmpInfo("ReqPsn", ibx_req_psn_empno.getValue());
	};
	
	/**
	 * 직무대행 검색 버튼 클릭 이벤트
	 */ 
	scwin.btn_agent_onclick = function(e) {
		scwin.getEmpInfo("Agent", ibx_agent_empno.getValue());
	};
	
	/**
	 * 직원 검색수행
	 */ 
	scwin.getEmpInfo = function(type, empNo){
		var data = { empno : empNo, work_clsf : "HAG010" };
		if(empNo == ""){
			data.ref_yn = "Y";	
		}
		
		com.pop.open( com.pop.TYPE.HUM, data, function(ret){
			if(type == "ReqPsn"){				
				dma_cgsInfo.set("req_psn_syspayno",ret.syspayno);
				dma_cgsInfo.set("req_psn_empno",ret.empno);
				dma_cgsInfo.set("req_psn_nm",ret.nm);
				dma_cgsInfo.set("posi_nm",ret.posi_nm);
				dma_cgsInfo.set("req_psn_dept_cd",ret.dept_cd);
				dma_cgsInfo.set("req_psn_dept_ymd",ret.dept_new_ymd);
				dma_cgsInfo.set("req_psn_dept_nm",ret.dept_nm);
				dma_cgsInfo.set("req_psn_posi_cd",ret.posi_cd);
				dma_cgsInfo.set("contac_loc",ret.mobile);
				dma_cgsInfo.set("commute_cd",ret.commute_cd);
				dma_cgsInfo.set("entr_ymd",ret.entr_ymd);
				scwin.data.commuteCd = ret.commute_cd;
				
				// 시간제연차 시작시각 종료시각 설정
				scwin.initWorkTime(scwin.data.commuteCd);
				
				// 신청전잔여연차일수 조회, 미승인 연차 조회
				dma_search.set("syspayno", ret.syspayno);
				scwin.getPrivateAnalCnt();				
								
			}else if(type == "Agent"){
				dma_cgsInfo.set("agent_psn_syspayno",ret.syspayno);
				dma_cgsInfo.set("agent_psn_nm",ret.nm);
				dma_cgsInfo.set("agent_psn_empno",ret.empno);
			}
		});
	};
	
	/**
	 * 휴가사용내역
	 */  
	scwin.btn_Annual_onclick = function(e) {
		
		if(dma_cgsInfo.get("req_psn_syspayno") == "") return;
		
		var data = { sysPayNo : dma_cgsInfo.get("req_psn_syspayno"), displayType:"" };
		biz.ccs.pop.open(biz.ccs.pop.TYPE.VACA_CTNT, data, function(retObj) {
		});
	
	};
	
	/**
	 * 휴가구분 변경 이벤트
	 */  
	scwin.sbx_holiday_clsf_onviewchange = function(info) {
		// 휴가구분에 따른 폼셋팅
		scwin.setFormSetting(info.newValue);		
		
		iptHolidayCause.setValue("개인사정");
		sbx_holiday_start_hour.setValue("0");
		sbx_holiday_cls_hour.setValue("0");	
		
		switch (info.newValue) {
			case "HBI006": // 연차
				sbx_holiday_sub_clsf.setValue("");
				iptHolidayDays.setValue("1");
				break;
			case "HBI019": // 시간제연차	
				ica_to_ymd.setValue("");
				break;
			case "HBI013": // 가족돌봄휴가				
				break;
			case "HBI042": // 임산부정기건강진단				
				ica_to_ymd.setValue("");	
				dma_cgsInfo.set("holiday_sub_clsf", "");
				sbx_holiday_start_hour.setSelectedIndex(0);
				sbx_holiday_cls_hour.setSelectedIndex(0);
				iptHolidayDays.setValue("0");
				iptHolidayHour.setValue("0");
				break;
			case "HBI050": // 유산, 사산휴가
				sbx_holiday_sub_clsf.setSelectedIndex(0);
				break;
			case "HBI031": // 건강검진
				sbx_holiday_sub_clsf.setSelectedIndex(0);
				break;
			case "HBI055": // 난임휴가
				sbx_holiday_sub_clsf.setSelectedIndex(0);
				break;
			case "HBI080": // 보상휴가
				ica_to_ymd.setValue("");
				iptHolidayDays.setValue("0");
				iptHolidayHour.setValue("0");
				
				scwin.calcRemainRewardTime();
			
			case "HBI100": // 공가-코로나19
				break;
			default:
				sbx_holiday_sub_clsf.setValue("");
				break;
		}
		
		if (grpCalClsYmd.getStyle('display') === 'none') {
			iptHolidayDays.setValue('1');	
		}
		scwin.calcRemainHoliDay();
	};
	
	/**
	 * 휴가구분 서브 변경 이벤트
	 */ 
	scwin.sbx_holiday_sub_clsf_onviewchang = function(info) {
		if (sbx_holiday_sub_clsf.getValue() == "특수 및 직원") {
			iptHolidayCause.setValue("특수 건강검진 및 직원 건강검진");
		} else if (sbx_holiday_sub_clsf.getValue() == "공단") {
			iptHolidayCause.setValue("국민건강보험법에 따른 건강검진(공단)");
		} else if (sbx_holiday_sub_clsf.getValue() == "체외수정"){
			iptHolidayCause.setValue("개인사정");
		} else if (sbx_holiday_sub_clsf.getValue() == "인공수정"){
			iptHolidayCause.setValue("개인사정");
		}
	};
	
	/**
	 * 휴가기간 시작일자 변경이벤트
	 */
	scwin.ica_from_ymd_onviewchang = function() {
		if(sbx_holiday_clsf.getValue() == "HBI090"){
			ica_to_ymd.setValue(this.getValue());
		}
		// 사용자 불편함으로 날짜가 역전하였을때 역전한 날짜로 세팅
		var startDay = dma_cgsInfo.get("holiday_start_ymd");
		var closeDay = dma_cgsInfo.get("holiday_cls_ymd");
		
		// 시간 단위 연차의 휴가 종료일을 휴가 시작일과 동일하게 가져가기 위한 조건문
		var holidayClsf = sbx_holiday_clsf.getValue();
		if(/HBI019|HBI040|HBI041|HBI042|HBI080/.test(holidayClsf)) {
			dma_cgsInfo.set("holiday_cls_ymd", startDay);
		} else {
			dma_cgsInfo.set("holiday_cls_ymd", (startDay - closeDay) > 0 ? startDay : closeDay);	
		}
		scwin.setHolidayDays();		
	};	
	
	/**
	 * 휴가기간 종료일자 변경 이벤트
	 */
	scwin.ica_to_ymd_onviewchang = function() {
		// 사용자 불편함으로 날짜가 역전하였을때 역전한 날짜로 세팅
		var startDay = dma_cgsInfo.get("holiday_start_ymd");
		var closeDay = dma_cgsInfo.get("holiday_cls_ymd");
		dma_cgsInfo.set("holiday_start_ymd", (startDay - closeDay) > 0 ? closeDay : startDay);
		scwin.setHolidayDays();
	};	
	
	/**
	 * 휴가기간 시작시간 변경 이벤트
	 */ 
	scwin.sbx_holiday_start_hour_onviewchang = function(info) {
		if ("HBI042" === sbx_holiday_clsf.getValue()) {
			var stTm = WebSquare.util.parseFloat(this.getValue(), 7.0);
			var edTm = stTm + 4;	// 종료시각 4시간 이후로 임시 설정
			edTm += Math.max(0, Math.min(13, edTm) - Math.max(12, stTm));	// 점심시간에 걸치는 시간만큼 종료시각을 늘려줌
			edTm += Math.max(0, Math.min(18.5, edTm) - Math.max(18, stTm));	// 저녁시간에 걸치는 시간만큼 종료시각을 늘려줌
		
			// 소숫점이 없는 경우 실수형태로 변경.
			edTm += (0 > (edTm+"").indexOf(".")) ? ".0" : "";
			sbx_holiday_cls_hour.setValue(edTm);
			
			if (1 > sbx_holiday_cls_hour.getSelectedIndex()) {
				alert("유효한 시간이 아닙니다. \n시간을 다시 설정해 주세요.");
				sbx_holiday_start_hour.setSelectedIndex(0);
				sbx_holiday_cls_hour.setSelectedIndex(0);
				return false;
			}
			
			iptHolidayCause.setValue("건강검진("+ sbx_holiday_start_hour.getText() +" ~ "+ sbx_holiday_cls_hour.getText() +")");
			iptHolidayCause.setReadOnly(true);								
		}
		
		scwin.calcHoliDayPeriodTime();
		
	};
	
	/**
	 * 휴가기간 종료시간 변경 이벤트
	 */ 
	scwin.sbx_holiday_cls_hour_onviewchang = function(info) {
		scwin.calcHoliDayPeriodTime();
		if ("HBI080" === sbx_holiday_clsf.getValue()){
			scwin.calcRemainRewardTime();
		} 
	};
	
	/**
	 * 저장버튼 클릭 이벤트
	 */
	scwin.btn_save_onclick = function(e) {
		scwin.data.aprYn = "N";
		dma_cgsInfo.set("approval", "false");
			
		// 필수입력값 체크
		if (!scwin.isCommonValid() || !scwin.isDetailValid("SAVE")) return;		
		
		com.confirm("message.xom.wq.017"/*저장 하시겠습니까?*/, function( ret) {
			if (ret) {
				scwin.save();
			}
		});
	};
	
	/**
	 * 삭제버튼 이벤트
	 */ 
	scwin.btn_del_onclick = function(e) {
		com.confirm("message.xom.wq.022"/*삭제 하시겠습니까?*/, function( ret) {
			if (ret) {
				com.file.deleteAll( function(){
					com.execute(sbm_delCgslapp, {
						successCallback : function(e) { // 성공 콜백
							if ('apr' == com.getParameter('param4')) {
								com.movePageMenu("A010", {});
								let dummyModal= document.querySelector('.w2modal_popup');
								if (dummyModal) {
									dummyModal.style.display = 'none';
								}
							} else {
								com.alert("message.xom.wq.023"/*정상적으로 처리되었습니다.*/, function() {
									com.moveList("C219", {mod :"delete"});
								});
							}
						}
					});
				});	
			}
		});
	};
	
	/**
	 * 결재문서보기 클릭 이벤트
	 */
	scwin.btn_apr_view_onclick = function(e) {
		if(dma_cgsInfo.get("holiday_clsf") == "HBI090"){
			alert("대체휴일은 자동결제되므로 결재문서가 없습니다.");
		}else{
			var url = "/ui/apr/layoutSimple.xml";
			var option = { type: "browserPopup", width: 1350, height: 1480, id: "snapshotPop", popupName: "결재문서"};
			var data = { reqNo: dma_cgsInfo.get("req_no")
			            , viewMode : "read"
			            , instStatus : (dma_cgsInfo.get("apr_state") == "XAD100")? "Completed" : "Running"
			};
			 
			com.openPopup(url, option, data);
		}
	};
	
	/**
	 * 연차반영 클릭 이벤트 
	 */
	scwin.btn_aply_anal_onclick = function(e) {
		
	};

	/**
	 * 시간제연차 보상휴가의 휴가기간 상세 세팅 (일, 시간)
	 */ 
	scwin.calcHoliDayPeriodTime = function() {
		// 시간및 종료 시간선택이 하나라도 안된 컴포넌트가 있다면 무시
		if (0 === sbx_holiday_start_hour.getSelectedIndex() || 0 === sbx_holiday_cls_hour.getSelectedIndex()) {
			return;
		}
		
		var stTm = WebSquare.util.parseFloat(sbx_holiday_start_hour.getValue(), 7.0);
		var edTm = WebSquare.util.parseFloat(sbx_holiday_cls_hour.getValue(), 19.5);
		if (0 != stTm && 0 != edTm && edTm <= stTm){
			alert("시작시간이 종료시간보다 클 수 없습니다.");
			sbx_holiday_start_hour.setSelectedIndex(0);
			sbx_holiday_cls_hour.setSelectedIndex(0);
			return false;
		}
										
		var calcHour = (edTm - stTm) 
			- Math.max(0, Math.min(13, edTm) - Math.max(12, stTm)) 		// 점심휴게시간 제외
			- Math.max(0, Math.min(18.5, edTm) - Math.max(18, stTm));	// 저녁휴게시간 제외

		if (0 != calcHour % 1) {
			alert("시간제연차의 단위는 1시간 입니다.");
			sbx_holiday_start_hour.setSelectedIndex(0);
			sbx_holiday_cls_hour.setSelectedIndex(0);
			return false;
		}
						
		if (8 <= calcHour && "HBI019" == sbx_holiday_clsf.getValue()){
			alert("시간제연차는 7시간 이하로 신청 가능 합니다.");
			sbx_holiday_start_hour.setSelectedIndex(0);
			sbx_holiday_cls_hour.setSelectedIndex(0);
			return false;
		}

		if (9 <= calcHour && "HBI080" == sbx_holiday_clsf.getValue()){
			alert("보상휴가는 8시간 이하로 신청 가능 합니다.");
			sbx_holiday_start_hour.setSelectedIndex(0);
			sbx_holiday_cls_hour.setSelectedIndex(0);
			return false;
		}				
		
		if (4 > calcHour && "HBI042" == sbx_holiday_clsf.getValue()){
			alert("임산부정기건강진단은 4시간으로만 신청 가능 합니다.");
			sbx_holiday_start_hour.setSelectedIndex(0);
			sbx_holiday_cls_hour.setSelectedIndex(0);
			return false;
		}	
		
		dma_cgsInfo.set("holiday_daycnt", calcHour * 0.125);
		iptHolidayHour.setValue(calcHour);
		
		// 신청전, 신청 후 잔여연차 구하기
		scwin.calcRemainHoliDay();		
	};
	
	/**
	 * 잔여연차일수(신청전연차일 - 휴가기간)
	 */ 
	scwin.calcRemainHoliDay = function() {
		var remidrAnalQty = WebSquare.util.parseFloat(dma_cgsAnal.get("remidr_anal_qty"), 0);
		var noAprQty = WebSquare.util.parseFloat(dma_cgsAnal.get("no_apr_qty"), 0); // 연차, 반차, 시간제 연차 미승인 일수
		var holidayDayCnt = WebSquare.util.parseFloat(dma_cgsInfo.get("holiday_daycnt"), 0);

		if(dma_cgsInfo.get("apr_state") == "XAD100" && /HBI006|HBI019|HBI020|HBI025/.test(dma_cgsInfo.get("holiday_clsf"))){
			// 신청전 잔여연차
			var beforeRemainDays = (remidrAnalQty +holidayDayCnt).toFixed(5);
			if (!isNaN(beforeRemainDays)){
				var tmp = Math.floor(beforeRemainDays);
				txtBeforeRemain.setValue(beforeRemainDays + "일 (" + tmp + "일 " + Math.floor((beforeRemainDays - tmp) / 0.125) + "시간)");
			}
			
			// 신청 후 잔여연차
			dma_cgsInfo.set("remain_holiday", remidrAnalQty);
			var tmp = Math.floor(remidrAnalQty);
			txtAfterRemain.setValue(remidrAnalQty + "일 (" + tmp + "일 " + Math.floor((remidrAnalQty - tmp) / 0.125) + "시간)");				
		}else{
			// 신청전 잔여연차
			var beforeRemainDays = (remidrAnalQty - noAprQty).toFixed(5);
			if (!isNaN(beforeRemainDays)){
				var tmp = Math.floor(beforeRemainDays);
				txtBeforeRemain.setValue(beforeRemainDays + "일 (" + tmp + "일 " + Math.floor((beforeRemainDays - tmp) / 0.125) + "시간)");
			}
			
			// 신청 후 잔여연차
			var afterRemainDays = remidrAnalQty - noAprQty;
			if(/HBI006|HBI019|HBI020|HBI025/.test(dma_cgsInfo.get("holiday_clsf"))){
				afterRemainDays = afterRemainDays - holidayDayCnt;
			}
			afterRemainDays = afterRemainDays.toFixed(5);
			dma_cgsInfo.set("remain_holiday", afterRemainDays);
			if (!isNaN(afterRemainDays)){
				var tmp = Math.floor(afterRemainDays);
				txtAfterRemain.setValue(afterRemainDays + "일 (" + tmp + "일 " + Math.floor((afterRemainDays - tmp) / 0.125) + "시간)");
			}
		}
		
		dma_cgsInfo.set("holiday_before_remain", txtBeforeRemain.getValue());
		dma_cgsInfo.set("remain_holiday", txtAfterRemain.getValue());
	};
	
	// 시간제연차의 사용 시각들을 추가한다.
	scwin.addWorkTime = function(component, startHour, closeHour, arrHour){
		component.removeAll(true);
		for (var value = startHour; value <= closeHour; value++){
			var label = (value <10  ? "0" + value : "" + value) + ":00";
			component.addItem( value + ".0", label);
			if ("HWT025" == dma_cgsInfo.get("commute_cd") && arrHour.some(function(hour){ return hour == value; })){
				component.addItem( value + ".5", label.replace(/:00/, ":30"));
			}
		}
	};
	
	// 시간제연차의 미사용 시각들을 삭제한다.
	scwin.delWorkTime = function(component, params){
		var delIndex = [];
		component.getItemArray().forEach( function(element, index){ 
			if (params.some(function(param){ return param == element.value; })) { 
				console.log("delete index: " + index);
				delIndex.push(index);
			}
		});
		while(delIndex.length > 0){
			component.deleteItem( delIndex.pop());
		}
	};
	
	// 시간제연차 시작시각 종료시각 설정
	scwin.initWorkTime = function(commuteCd, cgsInfo){
		var commnuteCd = scwin.data.commuteCd;	// 시간제연차 시작시각 종료시각 설정 (HWT025 시차출퇴근제)
		// 휴가시작일(해당일의 요일을 가져오기 위함)
		var holidayStartYmd = dma_cgsInfo.get("holiday_start_ymd") == "" ? cgsInfo.holiday_start_ymd : dma_cgsInfo.get("holiday_start_ymd");	
		var holidayStartDate = new Date(holidayStartYmd.substr(0,4) + "-" + holidayStartYmd.substr(4,2) + "-" + holidayStartYmd.substr(6,2));
		debugger; 
		if(holidayStartDate.getDay() == 5 && holidayStartYmd > "20230401") {
			scwin.addWorkTime(sbx_holiday_start_hour, 8, ("HWT025" == commnuteCd ? 18 : 17), ['9','16','17','18']);
			scwin.addWorkTime(sbx_holiday_cls_hour, 9, ("HWT025" == commnuteCd ? 19 : 18), ['10','17','19']);
		} else {
			scwin.addWorkTime(sbx_holiday_start_hour, 9, ("HWT025" == commnuteCd ? 18 : 17), ['9','16','17','18']);
			scwin.addWorkTime(sbx_holiday_cls_hour, 10, ("HWT025" == commnuteCd ? 19 : 18), ['10','17','19']);
		}
		scwin.delWorkTime(sbx_holiday_start_hour, ['12','12.5','18']);
		scwin.delWorkTime(sbx_holiday_cls_hour, ['12.5','13','18.5']);
	};
	
	/**
	 * 휴가구분에 따른 폼 셋팅
	 */ 
	scwin.setFormSetting = function(holidayClsf, cgsInfo){		
		sbx_holiday_sub_clsf.hide();
		grpHolidayTime.hide();
		grpHolidaySubReward.hide(); // 보상휴가 사용
		grpHolidayHour.hide(); // 시간
		grpCareState.hide(); // 사용일수
		grpCalClsYmd.show("inline-block"); // 종료일자
		
		grpMidBody.hide(); // 돌봄가족정보
		grpVaccine.hide(); // 코로나 백신정보
		btn_aply_anal.hide(); // 적용연차
		
		sbx_holiday_cls_hour.setReadOnly(false); 
		iptHolidayCause.setReadOnly(false);
		
		switch (holidayClsf) {
			case "HBI006": // 연차
				btn_aply_anal.show("");
				iptHolidayDays.setReadOnly(false);				
				break;
			case "HBI019": // 시간제연차
				iptHolidayDays.setReadOnly(true);				
				grpHolidayTime.show("inline-block");
				grpHolidayHour.show("inline-block");				
				grpCalClsYmd.hide();
				ica_to_ymd.setValue("");
				// 시작시간, 종료시간 셋팅
				scwin.initWorkTime(scwin.data.commuteCd, cgsInfo);
				break;
			case "HBI013": // 가족돌봄휴가
				grpMidBody.show("");
				grpCareState.show("inline-block");
				break;
			case "HBI040":
			case "HBI041":
			case "HBI042": // 임산부정기건강진단
				sbx_holiday_sub_clsf.show("");
				sbx_holiday_sub_clsf.removeAll();
				sbx_holiday_sub_clsf.addItem("", "-선택-", 0);
				sbx_holiday_sub_clsf.addItem("~28주", "~28주", 1);
				sbx_holiday_sub_clsf.addItem("29주~36주", "29주~36주", 2);
				sbx_holiday_sub_clsf.addItem("37주~", "37주~", 3);
				
				grpCalClsYmd.hide();
				ica_to_ymd.setValue("");
				sbx_holiday_cls_hour.setReadOnly(true);
				iptHolidayDays.setReadOnly(true);						
				
				if(holidayClsf == "HBI042"){
					grpHolidayTime.show("inline-block");
				 	grpHolidayHour.show("inline-block");	
				 	
				 	// 시작시간, 종료시간 셋팅
					scwin.initWorkTime(scwin.data.commuteCd, cgsInfo);	
				}				
				break;
			case "HBI050": // 유산, 사산휴가
				sbx_holiday_sub_clsf.show("");
				sbx_holiday_sub_clsf.removeAll();
				sbx_holiday_sub_clsf.addItem("", "-선택-", 0);
				sbx_holiday_sub_clsf.addItem("~11주", "~11주", 1);
				sbx_holiday_sub_clsf.addItem("12~15주", "12~15주", 2);
				sbx_holiday_sub_clsf.addItem("16~21주", "16~21주", 3);
				sbx_holiday_sub_clsf.addItem("22~27주", "22~27주", 4);
				sbx_holiday_sub_clsf.addItem("28주~", "28주~", 5);
				iptHolidayDays.setReadOnly(false);
				break;
			case "HBI031": // 건강검진
				sbx_holiday_sub_clsf.show("");
				sbx_holiday_sub_clsf.removeAll();
				sbx_holiday_sub_clsf.addItem("", "-선택-", 0);
				sbx_holiday_sub_clsf.addItem("특수 및 직원", "특수 및 직원", 1);
				sbx_holiday_sub_clsf.addItem("공단", "공단", 2);
				
				grpCalClsYmd.hide();
				ica_to_ymd.setValue("");
				iptHolidayDays.setReadOnly(true);
				iptHolidayCause.setReadOnly(true);
				break;
			case "HBI055": // 난임휴가
				sbx_holiday_sub_clsf.show("");
				sbx_holiday_sub_clsf.removeAll();
				sbx_holiday_sub_clsf.addItem("", "-선택-", 0);
				sbx_holiday_sub_clsf.addItem("체외수정", "체외수정", 1);
				sbx_holiday_sub_clsf.addItem("인공수정", "인공수정", 2);
				iptHolidayDays.setReadOnly(false);
				break;
			case "HBI080": // 보상휴가
				iptHolidayDays.setReadOnly(true);
				grpHolidayTime.show("inline-block");
				grpHolidayHour.show("inline-block");
				grpHolidaySubReward.show("inline-block");
				grpCalClsYmd.hide();
				ica_to_ymd.setValue("");
				
				// 시작시간, 종료시간 셋팅
				scwin.initWorkTime(scwin.data.commuteCd, cgsInfo);
				break;
			
			case "HBI100": // 공가-코로나19
				grpVaccine.show("");
				break;
			case "HBI090" :
				grpCalClsYmd.hide();
				ica_to_ymd.setValue("");
				break;
			default:
				iptHolidayDays.setReadOnly(false);
				break;
		}
		sbx_holiday_start_hour.setValue('');
		sbx_holiday_cls_hour.setValue('');
		iptHolidayHour.setValue('');
	};
	
	/**
	 * 잔여보상휴가일수(전체보상휴가일수, 사용일수, 잔여일수)
	 */ 
	scwin.calcRemainRewardTime = function(){
		//시간제연차, 보상휴가의 휴가기간 상세 세팅 (일, 시간)
		scwin.calcHoliDayPeriodTime();
		
		var tot_cnt = WebSquare.util.parseFloat(dma_cgsAnal.get("tot_com_qty"), 0);
		var remainCnt = WebSquare.util.parseFloat(dma_cgsAnal.get("remain_com_qty"), 0);
		var prvUseCnt = WebSquare.util.parseFloat(dma_cgsAnal.get("use_com_qty"), 0);
		var curUseCnt = WebSquare.util.parseFloat(iptHolidayDays.getValue(), 0);
		
		txtRewardUsed.setValue(prvUseCnt + curUseCnt); // 사용
		txtRewardRemain.setValue(remainCnt - curUseCnt);
		beforeRewardRemain.setValue(remainCnt + "일 " +" ("+   Math.floor(remainCnt) +"일 "+Math.floor((remainCnt - Math.floor(remainCnt))/0.125) +"시간"+")");
		
		if(sbx_holiday_clsf.getValue() == "HBI080") {
			if(txtRewardRemain.getValue()  > 0 ){
				var txtRewardRemainDay = Math.floor(txtRewardRemain.getValue());
				var txtRewardRemainHH = Math.floor((txtRewardRemain.getValue()  - Math.floor(txtRewardRemain.getValue() ))/0.125);
				afterRewardRemain.setValue(txtRewardRemain.getValue() + "일" +" (" + txtRewardRemainDay  + "일" +  txtRewardRemainHH +"시간"+")");
			}else if (txtRewardRemain.getValue() < 0 ){
				var txtRewardRemainDay = Math.floor(Math.abs(tot_cnt -txtRewardUsed.getValue()));
				var txtRewardRemainHH = Math.floor((txtRewardRemain.getValue() - Math.floor(txtRewardRemainDay))/0.125)
				afterRewardRemain.setValue(txtRewardRemain.getValue() + " 일" +" ("+ "-" + txtRewardRemainDay +  "일" + Math.abs(txtRewardRemainHH)  + "시간"+")");
			}else{
				afterRewardRemain.setValue(txtRewardRemain.getValue() + " 일" +" ("+ "0 일" + "0 시간"+")");
			}
		}else{
			afterRewardRemain.setValue(remainCnt + "일 " +" ("+   Math.floor(remainCnt) +"일 "+Math.floor((remainCnt - Math.floor(remainCnt))/0.125) +"시간"+")");
		}
		
		dma_cgsInfo.set("apr_beforeRewardRemain", beforeRewardRemain.getValue());
		dma_cgsInfo.set("apr_afterRewardRemain", afterRewardRemain.getValue());
	};
	
	/**
	 * 적용연차 버튼 클릭 이벤트
	 */ 
	scwin.btn_aply_anal_onclick = function(e) {
		var data = { sysPayNo : dma_cgsInfo.get("req_psn_syspayno"),  //사번
			reqNo : dma_cgsInfo.get("req_no"),
			aprState : dma_cgsInfo.get("apr_state"),  //사용일수
			iptHolidayDays : iptHolidayDays.getValue(),  //사용일수
			txtBeforeRemain : txtBeforeRemain.getValue(),  //신청전잔여연차
			txtAfterRemain : txtAfterRemain.getValue(),  //신청후잔여연차
			cud_type : dma_cgsInfo.get("cud_type"),
			anal_yr00 : dma_cgsInfo.get("save_anal_yr00"),  //당월연차
			anal_yr01 : dma_cgsInfo.get("save_anal_yr01"),  //저축1년
			anal_yr02 : dma_cgsInfo.get("save_anal_yr02"),  //저축2년
			anal_yr03 : dma_cgsInfo.get("save_anal_yr03"),  //저축3년
			anal_yr04 : dma_cgsInfo.get("save_anal_yr04"),  //저축4년
			anal_yr05 : dma_cgsInfo.get("save_anal_yr05"),  //저축5년
			anal_yr06 : dma_cgsInfo.get("save_anal_yr06"),  //저축6년
			anal_yr07 : dma_cgsInfo.get("save_anal_yr07"),  //저축7년
			anal_yr08 : dma_cgsInfo.get("save_anal_yr08"),  //저축8년
			anal_yr09 : dma_cgsInfo.get("save_anal_yr09"),  //저축9년
			anal_yr10 : dma_cgsInfo.get("save_anal_yr10"),  //저축10년
		};		
		
		biz.ccs.pop.open(biz.ccs.pop.TYPE.VACA_PSN, data, function(retObj) {
			dma_cgsInfo.set("save_anal_yr00", retObj.save_anal_yr00);
			dma_cgsInfo.set("save_anal_yr01", retObj.save_anal_yr01);
			dma_cgsInfo.set("save_anal_yr02", retObj.save_anal_yr02);
			dma_cgsInfo.set("save_anal_yr03", retObj.save_anal_yr03);
			dma_cgsInfo.set("save_anal_yr04", retObj.save_anal_yr04);
			dma_cgsInfo.set("save_anal_yr05", retObj.save_anal_yr05);
			dma_cgsInfo.set("save_anal_yr06", retObj.save_anal_yr06);
			dma_cgsInfo.set("save_anal_yr07", retObj.save_anal_yr07);
			dma_cgsInfo.set("save_anal_yr08", retObj.save_anal_yr08);
			dma_cgsInfo.set("save_anal_yr09", retObj.save_anal_yr09);
			dma_cgsInfo.set("save_anal_yr10", retObj.save_anal_yr10);
		});
	};
	
	
	/** 여러날에 걸쳐 사용하는 휴가원의 휴가일수 자동 세팅 */
	scwin.setHolidayDays = function() {
		var startDay = dma_cgsInfo.get("holiday_start_ymd");
		var closeDay = dma_cgsInfo.get("holiday_cls_ymd");
		var holidayStartYmd = dma_cgsInfo.get("holiday_start_ymd");	// 휴가시작일(해당일의 요일을 가져오기 위함)
		var holidayStartDate = new Date(holidayStartYmd.substr(0,4) + "-" + holidayStartYmd.substr(4,2) + "-" + holidayStartYmd.substr(6,2));

		if ("" != startDay && "" != closeDay) {
			dma_search.set("start_ymd", startDay);
			dma_search.set("cls_ymd", closeDay);			
			
			// 시간제연차/보상휴가의 경우 4월 1일부로 금요일은 8시부터 신청할 수 있기에 시작시간 재세팅			 
			if(/HBI080|HBI019/.test(dma_cgsInfo.get("holiday_clsf"))) {
				scwin.initWorkTime(scwin.data.commuteCd);
			}
			
			com.execute(sbm_workDays, {
				successCallback : function(e) {

					// 위에서 통일한 날짜로 세팅
					dma_cgsInfo.set("holiday_start_ymd", dma_search.get("start_ymd"));
					dma_cgsInfo.set("holiday_cls_ymd", dma_search.get("cls_ymd"));

					// 시간제연차/보상휴가의 경우 휴가일수 재세팅			 
					if(/HBI080|HBI019/.test(dma_cgsInfo.get("holiday_clsf"))) {
						iptHolidayDays.setValue(0);
						iptHolidayHour.setValue(0);
					} else {
						iptHolidayDays.setValue(e.responseJSON.work_days);
					}
					// 신청전, 신청 후 잔여연차 구하기
					scwin.calcRemainHoliDay();
				}
			});
		}		
	};
	
	/** 잔여 연차일수, 미승인 연차일수, 돌봄휴가일수 조회 */
	scwin.getPrivateAnalCnt = function(syspayno) {
		if(ica_from_ymd.getValue() != ""){
			dma_search.set("year", ica_from_ymd.getFormattedValue("yyyy"));
		}
		
		com.execute(sbm_analCnt, {
			successCallback : function(e) {					
				// 잔여연차 조회
				scwin.calcRemainHoliDay();
				
				// 잔여보상휴가
				scwin.calcRemainRewardTime();
			}
		});
	};
	
	/**
	 * 조회
	 */
	scwin.search = function(){
		com.biz.checkRole({ serviceId : "C21A", roleCodes : com.getLoginInfo('roleCode')}, function(e){
			scwin.data.isRoleYn = e.isRoleYn;
			com.execute(sbm_searchInfo, {
				successCallback : function(e) {
					//사후결재사유
					if(dma_postApr.get("reason") != ""){
						grp_reason.show("");
					}
					debugger;
					// 시작시간, 종료시간 셋팅
					var cgsInfo = e.responseJSON.elData.cgslappVo;
					var startHour = cgsInfo.holiday_start_hour+"";
					var clsHour = cgsInfo.holiday_cls_hour+"";				
					cgsInfo.holiday_start_hour = (startHour.indexOf('.') > -1)? startHour : (startHour + ".0");
					cgsInfo.holiday_cls_hour = (clsHour.indexOf('.') > -1)? clsHour : (clsHour + ".0");
					// commuteCd
					scwin.data.commuteCd = cgsInfo.commute_cd;
					
					// 휴가구분에 따른 폼셋팅
					scwin.setFormSetting(cgsInfo.holiday_clsf, cgsInfo);	
					
					// data setting
					dma_cgsInfo.setJSON(cgsInfo);
					dma_cgsAnal.setJSON(e.responseJSON.elData.cgslappAnalVo);
					dma_postApr.setJSON(e.responseJSON.elData.postAprVo);
					
					// 첨부파일	
					var vMode = "edit";
					if (dma_cgsInfo.get("apr_state") >= "XAD020" && !(scwin.data.isRoleYn)) {
						vMode = "view";
					}		
					var attachFileNo = dma_cgsInfo.get("attach_file_no");
					com.file.create(upload_A.getID(), {fileKey: (attachFileNo == "")?"C21A":attachFileNo , mode: vMode});
					
					// 버튼 제어
					if (dma_cgsInfo.get("apr_state") >= "XAD020") btn_apr_view.setDisabled(false);
					com.biz.disabledButtons(dma_cgsInfo.get("apr_state"),dma_cgsInfo.get("req_no"));
					
					if (scwin.data.isRoleYn) {
						btn_save.setDisabled(!scwin.data.isRoleYn);
					}

					var regstPsnNm = dma_cgsInfo.get("regst_psn_nm");
					var regstEmpNo = regstPsnNm.replace(/[^0-9]/g,'');
					// 신청자와 세션이 다를 경우 화면 비활성화
					if((dma_cgsInfo.get("req_psn_syspayno") != com.getLoginInfo("sn") && regstEmpNo != com.getLoginInfo("empno")) && !(scwin.data.isRoleYn)){
						grp_holi_info.setReadOnly(true);
						btn_Annual.setDisabled(true);
						grp_care.setReadOnly(true);
						btn_save.setDisabled(true);
						btn_apr.setDisabled(true);
					}
					
					// 휴가구분에 따른 폼셋팅
					switch(dma_cgsInfo.get("holiday_clsf_nm")){
						case "임산부정기건강진단(오전)" :
							var data= {grpCd : "HBI", grpNm : "휴가구분", comCd : "HBI040", comNm : "임산부정기건강진단(오전)", useEx:"Y", cdClsf:"HBI"};
							dlt_cmnCd_HBI.setRowJSON(dlt_cmnCd_HBI.getRowCount(), data, false);
							sbx_holiday_clsf.setValue("HBI040");
							sbx_holiday_clsf.setDisabled(true);
							break;
						case "임산부정기건강진단(오후)":
							var data= {grpCd : "HBI", grpNm : "휴가구분", comCd : "HBI041", comNm : "임산부정기건강진단(오후)", useEx:"Y", cdClsf:"HBI"};
							dlt_cmnCd_HBI.setRowJSON(dlt_cmnCd_HBI.getRowCount(), data, false);
							
							sbx_holiday_clsf.setValue("HBI041");
							sbx_holiday_clsf.setDisabled(true);
							break;
						case "대체휴일":
							var data= {grpCd : "HBI", grpNm : "휴가구분", comCd : "HBI090", comNm : "대체휴일", useEx:"Y", cdClsf:"HBI"};
							dlt_cmnCd_HBI.setRowJSON(dlt_cmnCd_HBI.getRowCount(), data, false);
							
							sbx_holiday_clsf.setValue("HBI090");
							sbx_holiday_clsf.setDisabled(true);
							break;
					}
					
					// 백신접종구분
					if(dma_cgsInfo.get("vaccine") == "CBC002"){
						grpVaccine2.hide();
					}else{
						grpVaccine2.show("inline-block");
					}
					
					// 잔여연차
					scwin.calcRemainHoliDay();
					
					// 잔여보상휴가
					scwin.calcRemainRewardTime();					
				}
			});
		});
	};
	
	/** 읽기전용 상태 설정 */
	scwin.setReadOnly = function(){
		// iptHolidayDays.setReadOnly(true);
		ibx_req_psn_empno.setReadOnly(true);
		sbx_holiday_clsf.setReadOnly(true);
		iptHolidayCause.setReadOnly(true);
		ica_from_ymd.setReadOnly(true);
		ica_to_ymd.setReadOnly(true);
		sbx_holiday_start_hour.setReadOnly(true);
		sbx_holiday_cls_hour.setReadOnly(true);
		ibx_agent_empno.setReadOnly(true);	
		btn_req_psn.setDisabled(true);
		btn_agent.setDisabled(true);
		btn_Annual.setDisabled(true);
	};
	
	/**
	 * 저장
	 */
	scwin.save = function() {
		//건강검진의 경우 시작일과 종료일을 같은 날로 세팅 --> 자바에서 세팅하도록 변경
		if(/HBI006|HBI019|HBI020|HBI025/.test(dma_cgsInfo.get("holiday_clsf"))){
			//연차신청 시 적용연차 <> 실연차 다른경우 (저축연차 미선택시)
			var saveAnalQty = Number(dma_cgsInfo.get("save_anal_yr00")) 
								+ Number(dma_cgsInfo.get("save_anal_yr01")) 
								+ Number(dma_cgsInfo.get("save_anal_yr02")) 
								+ Number(dma_cgsInfo.get("save_anal_yr03"))
								+ Number(dma_cgsInfo.get("save_anal_yr04")) 
								+ Number(dma_cgsInfo.get("save_anal_yr05")) 
								+ Number(dma_cgsInfo.get("save_anal_yr06")) 
								+ Number(dma_cgsInfo.get("save_anal_yr07"))
				 				+ Number(dma_cgsInfo.get("save_anal_yr08")) 
				 				+ Number(dma_cgsInfo.get("save_anal_yr09")) 
				 				+ Number(dma_cgsInfo.get("save_anal_yr10"));
			if(saveAnalQty  != iptHolidayDays.getValue()) {
				scwin.setSaveAnalYr();
			}
			//종료일자 기본값 추가
			if(!dma_cgsInfo.get("holiday_cls_ymd")) {
				dma_cgsInfo.set("holiday_cls_ymd", dma_cgsInfo.get("holiday_start_ymd"));
			}
		}
		
		com.file.transport( function( attachObj){
			dma_cgsInfo.set("attach_file_no", attachObj.upload_A);
			dma_cgsInfo.set("validAttachNo", attachObj.upload_A);
			dma_cgsInfo.set("command", "NOCHECK");
			
			com.execute(sbm_saveCgslapp, {
				successCallback : function(e) { // 성공 콜백
					if(scwin.data.aprYn == "Y"){
						// 결재화면 이동
						com.movePageMenu("A001", { "reqNo" :  dma_search.get("req_no")});
					}else{
						com.alert("message.xom.wq.023"/*정상적으로 처리되었습니다.*/, function() {
							scwin.search();
						});
					}
				} ,
				exceptionCallback : function(resObj) {
					var resultCd = gcm.sbm.getResCode(resObj);
					var msg = gcm.lang.getMsg(resultCd);
					var resJSON = resObj.responseJSON || null;
					var resultMsg = gcm.sbm.getResMsg(resObj); 
					
					if (gcm.util.isEmpty(msg) || msg == resultCd || msg.indexOf("{0}") != -1) { 
						// resultCd가 등록되지 않은 메시지 코드인 경우 resultMsg alert
						msg = resultMsg;
					}
					if (!com.isEmpty(resJSON.userHeader.errBusiness)) {
						msg = "["+ resJSON.userHeader.errBusiness +"] "+ msg;
					}
					if (resJSON.userHeader.errKind == "ALERT") {
						com.alert(msg);
					} else if (resJSON.userHeader.errKind == "ERROR") {
						com.error(msg);
					} else {
						com.warn(msg);
					}
					
					if (sbx_holiday_clsf.getValue() == "HBI031") dma_cgsInfo.set("holiday_cls_ymd","");
				}
			});
		});
	};
	
	
	/** 공통 유효성 체크 */
	scwin.isCommonValid = function() {
		if (!com.validateData(dma_cgsInfo,[
				{ id : "req_psn_syspayno", mandatory : true},
				{ id : "holiday_clsf", mandatory : true},
				{ id : "holiday_cause", mandatory : true},
				{ id : "holiday_start_ymd", mandatory : true},
				{ id : "agent_psn_syspayno", mandatory : true},
			], false)
			) return false;
		
		if (/HBI040|HBI041|HBI042|HBI050|HBI031|HBI055/.test(dma_cgsInfo.get("holiday_clsf"))){
			if (sbx_holiday_sub_clsf.getValue() == "") {
				alert("휴가소구분을 선택해 주세요");
				sbx_holiday_sub_clsf.focus();
				return false;
			}
		}
		
		// HBI080 보상휴가, HBI019	시간제연차, HBI042	임산부정기건강진단
		if (!/HBI080|HBI019|HBI042|HBI031/.test(dma_cgsInfo.get("holiday_clsf")) && dma_cgsInfo.get("holiday_cls_ymd").trim() == "" ) {
			alert("휴가일자 종료일 선택해 주세요"+dma_cgsInfo.get("holiday_clsf"));
			ica_to_ymd.focus();
			return false;
		}		
		
		var holidayDays = iptHolidayDays.getValue();
		if ("" == holidayDays || !(/^-?\d*(\.\d+)?$/).test(iptHolidayDays.getValue())) {
			iptHolidayDays.focus();
			alert("휴가일수가 올바르게 입력되지 않았습니다.");
			return false;
		}		
		
		var remidrAnalQty = WebSquare.util.parseFloat(dma_cgsAnal.get("remidr_anal_qty"), 0);
		var noAprQty = WebSquare.util.parseFloat(dma_cgsAnal.get("no_apr_qty"), 0); // 연차, 반차, 시간제 연차 미승인 일수
		var holidayCnt = (Number(dma_cgsInfo.get("holiday_daycnt"))%1 ==0) ? com.parseInt(dma_cgsInfo.get("holiday_daycnt"))+"" : com.parseInt(dma_cgsInfo.get("holiday_daycnt"));
		var beforeRemainDays = (remidrAnalQty - noAprQty).toFixed(5);
		if ((beforeRemainDays - holidayCnt < 0) && /HBI006|HBI019|HBI020|HBI025/.test(dma_cgsInfo.get("holiday_clsf"))) {
			alert("잔여연차가 부족하여 휴가원 신청을 하실 수 없습니다.");
			return false;
		}

		return true;
	};
	
	/** 휴가구분별 유효성 체크 */
	scwin.isDetailValid = function(btnClickType) {
		var btnClickType = (btnClickType === null && btnClickType === undefined) ? "" : btnClickType;	// undefined/null체크
		var holidayClsf = sbx_holiday_clsf.getValue(); // 휴가구분
		var holidayStartYmd = dma_cgsInfo.get("holiday_start_ymd");	// 휴가시작일(해당일의 요일을 가져오기 위함)
		var holidayStartDate = new Date(holidayStartYmd.substr(0,4) + "-" + holidayStartYmd.substr(4,2) + "-" + holidayStartYmd.substr(6,2));
		
		if (holidayClsf == "HBI006") {	// 연차
			var holidayCnt = (Number(dma_cgsInfo.get("holiday_daycnt"))%1 ==0)? com.parseInt(dma_cgsInfo.get("holiday_daycnt"))+"" : dma_cgsInfo.get("holiday_daycnt")+"";
			if (holidayCnt.indexOf('.') > -1){
				alert("연차 일수는 소수점 이하 입력을 할 수 없습니다.");
				iptHolidayDays.setValue("");
				return false;
			}
			if ( 0 == dma_cgsInfo.get("holiday_daycnt") ){
				alert("연차 일수는 0일을 입력할 수 없습니다.");
				return false;
			}
//		} else if (holidayClsf == "HBI008") {	// 병가
//			if (dma_cgsInfo.get("holiday_start_ymd").substring(0,4) != dma_cgsInfo.get("holiday_cls_ymd").substring(0,4)){
//				alert("병가는 연단위로 사용하여야 합니다.");
//				ica_to_ymd.focus();
//				return false;
//			}
		} else if (holidayClsf == "HBI019") { // 시간제 연차인 경우
			var stTm = WebSquare.util.parseFloat( dma_cgsInfo.get("holiday_start_hour"), 9);
			var edTm = WebSquare.util.parseFloat( dma_cgsInfo.get("holiday_cls_hour"), 18);
			if (7 > stTm || 19.5 < edTm || 0 == edTm) {
				alert("시간제연차의 신청시간이 올바르지 않습니다.");
				return false;
			}
			
			if(btnClickType == "APR" && 11 == stTm && 14 == edTm && holidayStartDate.getDay() != 5 && holidayStartYmd > "20230401") {
				alert("<시간제연차/보상휴가를 코어타임(집중근무시간 11시 ~ 14시)에 상신하여 1일의 연차와 동일하게 사용하는 것은 불가합니다.\n 위 시간에 휴가원 상신 후, 출근 혹은 퇴근 태그 등 기록이 없으면 근무시간 누락으로 나오니 참고 부탁드립니다.>");
			} else if(btnClickType == "APR" && 10 == stTm && 14 == edTm && holidayStartYmd < "20230401"){
				alert("<시간제연차/보상휴가를 코어타임(집중근무시간 10시 ~ 14시)에 상신하여 1일의 연차와 동일하게 사용하는 것은 불가합니다.\n 위 시간에 휴가원 상신 후, 출근 혹은 퇴근 태그 등 기록이 없으면 근무시간 누락으로 나오니 참고 부탁드립니다.>");
			}
			
			if ((edTm-stTm) > 8 ){
				alert("시간제연차는 7시간 이내로 선택하십시오.");
				sbx_holiday_start_hour.setValue("0");
				sbx_holiday_cls_hour.setValue("0");
				return false;
			}
		} else if (holidayClsf == "HBI013") { // 가족돌봄휴가 경우
			if ("" == idx_care_name.getValue() || "" == sbx_care_relation.getValue() || "" == ica_care_birth_ymd.getValue()){
				alert("가족돌봄휴가 신청시 관련 정보는 필수입니다.");
				idx_care_name.focus();
				return false;
			}
			
			var useCnt = WebSquare.util.parseInt( dma_cgsAnal.get("care_cnt"), 10);
			var curCnt = WebSquare.util.parseInt( dma_cgsInfo.get("holiday_daycnt"), 10);
			if (10 < useCnt+curCnt){
				alert("가족돌봄휴가는 연간 10일을 넘을 수 없습니다.");
				iptHolidayDays.focus();
				return false;
			}
		} else if (holidayClsf == "HBI030") { // 입양휴가인 경우
			if (dma_cgsInfo.get("holiday_daycnt") > 14) {
				alert("입양휴가 신청건당 최대휴가일수는 14일까지입니다.");
				iptHolidayDays.focus();
				return false;
			}
		} else if (/HBI040|HBI041/.test(holidayClsf)) { // 반차오전 및 반차오후인 경우
			if (dma_cgsInfo.get("holiday_start_ymd") != dma_cgsInfo.get("holiday_cls_ymd")) {
				alert("반차휴가는 여러 날에 걸쳐서 신청할 수 없습니다.");
				ica_to_ymd.focus();
				return false;
			}
			if (0.5 != dma_cgsInfo.get("holiday_daycnt")) {
				alert("반차휴가는 0.5일입니다.");
				iptHolidayDays.setValue("0.5");
				return false;
			}
		} else if (holidayClsf == "HBI042") { // 임산부정기건강진단 경우
			var stTm = WebSquare.util.parseFloat( dma_cgsInfo.get("holiday_start_hour"));
			var edTm = WebSquare.util.parseFloat( dma_cgsInfo.get("holiday_cls_hour"));
			if (isNaN(stTm) || isNaN(edTm)) {
				alert("임산부정기건강진단의 신청시간이 올바르지 않습니다.");
				return false;
			}
		} else if (holidayClsf == "HBI055") { // 난임휴가인 경우
			if ("체외수정" == sbx_holiday_sub_clsf.getValue() && (dma_cgsInfo.get("holiday_daycnt") < 1 || dma_cgsInfo.get("holiday_daycnt") > 2)) {
				alert("난임휴가 체외수정의 경우 1~2일 사용 가능 합니다.");
				iptHolidayDays.setValue("1");
				return false;
			}
			
			if ("인공수정" == sbx_holiday_sub_clsf.getValue() && dma_cgsInfo.get("holiday_daycnt") != 1) {
				alert("난임휴가 인공수정의 경우 1일이 기본입니다.");
				iptHolidayDays.setValue("1");
				return false;
			}
		} else if (holidayClsf == "HBI080") { // 보상휴가인 경우
			if (0 == sbx_holiday_start_hour.getSelectedIndex() || 0 == sbx_holiday_cls_hour.getSelectedIndex()){
				alert("보상휴가의 시작시각과 종료시각을 설정하여 주십시오.");
				sbx_holiday_start_hour.focus();
				return false;
			}
			var remainCnt = WebSquare.util.parseFloat(txtRewardRemain.getValue(), 0);
			if (remainCnt < 0){
				alert("잔여 보상휴가가 부족합니다.");
				dma_cgsInfo.set("holiday_start_hour","0");
				dma_cgsInfo.set("holiday_cls_hour","0");
				return false;
			}
			var stTm = WebSquare.util.parseFloat( dma_cgsInfo.get("holiday_start_hour"), 9);
			var edTm = WebSquare.util.parseFloat( dma_cgsInfo.get("holiday_cls_hour"), 18);
			if (7 > stTm || 19.5 < edTm || 0 == edTm) {					
				alert("보상휴가 신청시간이 올바르지 않습니다.");
				return false;
			}
			
			if ((edTm-stTm) > 9 ){
				alert("보상휴가는 8시간 이내로 선택하십시오.");
				dma_cgsInfo.set("holiday_start_hour","0");
				dma_cgsInfo.set("holiday_cls_hour","0");
				return false;
			}
			
			if(btnClickType == "APR" && 11 == stTm && 14 == edTm && holidayStartDate.getDay() != 5 && holidayStartYmd > "20230401") {
				alert("<시간제연차/보상휴가를 코어타임(집중근무시간 11시 ~ 14시)에 상신하여 1일의 연차와 동일하게 사용하는 것은 불가합니다.\n 위 시간에 휴가원 상신 후, 출근 혹은 퇴근 태그 등 기록이 없으면 근무시간 누락으로 나오니 참고 부탁드립니다.>");
			} else if(btnClickType == "APR" && 10 == stTm && 14 == edTm && holidayStartYmd < "20230401"){
				alert("<시간제연차/보상휴가를 코어타임(집중근무시간 10시 ~ 14시)에 상신하여 1일의 연차와 동일하게 사용하는 것은 불가합니다.\n 위 시간에 휴가원 상신 후, 출근 혹은 퇴근 태그 등 기록이 없으면 근무시간 누락으로 나오니 참고 부탁드립니다.>");
			}
		} else if (holidayClsf == "HBI100") { // 공가-코로나19인 경우 백신접종구분 필수값 처리	
			if ("" == dma_cgsInfo.get("vaccine")) {
				alert("백신접종구분을 선택해주시길 바랍니다.");
				return false;
			}
			
			if(dma_cgsInfo.get("vaccine") == "CBC001"){
				if(dma_cgsInfo.get("vac_cause") == "" || dma_cgsInfo.get("vac_gb") == "" || dma_cgsInfo.get("vac_date") == "" ){
					alert("공가-코로나19로 백신접종인 경우 백신접종사유, 백신종류, 접종시기 입력은 필수입니다.");
					return false;
				}
			}
		}
		
		return true;
	};

	/**
	 * 결재신청 버튼 클릭 이벤트
	 */
	scwin.btn_apr_onclick = function(e) {
		//결재신청 변수 설정
		var btnClickType = "apr";
		// 필수입력값 체크
		if (!scwin.isCommonValid() || !scwin.isDetailValid("APR")) return;
		if (!scwin.preAprSave()) return;
		
		// 경조, 병가, 공가, 배우자 출산, 산전휴가, 입양휴가, 건강검진-공단 일 경우 메시지 처리
		var holidayClsf = dma_cgsInfo.get("holiday_clsf");
		if (scwin.isAllowHolidayCode(holidayClsf) || (holidayClsf == "HBI031" && sbx_holiday_sub_clsf.getValue() == "공단")) {
			if("" == dma_cgsInfo.get("attach_file_no")){
				com.alert("message.xom.ui.cgs.001", function(){ 
					scwin.sendApr();
				}); 
			}else{
				scwin.sendApr();
			}
		}else{
			scwin.sendApr();
		}	
	};
	
	/**
	 * 결재
	 */
	scwin.sendApr = function(){
		//건강검진의 경우 시작일과 종료일을 같은 날로 세팅
		com.execute(sbm_LappNoFileCnt, {
			successCallback : function(e) {
				if (e.responseJSON.no_file_cnt > '0') {
					var data = {
						syspayno : dma_cgsInfo.get("req_psn_syspayno")
					};
					biz.ccs.pop.open(biz.ccs.pop.TYPE.SICK_VAC, data, function(retObj) {						
					});
				} else {
					scwin.data.aprYn = "Y";
					
					// 사후결재 확인
					scwin.confirmPostApr();					
				}
			}
		});	
	};
	
	/**
	 * 사후결재 확인
	 */
	scwin.confirmPostApr = function(){
		// 사후결재 확인
		var data = {
			req_no : dma_cgsInfo.get("req_no"),
			docu_id : "C55",
			syspayno : dma_cgsInfo.get("req_psn_syspayno"),
			action_ymd : dma_cgsInfo.get("holiday_start_ymd")
		};
		
		com.biz.confirmPostApr(data, function(ret){
			if(ret){
				dma_cgsInfo.set("approval", "true");
				
				var holidayClsf = dma_cgsInfo.get("holiday_clsf");
				dma_cgsInfo.set("lbl_start_hour", sbx_holiday_start_hour.getText());
				dma_cgsInfo.set("lbl_cls_hour", sbx_holiday_cls_hour.getText());
				dma_cgsInfo.set("holiday_hour", iptHolidayHour.getValue());
				// HBI031 건강검진
				dma_cgsInfo.set("RepReason", (scwin.isAllowHolidayCode(holidayClsf) || ("HBI031" == holidayClsf && "공단" == sbx_holiday_sub_clsf.getValue())) ? "Y" : "N");
				// 당해병가 카운트 = 현재까지 사용한 병가 + 현재 신청하는 병가
				// 병가면서 6일 이상인 경우 rule_money_cd = 6고정, 5일이하는 0고정
				if(holidayClsf == "HBI008"){
					var sickCnt = WebSquare.util.parseInt(dma_cgsAnal.get("sick_cnt"), 0) +  WebSquare.util.parseInt(dma_cgsInfo.get("holiday_daycnt"), 0)
					dma_cgsInfo.set("rule_type_cd", "ADR180");
					dma_cgsInfo.set("rule_money_cd", (sickCnt >= 6) ? "6" : "0");
				}
				
				scwin.save();
			}
		});
	};
	
	/** 증빙 필요 휴가구분 코드 - by James, 2017-11-21 */
	scwin.isAllowHolidayCode = function(holidayCode) {
		var allowHolidayCodes = [
			  "HBI001"  // 경조
			, "HBI008"  // 병가
			, "HBI009"  // 공가
			, "HBI100"  // 공가-코로나19
			, "HBI010"  // 배우자출산
			, "HBI011"  // 산전/산후휴가
			, "HBI012"  // 자녀돌봄휴가
			, "HBI030"  // 입양휴가
			, "HBI042"  // 임산부정기건강진단
			, "HBI050"  // 유산/사산휴가
			, "HBI055"  // 난임휴가
		];
		return allowHolidayCodes.some(function(allowHolidayCode) {
			return (allowHolidayCode === holidayCode);
		});
	};
	
	scwin.preAprSave = function() {		
		var posiCode = dma_cgsInfo.get("req_psn_posi_cd");
		var remainLimit = 0;
		
		// 임원(110010)의 경우 정해진 연차가 없어 생성하지 않으므로 한시적으로 연차수 제한 로직을 제거한다.
		// 2019-02-01, James, 잔여연차 제한 범위를 연차 및 시간제연차로 축소한다.
		if (posiCode != "110010" && /HBI006|HBI019/.test(sbx_holiday_clsf.getValue()) && Number(dma_cgsInfo.get("remain_holiday")) < remainLimit) {
			alert("잔여연차가 충분하지 않아서 결재를 신청할 수 없습니다.");
			return false; // 결재상신 중지
		}
		
		return true; 
	};	
	
	/**
	 * 적용연차 세팅(저축연차 또는 당행연차 미선택 시 선입선출 default로 지정)
	 */
	scwin.setSaveAnalYr = function(){
		var calc_applcnt = Number(iptHolidayDays.getValue()); //신청연차
		for(var i = 10; i >= 0 ; i --){
			var use_qty = 0; // 사용연차
			
			if(i==10){
				if(dma_cgsAnal.get("remidr_save_qty10") <= '0'){
					dma_cgsInfo.set("save_anal_yr10", 0);
				}else{
					if(calc_applcnt > 0){
						use_qty = (Number(dma_cgsAnal.get("remidr_save_qty10")) - calc_applcnt <=0) ? dma_cgsAnal.get("remidr_save_qty10") : calc_applcnt;
						dma_cgsInfo.set("save_anal_yr10", use_qty);
						calc_applcnt = calc_applcnt - use_qty;
					}else{
						dma_cgsInfo.set("save_anal_yr10", 0);
					}
				}
			}else{
				if(dma_cgsAnal.get("remidr_save_qty0" + i) <= '0'){
					dma_cgsInfo.set("save_anal_yr0"+i, 0);
				}else{
					if(calc_applcnt > 0){
						use_qty = (Number(dma_cgsAnal.get("remidr_save_qty0" + i)) - calc_applcnt <=0) ? dma_cgsAnal.get("remidr_save_qty0" + i) : calc_applcnt;
						dma_cgsInfo.set("save_anal_yr0" +i, use_qty);
						calc_applcnt = calc_applcnt - use_qty;
					}else{
						dma_cgsInfo.set("save_anal_yr0"+i, 0);
					}
				}
			}
		}
	}
	
	/**
	 * 백신접종구분 변경 이벤트
	 */	
	scwin.sbx_vaccine_onviewchange = function(info) {
		if(info.newValue == "CBC002"){ // 백신 접종 외
			grpVaccine2.hide();
			dma_cgsInfo.set("vac_cause", "");
			dma_cgsInfo.set("vac_gb", "");
			dma_cgsInfo.set("vac_date", "");
		}else{
			grpVaccine2.show("inline-block");
		}
	};
	
	/**
	 * 목록 버튼 클릭 이벤트
	 */	
	scwin.btn_pre_onclick = function(e) {
		com.moveList('C219');
	};
	
	scwin.tbx_helpLapp_onclick = function(e) {
		var url = gcm.baseUrls.oldBizUrl + "/kitech/com/help/layout/onlineHelp.html?fm=12&amp;sm=1&amp;tm=2&amp;module=ccs/CgsVacaReq#vacaReq";
		window.open(url, "", "width=1265px,height=800px,toolbar=no,menubar=no,scrollbars=yes,statusbar=no,resizable=yes");
		/*
		var options = {
			title : "휴가원 도움말"
			, src : url
			, windowTitle : "휴가원 도움말"
			, windowId : ""
			, openAction : "existWindow" // 미지정시 id가 동일 창이 있으면 확인창 띄움. existWindow : 기존 탭을 갱신 / newWindow : 항상 새로운 창을 생성 / selectWindow : id가 동일한 창이 있으면 그 윈도우를 선택
			, frameMode : "iframe"
			, fixed : false
			, closeAction : function(title) {
				// 메인은 닫히지 않도록 처리
				if (title === "메인") {
					return false;
				} else {
					// 창 닫기전 변경사항이 있는지 체크 (변경사항이 없으면 gcm.data.checkBeforeClose 함수내에서 닫음)
					if (gcm.win.isChecked === true) {
						gcm.win.isChecked = false;
						return true;
					} else {
						return gcm.data.checkBeforeClose(scwin, menuId);
					}
				}
			}
		};
		
		setTimeout(function(){ // 이전창으로 포커싱 되는 문제 회피
			$p.top().wdc_layout.createWindow(options);
		},1);
		*/
	};
	]]></script>
	</head>
	<body ev:onpageload="scwin.onpageload">
		<w2:wframe id="wfm_title" src="/cm/xml/contentTitle.xml" style=""></w2:wframe>
		<xf:group id="" class="pageWrap">
			<xf:group class="searchSection step" id="" style="">
				<xf:group class="le" id="" style="">
					<xf:trigger class="btn" ev:onclick="scwin.btn_pre_onclick" id="btn_pre" style="" type="button">
						<xf:label><![CDATA[목록]]></xf:label>
					</xf:trigger>
				</xf:group>
				<xf:group class="ri" id="" style="">
					<xf:group class="btnbox" id="">
						<xf:trigger class="btn" ev:onclick="scwin.btn_apr_view_onclick" id="btn_apr_view" style="" type="button"
							disabled="true">
							<xf:label><![CDATA[결재문서보기]]></xf:label>
						</xf:trigger>
						<xf:trigger class="btn blue" ev:onclick="scwin.btn_apr_onclick" id="btn_apr" style="" type="button" disabled="true">
							<xf:label><![CDATA[결재신청]]></xf:label>
						</xf:trigger>
					</xf:group>
				</xf:group>
			</xf:group>
			<xf:group class="titleSection" id="" style="">
				<xf:group class="le" id="">
					<w2:span class="note red" id="" label="※ 휴가원 신청시 타인이 대신 신청하는 경우 실휴가자를 결재선에 반드시 넣어주시기 바랍니다" style=""></w2:span>
				</xf:group>
				<xf:group class="ri" id=""></xf:group>
			</xf:group>
			<xf:group class="w2tb tbl" id="grp_reason" style="" tagname="table">
				<w2:attributes>
					<w2:summary></w2:summary>
				</w2:attributes>
				<xf:group tagname="caption" text="증빙정보"></xf:group>
				<xf:group tagname="colgroup">
					<xf:group style="width:160px;" tagname="col"></xf:group>
					<xf:group style="" tagname="col"></xf:group>
				</xf:group>
				<xf:group tagname="tr">
					<xf:group class="w2tb_th" tagname="th">
						<w2:attributes>
							<w2:scope>row</w2:scope>
						</w2:attributes>
						<w2:textbox id="" label="사유" style="" tagname="span"></w2:textbox>
					</xf:group>
					<xf:group class="w2tb_td" tagname="td">
						<w2:attributes>
							<w2:colspan>3</w2:colspan>
							<w2:rowspan>1</w2:rowspan>
						</w2:attributes>
						<xf:group id="group" style="width:100%;height:60px;">
							<xf:input adjustMaxLength="false" class="inp full le" id="txt_afterReason" readOnly="true"
								readOnlyClass="inp full" ref="data:dma_postApr.reason" style="width: 100%;height: 100%;" title="성명 상세">
							</xf:input>
						</xf:group>
					</xf:group>
				</xf:group>
			</xf:group>
			<xf:group class="w2tb tbl" id="grp_holi_info" style="" tagname="table">
				<w2:attributes>
					<w2:summary></w2:summary>
				</w2:attributes>
				<xf:group tagname="caption" text="휴가원신청서 정보"></xf:group>
				<xf:group tagname="colgroup">
					<xf:group style="width:160px;" tagname="col"></xf:group>
					<xf:group style="" tagname="col"></xf:group>
					<xf:group style="width:160px;" tagname="col"></xf:group>
					<xf:group style="" tagname="col"></xf:group>
				</xf:group>
				<xf:group tagname="tr">
					<xf:group class="w2tb_th" tagname="th">
						<w2:attributes>
							<w2:scope>row</w2:scope>
						</w2:attributes>
						<w2:span class="bul_req" id="" label="[필수입력항목]" style=""></w2:span>
						<w2:textbox id="" label="휴가자" style="" tagname="span"></w2:textbox>
					</xf:group>
					<xf:group class="w2tb_td" tagname="td">
						<w2:attributes></w2:attributes>
						<xf:group class=" flex" id="">
							<xf:group class="inpSch" id="grp_emp" style="width: 120px;">
								<xf:input adjustMaxLength="false" class="inp req" id="ibx_req_psn_empno" style="" title="휴가자사번"
									ref="data:dma_cgsInfo.req_psn_empno">
								</xf:input>
								<xf:trigger class="btn" id="btn_req_psn" style="" title="휴가자 조회" type="button"
									ev:onclick="scwin.btn_req_psn_onclick">
									<xf:label><![CDATA[검색]]></xf:label>
								</xf:trigger>
							</xf:group>
							<xf:input adjustMaxLength="false" class="inp req" id="inputNm" style="width: 150px;" title="휴가자명"
								ref="data:dma_cgsInfo.req_psn_nm">
							</xf:input>
							<xf:trigger class="btn" id="btn_Annual" style="" type="button" ev:onclick="scwin.btn_Annual_onclick">
								<xf:label><![CDATA[휴가사용내역]]></xf:label>
							</xf:trigger>
						</xf:group>
					</xf:group>
					<xf:group class="w2tb_th" tagname="th">
						<w2:attributes>
							<w2:scope>row</w2:scope>
						</w2:attributes>
						<w2:textbox id="" label="신청번호" style="" tagname="span"></w2:textbox>
					</xf:group>
					<xf:group class="w2tb_td" tagname="td">
						<w2:attributes></w2:attributes>
						<w2:textbox class="txt" id="" label="000" style="" tagname="span" ref="data:dma_cgsInfo.req_no"></w2:textbox>
					</xf:group>
				</xf:group>
				<xf:group style="" tagname="tr">
					<xf:group class="w2tb_th" tagname="th">
						<w2:attributes>
							<w2:scope>row</w2:scope>
						</w2:attributes>
						<w2:textbox id="" label="소속부서" style="" tagname="span"></w2:textbox>
					</xf:group>
					<xf:group class="w2tb_td" tagname="td">
						<w2:attributes></w2:attributes>
						<w2:textbox class="txt" id="txtDeptNm" label="00" style="" tagname="span" ref="data:dma_cgsInfo.req_psn_dept_nm"></w2:textbox>
					</xf:group>
					<xf:group class="w2tb_th" tagname="th">
						<w2:attributes>
							<w2:scope>row</w2:scope>
						</w2:attributes>
						<w2:textbox id="" label="직급" style="" tagname="span"></w2:textbox>
					</xf:group>
					<xf:group class="w2tb_td" tagname="td">
						<w2:attributes></w2:attributes>
						<w2:textbox class="txt" id="txtPosiNm" label="000" style="" tagname="span" ref="data:dma_cgsInfo.posi_nm"></w2:textbox>
					</xf:group>
				</xf:group>
				<xf:group style="" tagname="tr">
					<xf:group class="w2tb_th" style="" tagname="th">
						<w2:attributes>
							<w2:scope>row</w2:scope>
						</w2:attributes>
						<w2:span class="bul_req" id="" label="[필수입력항목]" style=""></w2:span>
						<w2:textbox id="" label="휴가구분" style="" tagname="span"></w2:textbox>
					</xf:group>
					<xf:group class="w2tb_td" style="" tagname="td">
						<xf:select1 allOption="" appearance="minimal" chooseOption="true" chooseOptionLabel="- 선택 -" class="sel req"
							direction="auto" disabled="false" disabledClass="w2selectbox_disabled" id="sbx_holiday_clsf" ref="data:dma_cgsInfo.holiday_clsf"
							style="width:150px;" submenuSize="auto" title="부서명" visibleRowNum="20" ev:onviewchange="scwin.sbx_holiday_clsf_onviewchange">
						</xf:select1>
						<xf:select1 allOption="" appearance="minimal" chooseOption="true" chooseOptionLabel="" class="sel req"
							direction="auto" disabled="false" disabledClass="w2selectbox_disabled" id="sbx_holiday_sub_clsf"
							ref="data:dma_cgsInfo.holiday_sub_clsf" style="width:150px;" submenuSize="auto" title="본부명"
							ev:onviewchange="scwin.sbx_holiday_sub_clsf_onviewchang">
						</xf:select1>
						<w2:textbox class="txt" id="" label="000" style="" tagname="span" ref="data:dma_cgsInfo.ctr_req_no"></w2:textbox>
					</xf:group>
					<xf:group class="w2tb_th" style="" tagname="th">
						<w2:attributes>
							<w2:scope>row</w2:scope>
						</w2:attributes>
						<w2:span class="bul_req" id="" label="[필수입력항목]" style=""></w2:span>
						<w2:textbox id="" label="휴가사유" style="" tagname="span"></w2:textbox>
					</xf:group>
					<xf:group class="w2tb_td" style="" tagname="td">
						<xf:input adjustMaxLength="false" byteCheckIgnoreChar=" " class="inp full" id="iptHolidayCause" ref="data:dma_cgsInfo.holiday_cause"
							style="" title="행선지">
						</xf:input>
					</xf:group>
				</xf:group>
				<xf:group style="" tagname="tr">
					<xf:group class="w2tb_th" style="" tagname="th">
						<w2:attributes>
							<w2:scope>row</w2:scope>
						</w2:attributes>
						<w2:span class="bul_req" id="" label="[필수입력항목]" style=""></w2:span>
						<w2:textbox id="" label="휴가기간" style="" tagname="span"></w2:textbox>
					</xf:group>
					<xf:group class="w2tb_td" style="" tagname="td">
						<w2:attributes>
							<w2:colspan>3</w2:colspan>
							<w2:rowspan>1</w2:rowspan>
						</w2:attributes>
						<w2:inputCalendar calendarValueType="yearMonthDate" class="inpcal req" focusOnDateSelect="false" footerDiv="false"
							id="ica_from_ymd" placeholder="시작일" renderDiv="true" rightAlign="false" style="" title="기간 중 시작일 "
							ev:onviewchange="scwin.ica_from_ymd_onviewchang" ref="data:dma_cgsInfo.holiday_start_ymd">
						</w2:inputCalendar>
						<xf:group id="grpCalClsYmd" style="display: inline-block;">
							<w2:textbox tagname="span" style="" id="" label="~" class="dash"></w2:textbox>
							<w2:inputCalendar footerDiv="false" rightAlign="false" focusOnDateSelect="false" style="" id="ica_to_ymd"
								placeholder="종료일" title="기간 중 종료일" class="inpcal req" renderDiv="true" calendarValueType="yearMonthDate"
								ev:onviewchange="scwin.ica_to_ymd_onviewchang" ref="data:dma_cgsInfo.holiday_cls_ymd">
							</w2:inputCalendar>
						</xf:group>
						<xf:group id="grpHolidayTime" style="display: inline-block;">
							<xf:select1 submenuSize="auto" ev:onviewchange="scwin.sbx_holiday_start_hour_onviewchang" chooseOption="true"
								allOption="" title="사용시간 시작시간" appearance="minimal" disabledClass="w2selectbox_disabled" disabled="false" style="width:60px;"
								id="sbx_holiday_start_hour" class="sel req" direction="auto" chooseOptionLabel="시작시각" ref="data:dma_cgsInfo.holiday_start_hour">
								<xf:choices>
									<xf:item>
										<xf:label><![CDATA[01:00]]></xf:label>
										<xf:value></xf:value>
									</xf:item>
									<xf:item>
										<xf:label><![CDATA[02:00]]></xf:label>
										<xf:value></xf:value>
									</xf:item>
								</xf:choices>
							</xf:select1>
							<w2:textbox tagname="span" style="" id="" label="~" class="dash"></w2:textbox>
							<xf:select1 submenuSize="auto" appearance="minimal" disabledClass="w2selectbox_disabled" chooseOption="true"
								disabled="false" style="width:60px;" allOption="" id="sbx_holiday_cls_hour" title="사용시간 종료시간" class="sel req" direction="auto"
								ev:onviewchange="scwin.sbx_holiday_cls_hour_onviewchang" chooseOptionLabel="종료시각" ref="data:dma_cgsInfo.holiday_cls_hour">
								<xf:choices>
									<xf:item>
										<xf:label><![CDATA[01:00]]></xf:label>
										<xf:value></xf:value>
									</xf:item>
									<xf:item>
										<xf:label><![CDATA[02:00]]></xf:label>
										<xf:value></xf:value>
									</xf:item>
								</xf:choices>
							</xf:select1>
						</xf:group>
						<xf:group id="grpHolidaySubReward" style="display: inline-block;">
							<w2:textbox tagname="span" style="" id="" label="(사용:" class="txt blue"></w2:textbox>
							<xf:input adjustMaxLength="false" class="inp" id="txtRewardUsed" style="width: 50px" title="사용횟수" ref="data:dma_cgsAnal.use_reward"></xf:input>
							<w2:textbox tagname="span" style="" id="" label=", 잔여:" class="txt blue"></w2:textbox>
							<xf:input adjustMaxLength="false" class="inp" id="txtRewardRemain" style="width: 60px" title="잔여횟수" ref="data:dma_cgsAnal.remain_reward"></xf:input>
							<w2:textbox tagname="span" style="" id="" label=")" class="txt blue"></w2:textbox>
						</xf:group>
						<xf:group id="grpHolidayDays" style="display: inline-block;">
							<xf:input adjustMaxLength="false" style="width: 50px" id="iptHolidayDays" title="총사용일" class="inp"
								ref="data:dma_cgsInfo.holiday_daycnt">
							</xf:input>
							<w2:textbox tagname="span" style="" id="" label="일" class="txt blue"></w2:textbox>
						</xf:group>
						<xf:group id="grpHolidayHour" style="display: inline-block;">
							<xf:input adjustMaxLength="false" class="inp  ri" dataType="number" id="iptHolidayHour" style="width: 50px"
								title="총 시간">
							</xf:input>
							<w2:textbox class="txt pl20 blue" label="시간" style="" tagname="span"></w2:textbox>
						</xf:group>
						<xf:group id="grpCareState" style="display:inline-block;">
							<w2:textbox style="" label="사용일수:" tagname="span" class="txt blue" />
							<xf:input adjustMaxLength="false" class="inp  ri" id="txtCareUseCnt" ref="data:dma_cgsAnal.care_cnt"
								style="width: 50px">
							</xf:input>
							<w2:textbox class="txt blue" id="" label="/10 일" style="" tagname="span"></w2:textbox>
						</xf:group>
						<w2:textbox class="txt" id="" label="(공휴일 제외, 자세한 내용은 도움말 참조)" style="" tagname="span"></w2:textbox>
					</xf:group>
				</xf:group>
				<xf:group style="" tagname="tr">
					<xf:group class="w2tb_th" style="" tagname="th">
						<w2:attributes>
							<w2:scope>row</w2:scope>
						</w2:attributes>
						<w2:textbox id="" label="신청전 잔여연차" style="" tagname="span"></w2:textbox>
					</xf:group>
					<xf:group class="w2tb_td" style="" tagname="td">
						<w2:textbox class="txt" id="txtBeforeRemain" label="000" style="" tagname="span"></w2:textbox>
						<xf:trigger class="btn" id="btn_aply_anal" style="" type="button" ev:onclick="scwin.btn_aply_anal_onclick">
							<xf:label><![CDATA[적용연차]]></xf:label>
						</xf:trigger>
					</xf:group>
					<xf:group class="w2tb_th pd0" style="" tagname="th">
						<w2:attributes>
							<w2:scope>row</w2:scope>
						</w2:attributes>
						<xf:group id="" class="point top">
							<w2:textbox tagname="span" style="" id="" label="신청후 잔여연차"></w2:textbox>
						</xf:group>
					</xf:group>
					<xf:group class="w2tb_td pd0" style="" tagname="td">
						<xf:group id="" class="point top">
							<w2:textbox tagname="span" style="" id="txtAfterRemain" label="000" class="txt"></w2:textbox>
						</xf:group>
					</xf:group>
				</xf:group>
				<xf:group style="" tagname="tr" id="grpReWr">
					<xf:group class="w2tb_th" style="" tagname="th">
						<w2:attributes>
							<w2:scope>row</w2:scope>
						</w2:attributes>
						<w2:textbox id="" label="신청전 잔여보상휴가" style="" tagname="span"></w2:textbox>
					</xf:group>
					<xf:group class="w2tb_td" style="" tagname="td">
						<w2:textbox class="txt" id="beforeRewardRemain" label="000" style="" tagname="span"></w2:textbox>
					</xf:group>
					<xf:group class="w2tb_th pd0" style="" tagname="th">
						<w2:attributes>
							<w2:scope>row</w2:scope>
						</w2:attributes>
						<xf:group id="" class="point bot">
							<w2:textbox tagname="span" style="" id="" label="신청후 잔여보상휴가"></w2:textbox>
						</xf:group>
					</xf:group>
					<xf:group class="w2tb_td pd0" style="" tagname="td">
						<xf:group id="" class="point bot">
							<w2:textbox tagname="span" style="" id="afterRewardRemain" label="000" class="txt"></w2:textbox>
						</xf:group>
					</xf:group>
				</xf:group>
			</xf:group>
			<xf:group class="helparea" id="" style="">
				<xf:group id="" style="" tagname="ul">
					<xf:group id="" style="" tagname="li">
						<w2:textbox class="" id=""
							label="『선택적 근로시간제 운영요령』제9조(보상휴가) ①항에 따라 잔여 보상휴가가 1일 이상 적립된 경우, 보상휴가를 연차휴가보다 우선하여 소진하여 주시기 바랍니다." style="" tagname="span">
						</w2:textbox>
					</xf:group>
				</xf:group>
			</xf:group>
			<xf:group class="w2tb tbl" id="grp_care" style="" tagname="table">
				<w2:attributes>
					<w2:summary></w2:summary>
				</w2:attributes>
				<xf:group tagname="caption" text="휴가원신청서 상세"></xf:group>
				<xf:group tagname="colgroup">
					<xf:group style="width:160px;" tagname="col"></xf:group>
					<xf:group style="" tagname="col"></xf:group>
					<xf:group style="width:140px;" tagname="col"></xf:group>
					<xf:group style="" tagname="col"></xf:group>
				</xf:group>
				<xf:group tagname="tr" id="grpMidBody">
					<xf:group class="w2tb_th" tagname="th">
						<w2:attributes>
							<w2:scope>row</w2:scope>
						</w2:attributes>
						<w2:textbox id="" label="돌봄 가족 정보" style="" tagname="span"></w2:textbox>
					</xf:group>
					<xf:group class="w2tb_td" tagname="td">
						<w2:attributes>
							<w2:colspan>3</w2:colspan>
							<w2:rowspan>1</w2:rowspan>
						</w2:attributes>
						<w2:textbox class="txt" id="" label="가족성명" style="" tagname="span"></w2:textbox>
						<xf:input adjustMaxLength="false" class="inp" id="idx_care_name" style="width: 60px;" title="가족성명"
							ref="data:dma_cgsInfo.care_name">
						</xf:input>
						<w2:textbox class="txt pl20" id="" label="나와의관계" style="" tagname="span"></w2:textbox>
						<xf:select1 allOption="" appearance="minimal" chooseOption="true" chooseOptionLabel="" class="sel" direction="auto"
							disabled="false" disabledClass="w2selectbox_disabled" id="sbx_care_relation" ref="data:dma_cgsInfo.care_relation"
							style="width:150px;" submenuSize="auto" title="나와의관계">
						</xf:select1>
						<w2:textbox class="txt pl20" id="" label="가족 생년월일" style="" tagname="span"></w2:textbox>
						<w2:inputCalendar calendarValueType="yearMonthDate" class="inpcal" focusOnDateSelect="false" footerDiv="false"
							id="ica_care_birth_ymd" placeholder="생년월일" renderDiv="true" rightAlign="false" style="" title="가족 생년월일"
							ref="data:dma_cgsInfo.care_birth_ymd" minYear="1900" maxYear="2050">
						</w2:inputCalendar>
					</xf:group>
				</xf:group>
				<xf:group style="" tagname="tr" id="grpVaccine">
					<xf:group class="w2tb_th" tagname="th">
						<w2:attributes>
							<w2:scope>row</w2:scope>
						</w2:attributes>
						<w2:textbox id="" label="코로나백신 정보" style="" tagname="span"></w2:textbox>
					</xf:group>
					<xf:group class="w2tb_td" tagname="td">
						<w2:attributes>
							<w2:colspan>3</w2:colspan>
							<w2:rowspan>1</w2:rowspan>
						</w2:attributes>
						<w2:span class="bul_req" id="" label="[필수입력항목]" style=""></w2:span>
						<w2:textbox class="txt" id="" label="백신접종구분" style="" tagname="span"></w2:textbox>
						<xf:select1 allOption="" appearance="minimal" chooseOption="true" chooseOptionLabel="- 선택 -" class="sel "
							direction="auto" disabled="false" disabledClass="w2selectbox_disabled" id="sbx_vaccine" ref="data:dma_cgsInfo.vaccine"
							style="width:100px;" submenuSize="auto" title="백신접종구분" ev:onchange="scwin.sbx_vaccine_onchange"
							ev:onviewchange="scwin.sbx_vaccine_onviewchange">
						</xf:select1>
						<xf:group id="grpVaccine2" style="display:inline-block;">
							<w2:textbox tagname="span" style="" id="" label="백신접종사유" class="txt pl20"></w2:textbox>
							<xf:select1 chooseOptionLabel="- 선택 -" submenuSize="auto" chooseOption="true" allOption="" title="백신접종사유"
								ref="data:dma_cgsInfo.vac_cause" appearance="minimal" disabledClass="w2selectbox_disabled" disabled="false" style="width:100px;"
								id="sbx_vac_cause" class="sel " direction="auto">
							</xf:select1>
							<w2:textbox tagname="span" style="" id="" label="백신종류" class="txt pl20"></w2:textbox>
							<xf:select1 chooseOptionLabel="- 선택 -" submenuSize="auto" chooseOption="true" allOption="" title="백신종류"
								ref="data:dma_cgsInfo.vac_gb" appearance="minimal" disabledClass="w2selectbox_disabled" disabled="false" style="width:150px;"
								id="sbx_vac_gb" class="sel " direction="auto">
							</xf:select1>
							<w2:textbox tagname="span" style="" id="" label="접종시기" class="txt pl20"></w2:textbox>
							<xf:select1 chooseOptionLabel="- 선택 -" submenuSize="auto" chooseOption="true" allOption="" title="접종시기"
								ref="data:dma_cgsInfo.vac_date" appearance="minimal" disabledClass="w2selectbox_disabled" disabled="false" style="width:100px;"
								id="sbx_vac_date" class="sel " direction="auto">
							</xf:select1>
						</xf:group>
					</xf:group>
				</xf:group>
				<xf:group style="" tagname="tr">
					<xf:group class="w2tb_th" style="" tagname="th">
						<w2:attributes>
							<w2:scope>row</w2:scope>
						</w2:attributes>
						<w2:textbox id="" label="행선지" style="" tagname="span"></w2:textbox>
					</xf:group>
					<xf:group class="w2tb_td" style="" tagname="td">
						<w2:attributes>
							<w2:colspan>3</w2:colspan>
							<w2:rowspan>1</w2:rowspan>
						</w2:attributes>
						<xf:input adjustMaxLength="false" byteCheckIgnoreChar=" " class="inp full" id="" style="" title="행선지"
							ref="data:dma_cgsInfo.destin">
						</xf:input>
					</xf:group>
				</xf:group>
				<xf:group style="" tagname="tr">
					<xf:group class="w2tb_th" tagname="th">
						<w2:attributes>
							<w2:scope>row</w2:scope>
						</w2:attributes>
						<w2:span class="bul_req" id="" label="[필수입력항목]" style=""></w2:span>
						<w2:textbox id="" label="직무대행" style="" tagname="span"></w2:textbox>
					</xf:group>
					<xf:group class="w2tb_td" tagname="td">
						<w2:attributes></w2:attributes>
						<xf:group class="inpSch" id="grp_agent" style="width: 120px;">
							<xf:input adjustMaxLength="false" class="inp req" id="ibx_agent_empno" style="" title="직무대행 명"
								ref="data:dma_cgsInfo.agent_psn_empno">
							</xf:input>
							<xf:trigger class="btn" id="btn_agent" style="" title="직무대행 조회" type="button"
								ev:onclick="scwin.btn_agent_onclick">
								<xf:label><![CDATA[검색]]></xf:label>
							</xf:trigger>
						</xf:group>
						<xf:input adjustMaxLength="false" class="inp req" id="iptAgentNm" style="width: 150px;" title="직무대행 상세"
							ref="data:dma_cgsInfo.agent_psn_nm">
						</xf:input>
					</xf:group>
					<xf:group class="w2tb_th" tagname="th">
						<w2:attributes>
							<w2:scope>row</w2:scope>
						</w2:attributes>
						<w2:textbox id="" label="작성자" style="" tagname="span"></w2:textbox>
					</xf:group>
					<xf:group class="w2tb_td" tagname="td">
						<w2:attributes></w2:attributes>
						<w2:textbox class="txt" id="tbx_req_psn_nm" label="000" style="" tagname="span"
							ref="data:dma_cgsInfo.regst_psn_nm">
						</w2:textbox>
					</xf:group>
				</xf:group>
				<xf:group style="" tagname="tr">
					<xf:group class="w2tb_th" style="" tagname="th">
						<w2:attributes>
							<w2:scope>row</w2:scope>
						</w2:attributes>
						<w2:textbox id="" label="첨부파일" style="" tagname="span"></w2:textbox>
					</xf:group>
					<xf:group class="w2tb_td" style="" tagname="td">
						<w2:attributes>
							<w2:colspan>3</w2:colspan>
							<w2:rowspan>1</w2:rowspan>
						</w2:attributes>
						<xf:group class="full" ev:onclick="scwin.upload_A_onclick" id="upload_A" style="height:150px;"></xf:group>
					</xf:group>
				</xf:group>
			</xf:group>
			<xf:group class="helparea" id="" style="">
				<xf:group id="" style="" tagname="ul">
					<xf:group id="" style="" tagname="li">
						<w2:textbox class="" id="" label="휴가신청서 기본사용법, 연차 관련사항 및 휴가구분별 관련증빙 등 상세정보는" style="" tagname="span"></w2:textbox>
						<w2:textbox class="blue underline linkPoint" id="tbx_helpLapp" label="도움말(클릭)" style="" tagname="a" ev:onclick="scwin.tbx_helpLapp_onclick"></w2:textbox>
						<w2:textbox class="" id="" label="화면을 참조하시기 바랍니다." style="" tagname="span"></w2:textbox>
					</xf:group>
					<xf:group id="" style="" tagname="li">
						<w2:textbox class="blue" id="" label="출퇴근시 참고사항" style="" tagname="span"></w2:textbox><br/>
						<w2:textbox class="blue" id="" label="ㅇ (출근인식) 05:00 ~ 10:00 : 출퇴근카드 태그 / (퇴근인식) 16:00 ~ 23:59 : 출퇴근카드 태그 / (그 외 시간 인식) 10:00 ~ 16:00" style="" tagname="span"></w2:textbox><br/>
						<w2:textbox class="blue" id="" label="ㅇ (출근인식) 출근 버튼 클릭 후 출퇴근카드 태그 / (퇴근인식) 퇴근 버튼 클릭 후 출퇴근카드 태그" style="" tagname="span"></w2:textbox><br/>
						<w2:textbox class="blue" id="" label="ㅇ 그 외 시간대에 출근 또는 퇴근 버튼 미클릭 후 태깅시, 출퇴근 인식 불가 / 24시 ~ 05시 출근/퇴근 미인식 시간" style="" tagname="span"></w2:textbox>
					</xf:group>
				</xf:group>
			</xf:group>
			<xf:group style="" id="" class="btnGroup">
				<xf:group style="" id="" class="le"></xf:group>
				<xf:group id="" class="ri">

					<xf:trigger style="" id="btn_del" type="button" class=" btn pro" ev:onclick="scwin.btn_del_onclick" disabled="true">
						<xf:label><![CDATA[삭제]]></xf:label>
					</xf:trigger>
					<xf:trigger class=" btn pro conf" ev:onclick="scwin.btn_save_onclick" id="btn_save" style="" type="button">
						<xf:label><![CDATA[저장]]></xf:label>
					</xf:trigger>
				</xf:group>
			</xf:group>
		</xf:group>
	</body>
</html>
