<?xml version="1.0" encoding="UTF-8"?>
<html xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ev="http://www.w3.org/2001/xml-events"
    xmlns:w2="http://www.inswave.com/websquare" xmlns:xf="http://www.w3.org/2002/xforms">
    <head meta_programName="차량배차상세">
    	<w2:type>DEFAULT</w2:type>
        <w2:buildDate/>
        <xf:model>
            <xf:instance>
                <data xmlns=""/>
            </xf:instance>
            <w2:dataCollection baseNode="map">
            	<!-- 배차 상세 -->
            	<w2:dataMap baseNode="map" id="dma_carUse">
            		<w2:keyInfo>
            			<w2:key id="use_orign_ymd" name="사용시작일자" dataType="text"></w2:key>
            			<w2:key id="use_orign_time" name="사용시작시간" dataType="text"></w2:key>
            			<w2:key id="use_cls_ymd" name="사용종료일자" dataType="text"></w2:key>
            			<w2:key id="use_cls_time" name="사용종료시간" dataType="text"></w2:key>
            			<w2:key id="req_seq" name="신청순서" dataType="text"></w2:key>
            			<w2:key id="car_no" name="차량번호" dataType="text"></w2:key>
            			<w2:key id="car_info" name="차량정보" dataType="text"></w2:key>
            			<w2:key id="destin" name="행선지" dataType="text"></w2:key>
            			<w2:key id="req_region_cd" name="신청자지역코드" dataType="text"></w2:key>
            			<w2:key id="driv_psn_syspayno" name="운전자시스템개인번호" dataType="text"></w2:key>
            			<w2:key id="driv_empno" name="운전자번호" dataType="text"></w2:key>
            			<w2:key id="driv_psn_nm" name="운전자면" dataType="text"></w2:key>
            			<w2:key id="onbrd_psn" name="탑승자시스템개인번호" dataType="text"></w2:key>
            			<w2:key id="bsns_contnt" name="사업내용" dataType="text"></w2:key>
            			<w2:key id="bizwrk_prity_rank" name="업무우선순위" dataType="text"></w2:key>
            			<w2:key id="req_psn_syspayno" name="신청자시스템개인번호" dataType="text"></w2:key>
            			<w2:key id="req_psn_nm" name="신청자이름" dataType="text"></w2:key>
            			<w2:key id="req_psn_dept" name="신청자부서" dataType="text"></w2:key>
            			<w2:key id="req_psn_dept_new_ymd" name="신청자부서신설일자" dataType="text"></w2:key>
            			<w2:key id="req_psn_mail_addr" name="신청자이메일주소" dataType="text"></w2:key>
            			<w2:key id="req_psn_tel" name="신청자전화번호" dataType="text"></w2:key>
            			<w2:key id="charg_syspayno" name="담당자시스템개인번호" dataType="text"></w2:key>
            			<w2:key id="charg_nm" name="담당자이름" dataType="text"></w2:key>
            			<w2:key id="req_state" name="신청상태" dataType="text"></w2:key>
            			<w2:key id="req_state_nm" name="신청상태명" dataType="text"></w2:key>
            			<w2:key id="rmk" name="비고" dataType="text"></w2:key>
            			<w2:key id="recv_ymd" name="수령일자" dataType="text"></w2:key>
            			<w2:key id="recv_time" name="수령시간" dataType="text"></w2:key>
            			<w2:key id="retrn_ymd" name="반납일자" dataType="text"></w2:key>
            			<w2:key id="retrn_time" name="반납시간" dataType="text"></w2:key>
            			<w2:key id="start_meter" name="출발메타" dataType="text"></w2:key>
            			<w2:key id="arriv_meter" name="도착메타" dataType="text"></w2:key>
            			<w2:key id="mvmnt_dist" name="운행거리" dataType="text"></w2:key>
            			<w2:key id="start_flow" name="출발유량" dataType="text"></w2:key>
            			<w2:key id="arriv_flow" name="도착유량" dataType="text"></w2:key>
            			<w2:key id="suply_flow" name="보급유량" dataType="text"></w2:key>
            			<w2:key id="biztrip_req_no" name="출장신청번호" dataType="text"></w2:key>
            			<w2:key id="biztrip_car_use_yn" name="차량사용여" dataType="text"></w2:key>
            			<w2:key id="unslip_no" name="가결의번호" dataType="text"></w2:key>
            			<w2:key id="driv_psn_syspayno_1" name="운전자시스템개인번호1" dataType="text"></w2:key>
            			<w2:key id="driv_empno_1" name="운전자번호1" dataType="text"></w2:key>
            			<w2:key id="driv_psn_nm_1" name="운전자이름1" dataType="text"></w2:key>
            			<w2:key id="driv_psn_syspayno_2" name="운전자시스템개인번호2" dataType="text"></w2:key>
            			<w2:key id="driv_empno_2" name="운전자번호2" dataType="text"></w2:key>
            			<w2:key id="driv_psn_nm_2" name="운전자이름2" dataType="text"></w2:key>
            			<w2:key id="charge_amount" name="금액변경" dataType="text"></w2:key>
            			<w2:key id="regst_psn_syspayno" name="등록자시스템개인번호" dataType="text"></w2:key>
            			<w2:key id="req_region_nm" name="신청지역명" dataType="text"></w2:key>
            			<w2:key id="isSend" name="승인버튼여부" dataType="text"></w2:key>
            		</w2:keyInfo>
            	</w2:dataMap>

            	<!-- 차량 조회 -->
            	<w2:dataMap baseNode="map" id="dma_carListSearch">
            		<w2:keyInfo>
            			<w2:key id="req_state" name="신청상태" dataType="text"></w2:key>
            			<w2:key id="retrn_daytm" name="반납일시" dataType="text"></w2:key>
            			<w2:key id="region_cd" name="지역코드" dataType="text"></w2:key>
            			<w2:key id="car_no" name="차량번호" dataType="text"></w2:key>
            		</w2:keyInfo>
            	</w2:dataMap>
            	
            	<!-- 차량 상세 -->
            	<w2:dataMap baseNode="map" id="dma_car">
            		<w2:keyInfo>
            			<w2:key id="car_no" name="사용시작일자" dataType="text"></w2:key>
            			<w2:key id="region_cd" name="사용시작시간" dataType="text"></w2:key>
            			<w2:key id="carmdl_nm" name="사용종료일자" dataType="text"></w2:key>
            			<w2:key id="admin_syspayno" name="사용종료시간" dataType="text"></w2:key>
            			<w2:key id="admin_nm" name="신청순서" dataType="text"></w2:key>
            			<w2:key id="email" name="신청순서" dataType="text"></w2:key>
            		</w2:keyInfo>
            	</w2:dataMap>
            	
            	<!-- 차량 상세 -->
            	<w2:dataMap baseNode="map" id="dma_carDub">
            		<w2:keyInfo>
            			<w2:key id="car_no" name="사용시작일자" dataType="text"></w2:key>
            			<w2:key id="use_orign_ymd" name="사용시작시간" dataType="text"></w2:key>
            			<w2:key id="use_orign_time" name="사용종료일자" dataType="text"></w2:key>
            			<w2:key id="use_cls_ymd" name="사용종료시간" dataType="text"></w2:key>
            			<w2:key id="use_cls_time" name="신청순서" dataType="text"></w2:key>
            		</w2:keyInfo>
            	</w2:dataMap>
            	
            	<!-- 차량 리스트 -->
            	<w2:dataList id="dlt_carList" baseNode="list" saveRemovedData="true" repeatNode="map" ev:onrowpositionchange=""
            		ev:onbeforerowpositionchange="">
            		<w2:columnInfo>
            			<w2:column id="car_no" name="차량번호" dataType="text" ignoreStatus="true"></w2:column>
            			<w2:column id="rpt" name="비고" dataType="text"></w2:column>
            			<w2:column id="admin_syspayno" name="관리자시스템개인번호" dataType="text"></w2:column>
            			<w2:column id='regst_psn_syspayno' name="등록자시스템개인번호" dataType="text"></w2:column>
            			<w2:column id="regst_daytm" name="등록일시" dataType="text"></w2:column>
            			<w2:column id="updt_psn_syspayno" name="수정자시스템개인번호" dataType="text"></w2:column>
            			<w2:column id="updt_daytm" name="수정일시" dataType="text"></w2:column>
            		</w2:columnInfo>
            	</w2:dataList>
            </w2:dataCollection>
            <w2:workflowCollection></w2:workflowCollection>
			
			<!-- 차량리스트조회 -->
			<xf:submission id="sbm_selectCarList" ref='data:json,dma_carListSearch'
				target='data:json,{"id":"dlt_carList","key":"cgsCarUseVoList"}' action="SvcCCSCGSCOMR03.pwkjson" method="post" mediatype="application/json"
				encoding="UTF-8" instance="" replace="" errorHandler="" customHandler="" mode="asynchronous" processMsg="" ev:submit=""
				ev:submitdone="" ev:submiterror="" abortTrigger="">
			</xf:submission>
			
			<!-- 차량조회 -->
			<xf:submission id="sbm_selectCar" ref='data:json,dma_carListSearch'
				target='data:json,{"id":"dma_car","key":"cgsCarUseVo"}' action="SvcCCSCGSCUSR04.pwkjson" method="post" mediatype="application/json"
				encoding="UTF-8" instance="" replace="" errorHandler="" customHandler="" mode="asynchronous" processMsg="" ev:submit=""
				ev:submitdone="" ev:submiterror="" abortTrigger="">
			</xf:submission>
			
			<!-- 배차상세조회 -->
			<xf:submission id="sbm_selectCgsDetail" ref='data:json,dma_carUse'
				target='data:json,{"id":"dma_carUse","key":"cgsCarUseVo"}' action="SvcCCSCGSCUSR02.pwkjson" method="post" mediatype="application/json"
				encoding="UTF-8" instance="" replace="" errorHandler="" customHandler="" mode="asynchronous" processMsg="" ev:submit=""
				ev:submitdone="" ev:submiterror="" abortTrigger="">
			</xf:submission>
            
            <!-- 배차저장 -->
            <xf:submission id="sbm_saveCgs" ref="data:json,dma_carUse" target='' action="SvcCCSCGSCUSC01.pwkjson" method="post" mediatype="application/json"
        		encoding="UTF-8" instance="" replace="" errorHandler="" customHandler="" mode="asynchronous" processMsg="" ev:submit=""
        		ev:submitdone="" ev:submiterror="" abortTrigger="">
        	</xf:submission>
        	
        	<!-- 배차삭제 -->
            <xf:submission id="sbm_deleteCgs" ref="data:json,dma_carUse" target='' action="SvcCCSCGSCUSD01.pwkjson" method="post" mediatype="application/json"
        		encoding="UTF-8" instance="" replace="" errorHandler="" customHandler="" mode="asynchronous" processMsg="" ev:submit=""
        		ev:submitdone="" ev:submiterror="" abortTrigger="">
        	</xf:submission>
            
            <!-- 배차중복조회-->
			<xf:submission id="sbm_dupCheckCarUse" ref='data:json,dma_carUse'
				target='data:json,{"id":"dma_carDub","key":"cgsCarUseVo"}' action="SvcCCSCGSCUSR05.pwkjson" method="post" mediatype="application/json"
				encoding="UTF-8" instance="" replace="" errorHandler="" customHandler="" mode="asynchronous" processMsg="" ev:submit=""
				ev:submitdone="" ev:submiterror="" abortTrigger="">
			</xf:submission>
			
			<!-- 배차중복조회2 -->
			<xf:submission id="sbm_dupCheckCarUse2" ref='data:json,dma_carUse'
				target='data:json,{"id":"dma_carDub","key":"cgsCarUseVo"}' action="SvcCCSCGSCUSR06.pwkjson" method="post" mediatype="application/json"
				encoding="UTF-8" instance="" replace="" errorHandler="" customHandler="" mode="asynchronous" processMsg="" ev:submit=""
				ev:submitdone="" ev:submiterror="" abortTrigger="">
			</xf:submission>
            
        </xf:model>
         <script type="text/javascript" lazy="false"><![CDATA[
     /****************************************************
	 * 화면 설명 : 차량배차신청
	 * 변경 이력 : 2022-06 박영훈 최초생성
	 * serviceId : C20B
	 ****************************************************/     
	/**
	 * 페이지 로딩 이벤트
	 */	
	scwin.sn = com.getLoginInfo("sn");
	
	scwin.onpageload = function() {
		// 초기화
		var param = com.getParameter();
		dma_carUse.setJSON(param);

		// enter key event
		com.setEnterKeyEvent(grp_driver, scwin.btn_emp_onclick);
		com.setEnterKeyEvent(grp_driver1, scwin.btn_emp1_onclick);
		com.setEnterKeyEvent(grp_driver2, scwin.btn_emp2_onclick);		
		
		// 기간 역전 체크
		com.checkPeriod(ica_use_orign_ymd, ica_use_cls_ymd);	
		
		var codeOptions = [ { code : "CGK", compID :"area_list_sel"}]; // 신청지역
		com.setCmnCd(codeOptions, function() {	
			if(param.cmd == "Vw"){
				area_list_sel.setValue(param.req_region_cd);
				scwin.searchCar_change();
				
				ica_use_orign_ymd.setDisabled(true);
				selectboxUseOrignTime.setDisabled(true);
				ica_use_cls_ymd.setDisabled(true);
				selectboxUseClsTime.setDisabled(true);
				area_list_sel.setDisabled(true);
				selectboxCarNm.setDisabled(true);
				
				scwin.search();
			}else{
				var session = com.getLoginInfo();
				
				dma_carUse.set("req_psn_syspayno", session.sn);
				dma_carUse.set("req_psn_nm", session.cn);
				dma_carUse.set("req_psn_dept",  session.deptCode);
				dma_carUse.set("req_psn_dept_new_ymd", session.deptNewYmd);
				dma_carUse.set("req_psn_mail_addr", session.email);
				
				// 사용 시작일자
				ica_use_orign_ymd.setValue(com.getServerDateTime());	
				
				scwin.btnVisibleControl("", "", "", scwin.sn);	
			}	
		});		
	};
	
	scwin.onpageunload = function() {

	};
	
	scwin.search = function(){
		com.execute(sbm_selectCgsDetail, {
			successCallback : function(e) {
				var bizwrkPrityRank = dma_carUse.get("bizwrk_prity_rank");
				
				cData = bizwrkPrityRank.split(";");
				checkbox1.setValue(cData[0]);
				checkbox2.setValue(cData[1]);
				checkbox3.setValue(cData[2]);
				checkbox4.setValue(cData[3]);
				checkbox5.setValue(cData[4]);
				checkbox6.setValue(cData[5]);
				checkbox7.setValue(cData[6]);
				checkbox8.setValue(cData[7]);

				// 버튼 제어
				scwin.btnVisibleControl(dma_carUse.get("req_state"), dma_carUse.get("req_psn_syspayno"), dma_carUse.get("charg_syspayno"), scwin.sn);
			}
		});
	};

	
	//차량조회
	scwin.searchCar_change = function() {
		dma_carListSearch.set("region_cd",dma_carUse.get("req_region_cd"));
		
		dlt_carList.removeAll();
		
		com.execute(sbm_selectCarList, {
			successCallback : function(e) {				
				dlt_carList.setJSON(e.responseJSON.elData.cgsCarUseVoList);
			}
		});

	};
	
	scwin.btn_saveCgs_onclick = function() {
		var bizwrkPrityRank = checkbox1.getValue() + ";" + checkbox2.getValue() + ";" + checkbox3.getValue() + ";" + checkbox4.getValue() + ";" + checkbox5.getValue() + ";"
						+ checkbox6.getValue() + ";" + checkbox7.getValue() + ";" + checkbox8.getValue();
							
		dma_carUse.set("bizwrk_prity_rank",bizwrkPrityRank);
		dma_carUse.set("req_region_nm", area_list_sel.getText());
		
		if(!scwin.vaildCheck()) return;
			
		dma_carUse.get("req_state")=="" ? scwin.dubCheck() :  scwin.saveCgs()
		
	};
	
	//저장
	scwin.saveCgs = function() {
		if(!scwin.vaildCheck()) return;
	
		com.execute(sbm_saveCgs, {
			successCallback : function(e) { // 성공 콜백
				com.alert("message.xom.wq.023"/*정상적으로 처리되었습니다.*/, function() {
					scwin.closeActionFlag = true; // 삭제 후 닫을때는 변경분 체크 안하도록
					com.closePopup("save"); // 팝업 닫기 (콜백 수행을 위해 빈 객체 넘김)
				});
			}
		});
	};
	
	/**
	 * 저장 전 체크
	 */
	scwin.vaildCheck = function() {			
		if(!com.validateData(dma_carUse, [
			{ id : "use_orign_ymd", mandatory : true},
			{ id : "use_cls_ymd", mandatory : true},
			{ id : "req_region_cd", mandatory : true},
			{ id : "destin", mandatory : true},
			{ id : "car_no", mandatory : true},
			{ id : "driv_psn_syspayno", mandatory : true},
			{ id : "driv_empno", mandatory : true},
			{ id : "bsns_contnt", mandatory : true},			
		], false)) return false;
		
		if (dma_carUse.get("use_orign_ymd") == dma_carUse.get("use_cls_ymd")) {
			if(selectboxUseOrignTime.getValue() >= selectboxUseClsTime.getValue()){
				alert("시작시간은 종료시간보다 커야합니다.");
				return false;
			}
		}
			
		return true;
	}
	
	//삭제클릭이벤트
	scwin.btn_deleteCgs_onclick = function() {
		com.confirm("message.xom.wq.022"/*삭제 하시겠습니까?*/, function(ret) {
			if (ret) {
				scwin.deleteCgs();
			}
		});
	};
	
	//삭제
	scwin.deleteCgs = function() {

		com.execute(sbm_deleteCgs, {
			successCallback : function(e) { // 성공 콜백
				com.alert("message.xom.wq.023"/*정상적으로 처리되었습니다.*/, function() {
					scwin.closeActionFlag = true; // 삭제 후 닫을때는 변경분 체크 안하도록
					com.closePopup({}); // 팝업 닫기 (콜백 수행을 위해 빈 객체 넘김)
					});
				}
		});
			
	};		
		
	scwin.btn_close_onclick = function() {
		com.closePopup({}); // 팝업 닫기 (콜백 수행을 위해 빈 객체 넘김)
	};	

	scwin.btn_emp_onclick = function(e) {
		var data={empno : inputDrivPsnEmpNo.getValue()};
		
		com.pop.open( com.pop.TYPE.HUM, data, function(ret){
			dma_carUse.set("driv_empno", ret.empno);
			dma_carUse.set("driv_psn_nm", ret.nm);
			dma_carUse.set("driv_psn_syspayno", ret.syspayno);
		});
		
	};
	scwin.btn_emp1_onclick = function(e) {
		var data={empno : inputDrivPsnEmpNo1.getValue()};
		
		com.pop.open( com.pop.TYPE.HUM, data, function(ret){
			dma_carUse.set("driv_empno_1", ret.empno);
			dma_carUse.set("driv_psn_nm_1", ret.nm);
			dma_carUse.set("driv_psn_syspayno_1", ret.syspayno);
		});
	};
	
	scwin.btn_emp2_onclick = function(e) {
		var data={empno : inputDrivPsnEmpNo2.getValue()};
		
		com.pop.open( com.pop.TYPE.HUM, data, function(ret){
			dma_carUse.set("driv_empno_2", ret.empno);
			dma_carUse.set("driv_psn_nm_2", ret.nm);
			dma_carUse.set("driv_psn_syspayno_2", ret.syspayno);
		});
	};
	

	scwin.selectboxCarNm_onchange = function(info) {
		if(info.newValue == "") return;
		 
		dma_carListSearch.set("car_no",info.newValue);
		
		com.execute(sbm_selectCar, {
				successCallback : function(e) { // 성공 콜백
            			dma_carUse.set("charg_syspayno", dma_car.get("admin_syspayno"));
            			dma_carUse.set("charg_nm", dma_car.get("admin_nm"));
				}
		});
	};

	scwin.btn_control = function(e) {
		var clsf = this.options.clsf;
		switch(clsf) {
			case "Re":
			case "Ac":
				var reqState = this.options.state;
				dma_carUse.set("req_state", reqState);
				dma_carUse.set("isSend", "Y");
				scwin.btn_saveCgs_onclick();
				break;
		}
	}
	
	scwin.btnVisibleControl = function(aprState, reqSyspayno, chargSyspayno, sn) {
		// 0-저장, 1-삭제, 2-승인, 3-반려
		var btnBtmArr = [ btn_save, btn_del, btn_acpt, btn_back];
		
		var targetBtnBtmArr = new Array();
		
		if (aprState == "") { // *신규 : 신청
			targetBtnBtmArr = [ btnBtmArr[0] ];
		} else if (aprState == "CGO001") { // *신청중(신청자가 신청) : 신청, 신청취소, 승인, 반려
			if(reqSyspayno == sn) {
				targetBtnBtmArr = [ btnBtmArr[1] ];
				if(chargSyspayno == sn){
					targetBtnBtmArr.splice(1, 0, btnBtmArr[2], btnBtmArr[3])
				}
			}else if(chargSyspayno == sn){ // *신청중(담당자가 신청) : 승인, 반려
				targetBtnBtmArr = [ btnBtmArr[2], btnBtmArr[3] ];
			}			
		} else if (aprState == "CGO005" && chargSyspayno == sn) { // *반려(담당자가 신청) : 저장, 삭제, 승인
			targetBtnBtmArr = [ btnBtmArr[0], btnBtmArr[1], btnBtmArr[2] ];
		} else if ((aprState == "CGO004" || aprState == "CGO005") && reqSyspayno == sn) { // *승인/반려(신청자가 신청) : 삭제
			targetBtnBtmArr = [ btnBtmArr[1] ];
		} else if (aprState == "CGO004" && chargSyspayno == sn) { // *승인(담당자) : 반려, 일지
			targetBtnBtmArr = [ btnBtmArr[3]];
		} else {
			targetBtnBtmArr = [];
		}
		
		targetBtnBtmArr.forEach(function(btnComp) {
			btnComp.show("");
		});
	}
	
	scwin.dubCheck = function() {
		com.execute(sbm_dupCheckCarUse, {
			successCallback : function(e) {
				var carNo = dma_carDub.get("car_no");
				console.log(carNo);
				if(carNo != null && carNo != ""){
					alert("해당일에 신청 또는 확정 상태인 차량배차신청서가 존재합니다.");
					dma_carDub.setEmptyValue();
				}else{
					scwin.dubCheck2();
				}
			}
		});
	}
	scwin.dubCheck2 = function() {
		com.execute(sbm_dupCheckCarUse2, {
			successCallback : function(e) {
				var carNo = dma_carDub.get("car_no");
				if(carNo != null && carNo != ""){
					alert("해당일에 신청 또는 확정 상태인 차량배차신청서가 존재합니다.");
					dma_carDub.setEmptyValue();
				}else{
					scwin.saveCgs();
				}
			}
		});
	}
	

	
	]]></script>
    </head>
    <body ev:onpageload="scwin.onpageload">
    <xf:group id="" class="pop_contents">
    	<xf:group class="titleSection pt0" id="" style="">
    		<xf:group class="le" id="">
    			<w2:textbox class="tit_tbl" id="" label="신청정보" style="" tagname="h3"></w2:textbox>
    		</xf:group>
    	</xf:group>
    	<xf:group class="w2tb tbl" id="" style="" tagname="table">
    		<w2:attributes>
    			<w2:summary></w2:summary>
    		</w2:attributes>
    		<xf:group tagname="caption" text="차량배차신청서 신청정보 상세정보입력"></xf:group>
    		<xf:group tagname="colgroup">
    			<xf:group style="width:120px;" tagname="col"></xf:group>
    			<xf:group style="width: 240px" tagname="col"></xf:group>
    			<xf:group style="width:120px;" tagname="col"></xf:group>
    			<xf:group style="width: 240px" tagname="col"></xf:group>
    			<xf:group style="width:120px;" tagname="col"></xf:group>
    			<xf:group style="" tagname="col"></xf:group>
    		</xf:group>
    		<xf:group style="" tagname="tr">
    			<xf:group class="w2tb_th" style="" tagname="th">
    				<w2:attributes>
    					<w2:scope>row</w2:scope>
    				</w2:attributes>
    				<w2:span class="bul_req" id="" label="[필수입력항목]" style=""></w2:span>
    				<w2:textbox id="" label="사용일자" style="" tagname="span"></w2:textbox>
    			</xf:group>
    			<xf:group class="w2tb_td" style="" tagname="td">
    				<w2:attributes>
    					<w2:colspan>3</w2:colspan>
    					<w2:rowspan>1</w2:rowspan>
    				</w2:attributes>
    				<w2:inputCalendar calendarValueType="yearMonthDate" class="inpcal req" focusOnDateSelect="false" footerDiv="false" id="ica_use_orign_ymd"
    					placeholder="시작일" renderDiv="true" rightAlign="false" style="" title="사용일자 시작일자" ref="data:dma_carUse.use_orign_ymd">
    				</w2:inputCalendar>
    				<xf:select1 allOption="" appearance="minimal" chooseOption="" class="sel req" direction="auto" disabled="false"
    					disabledClass="w2selectbox_disabled" id="selectboxUseOrignTime" style="width:60px;" submenuSize="auto"
    					title="사용일자 시작시간" ref="data:dma_carUse.use_orign_time">
    					<xf:choices>
    						<xf:item>
    							<xf:label><![CDATA[07:00]]></xf:label>
    							<xf:value><![CDATA[07:00]]></xf:value>
    						</xf:item>
    						<xf:item>
    							<xf:label><![CDATA[08:00]]></xf:label>
    							<xf:value><![CDATA[08:00]]></xf:value>
    						</xf:item>
    						<xf:item>
    							<xf:label><![CDATA[09:00]]></xf:label>
    							<xf:value><![CDATA[09:00]]></xf:value>
    						</xf:item>
    						<xf:item>
    							<xf:label><![CDATA[10:00]]></xf:label>
    							<xf:value><![CDATA[10:00]]></xf:value>
    						</xf:item>
    						<xf:item>
    							<xf:label><![CDATA[11:00]]></xf:label>
    							<xf:value><![CDATA[11:00]]></xf:value>
    						</xf:item>
    						<xf:item>
    							<xf:label><![CDATA[12:00]]></xf:label>
    							<xf:value><![CDATA[12:00]]></xf:value>
    						</xf:item>
    						<xf:item>
    							<xf:label><![CDATA[13:00]]></xf:label>
    							<xf:value><![CDATA[13:00]]></xf:value>
    						</xf:item>
    						<xf:item>
    							<xf:label><![CDATA[14:00]]></xf:label>
    							<xf:value><![CDATA[14:00]]></xf:value>
    						</xf:item>
    						<xf:item>
    							<xf:label><![CDATA[15:00]]></xf:label>
    							<xf:value><![CDATA[15:00]]></xf:value>
    						</xf:item>
    						<xf:item>
    							<xf:label><![CDATA[16:00]]></xf:label>
    							<xf:value><![CDATA[16:00]]></xf:value>
    						</xf:item>
    						<xf:item>
    							<xf:label><![CDATA[17:00]]></xf:label>
    							<xf:value><![CDATA[17:00]]></xf:value>
    						</xf:item>
    						<xf:item>
    							<xf:label><![CDATA[18:00]]></xf:label>
    							<xf:value><![CDATA[18:00]]></xf:value>
    						</xf:item>
    						<xf:item>
    							<xf:label><![CDATA[19:00]]></xf:label>
    							<xf:value><![CDATA[19:00]]></xf:value>
    						</xf:item>
    						<xf:item>
    							<xf:label><![CDATA[20:00]]></xf:label>
    							<xf:value><![CDATA[20:00]]></xf:value>
    						</xf:item>
    						<xf:item>
    							<xf:label><![CDATA[21:00]]></xf:label>
    							<xf:value><![CDATA[21:00]]></xf:value>
    						</xf:item>
    					</xf:choices>
    				</xf:select1>
    				<w2:textbox class="dash" id="" label="~" style="" tagname="span"></w2:textbox>
    				<w2:inputCalendar calendarValueType="yearMonthDate" class="inpcal req" focusOnDateSelect="false" footerDiv="false" id="ica_use_cls_ymd"
    					placeholder="종료일" renderDiv="true" rightAlign="false" style="" title="사용일자 종료일자" ref="data:dma_carUse.use_cls_ymd">
    				</w2:inputCalendar>
    				<xf:select1 allOption="" appearance="minimal" chooseOption="" class="sel req" direction="auto" disabled="false"
    					disabledClass="w2selectbox_disabled" id="selectboxUseClsTime" ref="data:dma_carUse.use_cls_time" style="width:60px;" submenuSize="auto" title="사용시간 종료시간">
    					<xf:choices>
    						<xf:item>
    							<xf:label><![CDATA[07:00]]></xf:label>
    							<xf:value><![CDATA[07:00]]></xf:value>
    						</xf:item>
    						<xf:item>
    							<xf:label><![CDATA[08:00]]></xf:label>
    							<xf:value><![CDATA[08:00]]></xf:value>
    						</xf:item>
    						<xf:item>
    							<xf:label><![CDATA[09:00]]></xf:label>
    							<xf:value><![CDATA[09:00]]></xf:value>
    						</xf:item>
    						<xf:item>
    							<xf:label><![CDATA[10:00]]></xf:label>
    							<xf:value><![CDATA[10:00]]></xf:value>
    						</xf:item>
    						<xf:item>
    							<xf:label><![CDATA[11:00]]></xf:label>
    							<xf:value><![CDATA[11:00]]></xf:value>
    						</xf:item>
    						<xf:item>
    							<xf:label><![CDATA[12:00]]></xf:label>
    							<xf:value><![CDATA[12:00]]></xf:value>
    						</xf:item>
    						<xf:item>
    							<xf:label><![CDATA[13:00]]></xf:label>
    							<xf:value><![CDATA[13:00]]></xf:value>
    						</xf:item>
    						<xf:item>
    							<xf:label><![CDATA[14:00]]></xf:label>
    							<xf:value><![CDATA[14:00]]></xf:value>
    						</xf:item>
    						<xf:item>
    							<xf:label><![CDATA[15:00]]></xf:label>
    							<xf:value><![CDATA[15:00]]></xf:value>
    						</xf:item>
    						<xf:item>
    							<xf:label><![CDATA[16:00]]></xf:label>
    							<xf:value><![CDATA[16:00]]></xf:value>
    						</xf:item>
    						<xf:item>
    							<xf:label><![CDATA[17:00]]></xf:label>
    							<xf:value><![CDATA[17:00]]></xf:value>
    						</xf:item>
    						<xf:item>
    							<xf:label><![CDATA[18:00]]></xf:label>
    							<xf:value><![CDATA[18:00]]></xf:value>
    						</xf:item>
    						<xf:item>
    							<xf:label><![CDATA[19:00]]></xf:label>
    							<xf:value><![CDATA[19:00]]></xf:value>
    						</xf:item>
    						<xf:item>
    							<xf:label><![CDATA[20:00]]></xf:label>
    							<xf:value><![CDATA[20:00]]></xf:value>
    						</xf:item>
    						<xf:item>
    							<xf:label><![CDATA[21:00]]></xf:label>
    							<xf:value><![CDATA[21:00]]></xf:value>
    						</xf:item>
    					</xf:choices>
    				</xf:select1>
    			</xf:group>
    			<xf:group class="w2tb_th" style="" tagname="th">
    				<w2:attributes>
    					<w2:scope>row</w2:scope>
    				</w2:attributes>
    				<w2:textbox id="" label="신청상태" style="" tagname="span"></w2:textbox>
    			</xf:group>
    			<xf:group class="w2tb_td" style="" tagname="td">
    				<xf:input adjustMaxLength="false" class="inp full" id="" style="" title="신청상태" readOnly="true" ref="data:dma_carUse.req_state_nm"></xf:input>
    			</xf:group>
    		</xf:group>
    		<xf:group style="" tagname="tr">
    			<xf:group class="w2tb_th" style="" tagname="th">
    				<w2:attributes>
    					<w2:scope>row</w2:scope>
    				</w2:attributes>
    				<w2:span class="bul_req" id="" label="[필수입력항목]" style=""></w2:span>
    				<w2:textbox id="" label="신청지역" style="" tagname="span"></w2:textbox>
    			</xf:group>
    			<xf:group class="w2tb_td" style="" tagname="td">
    				<xf:select1 allOption="" appearance="minimal" chooseOption="true" chooseOptionLabel="- 전체 -" class="sel  req"
    					direction="auto" disabled="false" disabledClass="w2selectbox_disabled" id="area_list_sel" ref="data:dma_carUse.req_region_cd"
    					style="width:150px;" submenuSize="auto" title="신청지역" ev:onviewchange="scwin.searchCar_change">
    					<xf:choices>
    						<xf:itemset nodeset="data:area_list">
    							<xf:label ref="req_region_nm"></xf:label>
    							<xf:value ref="req_region_cd"></xf:value>
    						</xf:itemset>
    					</xf:choices>
    				</xf:select1>
    			</xf:group>
    			<xf:group class="w2tb_th" style="" tagname="th">
    				<w2:attributes>
    					<w2:scope>row</w2:scope>
    				</w2:attributes>
    				<w2:span class="bul_req" id="" label="[필수입력항목]" style=""></w2:span>
    				<w2:textbox id="" label="행선지" style="" tagname="span"></w2:textbox>
    			</xf:group>
    			<xf:group class="w2tb_td" style="" tagname="td">
    				<w2:attributes>
    					<w2:colspan>3</w2:colspan>
    					<w2:rowspan>1</w2:rowspan>
    				</w2:attributes>
    				<xf:input adjustMaxLength="false" class="inp full  req" id="inputDestin" style="" title="행선지" ref="data:dma_carUse.destin"></xf:input>
    			</xf:group>
    		</xf:group>
    		<xf:group style="" tagname="tr">
    			<xf:group class="w2tb_th" style="" tagname="th">
    				<w2:attributes>
    					<w2:scope>row</w2:scope>
    				</w2:attributes>
    				<w2:span class="bul_req" id="" label="[필수입력항목]" style=""></w2:span>
    				<w2:textbox id="" label="차량" style="" tagname="span"></w2:textbox>
    			</xf:group>
    			<xf:group class="w2tb_td" style="" tagname="td">
    				<xf:select1 allOption="" appearance="minimal" chooseOption="true" chooseOptionLabel="- 전체 -" class="sel  req"
    					direction="auto" disabled="false" disabledClass="w2selectbox_disabled" id="selectboxCarNm" ref="data:dma_carUse.car_no" style="width:150px;"
    					submenuSize="auto" title="신청지역" ev:onchange="scwin.selectboxCarNm_onchange">
    					<xf:choices>
    						<xf:itemset nodeset="data:dlt_carList">
    							<xf:label ref="rpt"></xf:label>
    							<xf:value ref="car_no"></xf:value>
    						</xf:itemset>
    					</xf:choices>
    				</xf:select1>
    			</xf:group>
    			<xf:group class="w2tb_th" style="" tagname="th">
    				<w2:attributes>
    					<w2:scope>row</w2:scope>
    				</w2:attributes>
    				<w2:span class="bul_req" id="" label="[필수입력항목]" style=""></w2:span>
    				<w2:textbox id="" label="운전자" style="" tagname="span"></w2:textbox>
    			</xf:group>
    			<xf:group class="w2tb_td" style="" tagname="td">
    				<xf:group class="inpSch " id="grp_driver" style="width: 100px;">
    					<xf:input adjustMaxLength="false" class="inp  req" id="inputDrivPsnEmpNo" style="" title="운전자번호"  ref="data:dma_carUse.driv_empno"></xf:input>
    					<xf:trigger class="btn" id="btn_emp" style="" type="button" title="운전자 조회" ev:onclick="scwin.btn_emp_onclick">
    						<xf:label><![CDATA[검색]]></xf:label>
    					</xf:trigger>
    				</xf:group>
    				<xf:input adjustMaxLength="false" class="inp  req" id="inputDrivPsnNm" style="width: 100px;" title="운전자 이름" readOnly="true" ref="data:dma_carUse.driv_psn_nm"></xf:input>
    			</xf:group>
    			<xf:group class="w2tb_th" style="" tagname="th">
    				<w2:attributes>
    					<w2:scope>row</w2:scope>
    				</w2:attributes>
    				<w2:textbox id="" label="탑승자" style="" tagname="span"></w2:textbox>
    			</xf:group>
    			<xf:group class="w2tb_td" style="" tagname="td">
    				<xf:input adjustMaxLength="false" class="inp full" id="" style="" title="탑승자" ref="data:dma_carUse.onbrd_psn"></xf:input>
    			</xf:group>
    		</xf:group> 
    		<xf:group style="" tagname="tr">
    			<xf:group class="w2tb_th" style="" tagname="th">
    				<w2:attributes>
    					<w2:scope>row</w2:scope>
    				</w2:attributes>
    				<w2:textbox id="" label="운전자1" style="" tagname="span"></w2:textbox>
    			</xf:group>
    			<xf:group class="w2tb_td" style="" tagname="td">
    				<xf:group class="inpSch" id="grp_driver1" style="width: 100px;">
    					<xf:input adjustMaxLength="false" class="inp" id="inputDrivPsnEmpNo1" style="" title="운전자1 번호" ref="data:dma_carUse.driv_empno_1"></xf:input>
    					<xf:trigger class="btn" id="btn_emp1" style="" type="button" title="운전자1 조회" ev:onclick="scwin.btn_emp1_onclick">
    						<xf:label><![CDATA[검색]]></xf:label>
    					</xf:trigger>
    				</xf:group>
    				<xf:input adjustMaxLength="false" class="inp" id="inputDrivPsnNm1" style="width: 100px;" title="운전자1 이름" readOnly="true" ref="data:dma_carUse.driv_psn_nm_1"></xf:input>
    			</xf:group>
    			<xf:group class="w2tb_th" style="" tagname="th">
    				<w2:attributes>
    					<w2:scope>row</w2:scope>
    				</w2:attributes>
    				<w2:textbox id="" label="운전자2" style="" tagname="span"></w2:textbox>
    			</xf:group>
    			<xf:group class="w2tb_td" style="" tagname="td">
    				<w2:attributes>
    					<w2:colspan>3</w2:colspan>
    					<w2:rowspan>1</w2:rowspan>
    				</w2:attributes>
    				<xf:group class="inpSch" id="grp_driver2" style="width: 100px;">
    					<xf:input adjustMaxLength="false" class="inp" id="inputDrivPsnEmpNo2" style="" title="운전자2 번호" ref="data:dma_carUse.driv_empno_2"></xf:input>
    					<xf:trigger class="btn" id="btn_emp2" style="" title="운전자2 조회" type="button" ev:onclick="scwin.btn_emp2_onclick">
    						<xf:label><![CDATA[검색]]></xf:label>
    					</xf:trigger>
    				</xf:group>
    				<xf:input adjustMaxLength="false" class="inp" id="inputDrivPsnNm2" style="width: 100px;" title="운전자2 이름" readOnly="true" ref="data:dma_carUse.driv_psn_nm_2">></xf:input>
    			</xf:group>
    		</xf:group>
    		<xf:group style="" tagname="tr">
    			<xf:group class="w2tb_th" style="" tagname="th">
    				<w2:attributes>
    					<w2:scope>row</w2:scope>
    				</w2:attributes>
    				<w2:textbox id="" label="사용구분" style="" tagname="span"></w2:textbox>
    			</xf:group>
    			<xf:group class="w2tb_td" style="" tagname="td">
    				<xf:select appearance="full" class="chkGroup" cols="" id="checkbox1" ref="" renderType="checkboxgroup" rows="" selectedindex="-1"
    					style="" ev:onchange="scwin.checkbox1_onchange">
    					<xf:choices>
    						<xf:item>
    							<xf:label><![CDATA[VIP접견]]></xf:label>
    							<xf:value><![CDATA[1]]></xf:value>
    						</xf:item>
    					</xf:choices>
    				</xf:select>
    				<xf:select appearance="full" class="chkGroup" cols="" id="checkbox2" ref="" renderType="checkboxgroup" rows="" selectedindex="-1"
    					style="">
    					<xf:choices>
    						<xf:item>
    							<xf:label><![CDATA[정부부처보고/협의]]></xf:label>
    							<xf:value><![CDATA[2]]></xf:value>
    						</xf:item>
    					</xf:choices>
    				</xf:select>
    				<xf:select appearance="full" class="chkGroup" cols="" id="checkbox3" ref="" renderType="checkboxgroup" rows="" selectedindex="-1"
    					style="">
    					<xf:choices>
    						<xf:item>
    							<xf:label><![CDATA[기관협력사업체결]]></xf:label>
    							<xf:value><![CDATA[3]]></xf:value>
    						</xf:item>
    					</xf:choices>
    				</xf:select>
    				<xf:select appearance="full" class="chkGroup" cols="" id="checkbox4" ref="" renderType="checkboxgroup" rows="" selectedindex="-1"
    					style="">
    					<xf:choices>
    						<xf:item>
    							<xf:label><![CDATA[과제협약]]></xf:label>
    							<xf:value><![CDATA[4]]></xf:value>
    						</xf:item>
    					</xf:choices>
    				</xf:select>
    				<xf:select appearance="full" class="chkGroup" cols="" id="checkbox5" ref="" renderType="checkboxgroup" rows="" selectedindex="-1"
    					style="">
    					<xf:choices>
    						<xf:item>
    							<xf:label><![CDATA[대외기관 회의및협의]]></xf:label>
    							<xf:value><![CDATA[5]]></xf:value>
    						</xf:item>
    					</xf:choices>
    				</xf:select>
    				<xf:select appearance="full" class="chkGroup" cols="" id="checkbox6" ref="" renderType="checkboxgroup" rows="" selectedindex="-1"
    					style="">
    					<xf:choices>
    						<xf:item>
    							<xf:label><![CDATA[연구/실험/보고서제출]]></xf:label>
    							<xf:value><![CDATA[6]]></xf:value>
    						</xf:item>
    					</xf:choices>
    				</xf:select>
    				<xf:select appearance="full" class="chkGroup" cols="" id="checkbox7" ref="" renderType="checkboxgroup" rows="" selectedindex="-1"
    					style="">
    					<xf:choices>
    						<xf:item>
    							<xf:label><![CDATA[워크숍및세미나]]></xf:label>
    							<xf:value><![CDATA[7]]></xf:value>
    						</xf:item>
    					</xf:choices>
    				</xf:select>
    				<xf:select appearance="full" class="chkGroup" cols="" id="checkbox8" ref="" renderType="checkboxgroup" rows="" selectedindex="-1"
    					style="">
    					<xf:choices>
    						<xf:item>
    							<xf:label><![CDATA[기타(외출)]]></xf:label>
    							<xf:value><![CDATA[8]]></xf:value>
    						</xf:item>
    					</xf:choices>
    				</xf:select>
    				<w2:attributes>
    					<w2:colspan>5</w2:colspan>
    					<w2:rowspan>1</w2:rowspan>
    				</w2:attributes>
    			</xf:group>
    		</xf:group>
    		<xf:group style="" tagname="tr">
    			<xf:group class="w2tb_th" style="" tagname="th">
    				<w2:attributes>
    					<w2:scope>row</w2:scope>
    				</w2:attributes>
    				<w2:span class="bul_req" id="" label="[필수입력항목]" style=""></w2:span>
    				<w2:textbox id="" label="사업목적" style="" tagname="span"></w2:textbox>
    			</xf:group>
    			<xf:group class="w2tb_td" style="" tagname="td">
    				<w2:attributes>
    					<w2:colspan>5</w2:colspan>
    					<w2:rowspan>1</w2:rowspan>
    				</w2:attributes>
    				<xf:input adjustMaxLength="false" class="inp full req" id="inputCont" style="" title="사업목적"  ref="data:dma_carUse.bsns_contnt"></xf:input>
    			</xf:group>
    		</xf:group>
    		<xf:group style="" tagname="tr">
    			<xf:group class="w2tb_th" style="" tagname="th">
    				<w2:attributes>
    					<w2:scope>row</w2:scope>
    				</w2:attributes>
    				<w2:textbox id="" label="신청자" style="" tagname="span"></w2:textbox>
    			</xf:group>
    			<xf:group class="w2tb_td" style="" tagname="td">
    				<xf:input adjustMaxLength="false" class="inp full" id="" style="" title="신청자" ref="data:dma_carUse.req_psn_nm"></xf:input>
    			</xf:group>
    			<xf:group class="w2tb_th" style="" tagname="th">
    				<w2:attributes>
    					<w2:scope>row</w2:scope>
    				</w2:attributes>
    				<w2:textbox id="" label="담당자" style="" tagname="span"></w2:textbox>
    			</xf:group>
    			<xf:group class="w2tb_td" style="" tagname="td">
    				<xf:input adjustMaxLength="false" class="inp full" id="" style="" title="담당자" readOnly="true" ref="data:dma_carUse.charg_nm"></xf:input>
    			</xf:group>
    			<xf:group class="w2tb_th" style="" tagname="th">
    				<w2:attributes>
    					<w2:scope>row</w2:scope>
    				</w2:attributes>
    				<w2:textbox id="" label="신청자 전화번호" style="" tagname="span"></w2:textbox>
    			</xf:group>
    			<xf:group class="w2tb_td" style="" tagname="td">
    				<xf:input adjustMaxLength="false" class="inp full" id="" style="" title="신청자 전화번호" ref="data:dma_carUse.req_psn_tel"></xf:input>
    			</xf:group>
    		</xf:group>
    		<xf:group style="" tagname="tr">
    			<xf:group class="w2tb_th" style="" tagname="th">
    				<w2:attributes>
    					<w2:scope>row</w2:scope>
    				</w2:attributes>
    				<w2:textbox id="" label="비고" style="" tagname="span"></w2:textbox>
    			</xf:group>
    			<xf:group class="w2tb_td" style="" tagname="td">
    				<w2:attributes>
    					<w2:colspan>5</w2:colspan>
    					<w2:rowspan>1</w2:rowspan>
    				</w2:attributes>
    				<xf:input adjustMaxLength="false" class="inp full" id="" style="" title="비고"  ref="data:dma_carUse.rmk"></xf:input>
    			</xf:group>
    		</xf:group>
    	</xf:group>
    	<xf:group class="helparea" id="" style="">
    		<xf:group id="" style="" tagname="ul">
    			<xf:group id="" tagname="li">
    				<w2:textbox id="" label="신청하신 차량은 확정시에 변경될 수 있습니다." style="" tagname="span"></w2:textbox>
    			</xf:group>
    			<xf:group id="" style="" tagname="li">
    				<w2:textbox class="red" id="" label="운전가능자 : 만 26세 이상. 운전면허 취득 1년 이상자(차량 임대차 계약서 제 6조)" style="" tagname="span"></w2:textbox>
    			</xf:group>
    		</xf:group>
    	</xf:group>
    	<xf:group style="" id="" class="btnGroup">
    		<xf:group style="" id="" class="le"></xf:group>
    		<xf:group id="" class="ri">
    			<xf:trigger class=" btn pro conf" id="btn_acpt" style="display:none;" type="button" ev:onclick="scwin.btn_control" clsf="Ac" state="CGO004">
    				&gt;
    				<xf:label><![CDATA[승인]]></xf:label>
    			</xf:trigger>
    			<xf:trigger class=" btn pro conf" id="btn_back" style="display:none;" type="button" ev:onclick="scwin.btn_control" clsf="Re" state="CGO005">
    				&gt;
    				<xf:label><![CDATA[반려]]></xf:label>
    			</xf:trigger>
    			<xf:trigger class=" btn pro conf" ev:onclick="scwin.btn_saveCgs_onclick" id="btn_save" style="display:none;" type="button">
    				&gt;
    				<xf:label><![CDATA[저장]]></xf:label>
    			</xf:trigger>
    			<xf:trigger style="display:none;" id="btn_del" type="button" class=" btn pro conf" ev:onclick="scwin.btn_deleteCgs_onclick">
    				<xf:label><![CDATA[삭제]]></xf:label>
    			</xf:trigger>
    			<xf:trigger style="" id="btn_close" type="button" class=" btn pro" ev:onclick="scwin.btn_close_onclick">
    				<xf:label><![CDATA[닫기]]></xf:label>
    			</xf:trigger>
    		</xf:group>
    	</xf:group>
    </xf:group></body>
</html>
