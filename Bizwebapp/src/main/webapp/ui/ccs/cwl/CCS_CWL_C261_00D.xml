<?xml version="1.0" encoding="UTF-8"?>
<html xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ev="http://www.w3.org/2001/xml-events"
    xmlns:w2="http://www.inswave.com/websquare" xmlns:xf="http://www.w3.org/2002/xforms">
    <head meta_programName="경조사비 신청" meta_vertical_guides="" meta_horizontal_guides="">
    	<w2:type>DEFAULT</w2:type>
        <w2:buildDate/>
        <xf:model>
            <xf:instance>
                <data xmlns=""/>
            </xf:instance>
            <w2:dataCollection baseNode="map">
            	<w2:dataMap baseNode="map" id="dma_search">
            		<w2:keyInfo>
            			<w2:key id="req_ymd1" name="조회 시작일" dataType="text"></w2:key>
            			<w2:key id="req_ymd2" name="조회 종료일" dataType="text"></w2:key>
            			<w2:key id="cgncd_clsf" name="경조사 구분코드" dataType="text"></w2:key>
            			<w2:key id="req_psn_syspayno" name="사원번호" dataType="text"></w2:key>
            			<w2:key id="empno" name="사원번호" dataType="text"></w2:key>
            			<w2:key id="nm" name="이름" dataType="text"></w2:key>
            			<w2:key id="syspayno" name="사원번호" dataType="text"></w2:key>
            			<w2:key id="fam_relat" name="가족관계 구분코드" dataType="text"></w2:key>
            			<w2:key id="req_ymd" name="경조사비 신청일" dataType="text"></w2:key>
            			<w2:key id="req_no" name="신청번호" dataType="text"></w2:key>
            		</w2:keyInfo>
            	</w2:dataMap>
            	<w2:dataMap baseNode="map" id="dma_humInfo">
            		<w2:keyInfo>
            			<w2:key id="empno" name="empno" dataType="text"></w2:key>
            			<w2:key id="nm" name="nm" dataType="text"></w2:key>
            			<w2:key id="nm_eng" name="nm_eng" dataType="text"></w2:key>
            			<w2:key id="syspayno" name="syspayno" dataType="text"></w2:key>
            			<w2:key id="resid_no" name="resid_no" dataType="text"></w2:key>
            			<w2:key id="dept_cd" name="dept_cd" dataType="text"></w2:key>
            			<w2:key id="dept_new_ymd" name="dept_new_ymd" dataType="text"></w2:key>
            			<w2:key id="dept_nm" name="dept_nm" dataType="text"></w2:key>
            			<w2:key id="dept_typ" name="dept_typ" dataType="text"></w2:key>
            			<w2:key id="fomat_unit" name="fomat_unit" dataType="text"></w2:key>
            			<w2:key id="divsn_dept" name="divsn_dept" dataType="text"></w2:key>
            			<w2:key id="addr" name="addr" dataType="text"></w2:key>
            			<w2:key id="ext_no" name="ext_no" dataType="text"></w2:key>
            		</w2:keyInfo>
            	</w2:dataMap>
            	<w2:dataMap baseNode="map" id="dma_humSlBscInfo">
            		<w2:keyInfo>
            			<w2:key id="salry_bank" name="salry_bank" dataType="text"></w2:key>
            			<w2:key id="salry_bank_nm" name="salry_bank_nm" dataType="text"></w2:key>
            			<w2:key id="bankaccnt_no" name="bankaccnt_no" dataType="text"></w2:key>
            			<w2:key id="depstr" name="depstr" dataType="text"></w2:key>
            			<w2:key id="oth_bankaccnt" name="oth_bankaccnt" dataType="text"></w2:key>
            			<w2:key id="oth_bank" name="oth_bank" dataType="text"></w2:key>
            			<w2:key id="oth_salry_bank_nm" name="oth_salry_bank_nm" dataType="text"></w2:key>
            			<w2:key id="oth_depstr" name="oth_depstr" dataType="text"></w2:key>
            		</w2:keyInfo>
            	</w2:dataMap>
            	<w2:dataMap baseNode="map" id="dma_cwlFee">
            		<w2:keyInfo>
            			<w2:key id="fam_relat" name="가족관계" dataType="text"></w2:key>
            			<w2:key id="cgncd_clsf" name="경조구분" dataType="text"></w2:key>
            			<w2:key id="cgncd_fee" name="경조금액" dataType="text"></w2:key>
            		</w2:keyInfo>
            	</w2:dataMap>
            	<w2:dataMap baseNode="map" id="dma_cwlBeforeInfo">
            		<w2:keyInfo>
            			<w2:key id="req_no" name="req_no" dataType="text"></w2:key>
            			<w2:key id="req_ymd" name="req_ymd" dataType="text"></w2:key>
            			<w2:key id="cgncd_clsf" name="cgncd_clsf" dataType="text"></w2:key>
            			<w2:key id="fam_relat" name="fam_relat" dataType="text"></w2:key>
            		</w2:keyInfo>
            	</w2:dataMap>
            	<w2:dataMap baseNode="map" id="dma_cwlInsertCgCd">
            		<w2:keyInfo>
            			<w2:key id="req_no" name="신청번호" dataType="text"></w2:key>
            			<w2:key id="req_ymd" name="신청일자" dataType="text"></w2:key>
            			<w2:key id="req_psn_nm" name="신청자명" dataType="text"></w2:key>
            			<w2:key id="req_psn_syspayno" name="신청자시스템개인번호" dataType="text"></w2:key>
            			<w2:key id="req_psn_dept_cd" name="신청자부서코드" dataType="text"></w2:key>
            			<w2:key id="req_psn_dept_new_ymd" name="신청자부서신설일자" dataType="text"></w2:key>
            			<w2:key id="dept_tel" name="부서전화번호" dataType="text"></w2:key>
            			<w2:key id="cgncd_clsf" name="경조구분" dataType="text"></w2:key>
            			<w2:key id="fam_relat" name="가족관계" dataType="text"></w2:key>
            			<w2:key id="expns_amt" name="지출금액" dataType="text"></w2:key>
            			<w2:key id="cgncd_detls" name="경조내역" dataType="text"></w2:key>
            			<w2:key id="req_state" name="신청상태" dataType="text"></w2:key>
            			<w2:key id="progrss_state" name="진행상태" dataType="text"></w2:key>
            			<w2:key id="pay_amt" name="지급금액" dataType="text"></w2:key>
            			<w2:key id="pay_ymd" name="지급일자" dataType="text"></w2:key>
            			<w2:key id="depst_bankaccnt_no" name="입금계좌번호" dataType="text"></w2:key>
            			<w2:key id="depst_bank_cd" name="예금은행코드" dataType="text"></w2:key>
            			<w2:key id="depst_bank_nm" name="입금은행명" dataType="text"></w2:key>
            			<w2:key id="depstr_nm" name="예금주명" dataType="text"></w2:key>
            			<w2:key id="rmk" name="비고" dataType="text"></w2:key>
            			<w2:key id="attach_file_no" name="첨부파일번호" dataType="text"></w2:key>
            			<w2:key id="regst_psn_syspayno" name="등록자시스템개인번호" dataType="text"></w2:key>
            			<w2:key id="reject_resn" name="반려사유" dataType="text"></w2:key>
            			<w2:key id="apr_state" name="결재상태" dataType="text"></w2:key>
            			<w2:key id="updt_psn_syspayno" name="수정자시스템개인번호" dataType="text"></w2:key>
            			<w2:key id="apr_tobe_code" name="재신청코드" dataType="text"></w2:key>
            			<w2:key id="apr_state_code" name="name27" dataType="text"></w2:key>
            		</w2:keyInfo>
            	</w2:dataMap>
            	<w2:dataMap baseNode="map" id="dma_cwlCgCdDtl">
            		<w2:keyInfo>
            			<w2:key id="req_no" name="신청번호" dataType="text"></w2:key>
            			<w2:key id="req_psn_dept_cd" name="부서코드" dataType="text"></w2:key>
            			<w2:key id="req_psn_dept_new_ymd" name="부서개설일" dataType="text"></w2:key>
            			<w2:key id="dept_nm" name="부서명" dataType="text"></w2:key>
            			<w2:key id="dept_tel" name="부서 전화번호" dataType="text"></w2:key>
            			<w2:key id="fam_relat" name="가족관계" dataType="text"></w2:key>
            			<w2:key id="cgncd_clsf_nm" name="경조구분명" dataType="text"></w2:key>
            			<w2:key id="req_psn_syspayno" name="시스템개인번호" dataType="text"></w2:key>
            			<w2:key id="emp_no" name="사원번호" dataType="text"></w2:key>
            			<w2:key id="req_psn_nm" name="사원명" dataType="text"></w2:key>
            			<w2:key id="req_ymd" name="신청일" dataType="text"></w2:key>
            			<w2:key id="expns_amt" name="지출금액" dataType="text"></w2:key>
            			<w2:key id="cgncd_detls" name="cgncd_detls" dataType="text"></w2:key>
            			<w2:key id="progrss_state" name="progrss_state" dataType="text"></w2:key>
            			<w2:key id="pay_amt" name="지급금액" dataType="text"></w2:key>
            			<w2:key id="pay_ymd" name="지급일자" dataType="text"></w2:key>
            			<w2:key id="depst_bankaccnt_no" name="입금계좌" dataType="text"></w2:key>
            			<w2:key id="depst_bank_cd" name="은행코드" dataType="text"></w2:key>
            			<w2:key id="depst_bank_nm" name="은행명" dataType="text"></w2:key>
            			<w2:key id="depstr_nm" name="예금주명" dataType="text"></w2:key>
            			<w2:key id="reject_resn" name="반려사유" dataType="text"></w2:key>
            			<w2:key id="rmk" name="경조내역" dataType="text"></w2:key>
            			<w2:key id="attach_file_no" name="첨부파일" dataType="text"></w2:key>
            			<w2:key id="email" name="이메일" dataType="text"></w2:key>
            			<w2:key id="cgncd_clsf" name="경조구분" dataType="text"></w2:key>
            			<w2:key id="apr_state" name="결재상태코드" dataType="text"></w2:key>
            		</w2:keyInfo>
            	</w2:dataMap>
<!--             	<w2:dataList baseNode="list" repeatNode="map" id="dlt_cmnCd_CWC" saveRemovedData="true">
            		<w2:columnInfo>


            			<w2:column id="grpCd" name="name3" dataType="text"></w2:column>
            			<w2:column id="comCd" name="name1" dataType="text"></w2:column>
            			<w2:column id="comNm" name="name2" dataType="text"></w2:column>
            			<w2:column id="grpNm" name="name4" dataType="text"></w2:column>
            		</w2:columnInfo>
            	</w2:dataList> -->
            </w2:dataCollection>
            <w2:workflowCollection>
            </w2:workflowCollection>

    		<!-- 계좌정보 조회 -->
    		<xf:submission id="sbm_outHumSlBscInfoCheck" ref="data:json,dma_search" encoding="UTF-8" mode="asynchronous"
    			 action="SvcCCSCWLHUMSLBSCINFOSR01.pwkjson" method="post" mediatype="application/json">
    		</xf:submission>
    		
    		<!-- 경조금액 조회 -->
    		<xf:submission id="sbm_outCwlFeeCheck" ref="data:json,dma_search" encoding="UTF-8" mode="asynchronous"
    			 action="SvcCCSCWLCGCDFEESR01.pwkjson" method="post" mediatype="application/json">
    		</xf:submission>
    		
    		<!-- 중복 신청 조회 -->
    		<xf:submission id="sbm_outCwlBeforeInfoCheck" ref="data:json,dma_search" encoding="UTF-8" mode="asynchronous"
    			 action="SvcCCSCWLBEFOREINFOSR01.pwkjson" method="post" mediatype="application/json">
    		</xf:submission>
    		
    		<!-- 중복 신청 조회 2-->
    		<xf:submission id="sbm_outCwlBeforeInfoCheck2" ref="data:json,dma_search" encoding="UTF-8" mode="asynchronous"
    			 action="SvcCCSCWLBEFOREINFOSR02.pwkjson" method="post" mediatype="application/json">
    		</xf:submission>
    		
    		<!-- 경조사비 신청 등록 -->
    		<xf:submission id="sbm_insertCgCd" ref="data:json,dma_cwlInsertCgCd" encoding="UTF-8" mode="asynchronous"
    			 action="SvcCCSCWLCGCDM01.pwkjson" method="post" mediatype="application/json">
    		</xf:submission>
    		
    		<!-- 상세 조회 -->
    		<xf:submission id="sbm_outCwlCgCdDtl" ref="data:json,dma_search" encoding="UTF-8" mode="asynchronous"
    			 action="SvcCCSCWLCGCDDTLR01.pwkjson" method="post" mediatype="application/json">
    		</xf:submission>
    		
    		<!-- 경조사비 신청 삭제 -->
    		<xf:submission id="sbm_deleteCgCd" ref="data:json,dma_search" encoding="UTF-8" mode="asynchronous"
    			 action="SvcCCSCWLCGCDD01.pwkjson" method="post" mediatype="application/json">
    		</xf:submission>
    		
    		<!-- 경조사비 신청 수정 -->
    		<xf:submission id="sbm_updateCgCd" ref="data:json,dma_cwlInsertCgCd" encoding="UTF-8" mode="asynchronous"
    			 action="SvcCCSCWLCGCDDTLU01.pwkjson" method="post" mediatype="application/json">
    		</xf:submission>
    		
        </xf:model>
         <script type="text/javascript" lazy="false"><![CDATA[
 	/****************************************************
	 * 화면 설명 : 경조사비 신청
	 * 변경 이력 : 2023-08-01 swt 최초생성
	 * serviceId : C261
	 ****************************************************/
    scwin.data = {today : com.getServerDateTime()};		//현재날짜
    
    /*************************************************************************************************************
     *
     *	페이지 이벤트 함수
     *
     *************************************************************************************************************/
    /*
     * 페이지 열기
     */
	scwin.onpageload = function() {

		// 담당자 권한을 가진 유저 인지 체크
		com.biz.checkRole({ serviceId : "C261", roleCodes : com.getLoginInfo('roleCode')}, function(e){
    		if(!e.isRoleYn){	//권한 없을 경우
    			grp_emp.setDisabled(true);
			}
			scwin.data.isRoleYn = e.isRoleYn;

			// 신규신청이 가능한 상조회원(정규직) 자격여부 확인
			var listPosiCd = ["110010","130020","130030","130040","130050","130010","150010","150020","150030","150040","150050","170010","170020","170030","170040","170050","420030","430030","420020","420025","430020","430025","420010","420015","430010","430015"];
			if (listPosiCd.indexOf(com.getLoginInfo("posiCode")) == -1) {
				com.alert("상조회원만 이용 가능합니다.", function() {
					com.closeTab({});
				});
			}
			
			//첨부파일 초기화  *필수*
			com.file.init();
			
			//숨김처리
			tb_syspayno.hide();	//신청자 사원번호
			
			//신청번호 담을 변수 선언
			var req_no = "";
			req_no = dma_search.set("req_no", com.getParameter("req_no"));	//신청번호
			
			//공통코드 (selectbox)
			var codeOptions = [ { code : "XAC", compID : "selb_Dept_Tel_Gu" }	//지역번호
							,	{ code : "HAH", compID : "selb_Fam_Rel" } 		//가족관계
							,	{ code : "CWC", compID : "selb_Cgn_Cd_Clsf" } 	//경조구분
							,	{ code : "FAA", compID : "selb_Bank_Nm" } 		//은행명
				];
			com.setCmnCd(codeOptions, function() {	
				var arrHAH = dlt_cmnCd_HAH.getAllJSON();
				dlt_cmnCd_HAH.removeAll();
				dlt_cmnCd_HAH.reform();
				
				var i=0;
				arrHAH.forEach(function(xad){
					// 경조사비에 "조부"와 "조모"는 규정에 없으므로 선택항목 자체에서 제외처리
					if(!/HAH011|HAH012/.test(xad.comCd)){
						dlt_cmnCd_HAH.insertRow(i);
						dlt_cmnCd_HAH.setRowJSON(i, xad, true);
						i++;
					}
				});	
				
				//if : req_no가 비어있는 경우 -> 신규
				if (com.isEmpty(dma_search.get("req_no"))) {
					
					//신규등록인 경우 초기 세팅	
					grp_reason_text.hide(); //담당자 확인 텍스트 hide
					grp_reason.hide(); 		//담당자 확인란 hide
					btn_prt_2.hide();		//지급, 반려 버튼 영역 hide
					
					//첨부파일 셋팅
					com.file.create(upload_A.getID(), { fileKey : "C261", mode : 'edit' });
				
					//현재 결재 상태에 따라 버튼의 활성화 유무 컨트롤
					com.biz.disabledButtons();
				
					//신청일
					inp_Req_Ymd.setValue(scwin.data.today);
				
					var data = { empno : com.getLoginInfo("empno"), work_clsf : "HAG010" }	
					com.pop.open( com.pop.TYPE.HUM, data, function(ret){
					
						//데이터 세팅
						dma_humInfo.setJSON(ret);
						
						//전화번호 세팅
						var telNo = dma_humInfo.get("ext_no");
						tData = telNo.split("-");	
						telNo1 = tData[0];
						telNo2 = tData[1];
						telNo3 = tData[2];		
						selb_Dept_Tel_Gu.setText(telNo1);
						inp_Dept_Tel_Gu1.setValue(telNo2);
						inp_Dept_Tel_Gu2.setValue(telNo3);
						
						//신청자 사원번호 세팅
						tb_syspayno.setValue(ret.syspayno);
		
						//session정보를 통한 계좌정보 조회 조건 세팅
						dma_search.set("syspayno", com.getLoginInfo("sn"));
						
						//계좌정보 조회
						com.execute(sbm_outHumSlBscInfoCheck, {
							successCallback : function(e) {
								//데이터 세팅
								dma_humSlBscInfo.setJSON(e.responseJSON.elData);
							}
						});	
							
					});
								
				//else : req_no 값이 있는 경우 -> 상세조회
				} else {
					
					//상세조회
					scwin.search(req_no);
					
				}
				
			});

	});		
		
	};

    /*
     * 상세조회
     */
	scwin.search = function(reqNo) {

		//상세조회
		com.execute(sbm_outCwlCgCdDtl, {
			successCallback : function(e) {

				//데이터 세팅
				dma_cwlCgCdDtl.setJSON(e.responseJSON.elData);
				
				inp_Req_No.setValue(dma_cwlCgCdDtl.get("req_no"));				//신청번호
				ibx_nm.setValue(dma_cwlCgCdDtl.get("req_psn_nm"));				//성명
				ibx_empno.setValue(dma_cwlCgCdDtl.get("emp_no"));				//개인번호
					
				//전화번호 세팅
				var telNo = dma_cwlCgCdDtl.get("dept_tel");
				tData = telNo.split("-");	
				telNo1 = tData[0];
				telNo2 = tData[1];
				telNo3 = tData[2];		
				selb_Dept_Tel_Gu.setText(telNo1);
				inp_Dept_Tel_Gu1.setValue(telNo2);
				inp_Dept_Tel_Gu2.setValue(telNo3);
				
				selb_Fam_Rel.setValue(dma_cwlCgCdDtl.get("fam_relat"));					//가족관계
				selb_Cgn_Cd_Clsf.setValue(dma_cwlCgCdDtl.get("cgncd_clsf"));			//경조사
				selb_Bank_Nm.setValue(dma_cwlCgCdDtl.get("depst_bank_cd"));				//은행명
				ibx_Bank_depstr.setValue(dma_cwlCgCdDtl.get("depstr_nm"));				//예금주명
				inp_Cgncd_Dtl.setValue(dma_cwlCgCdDtl.get("cgncd_detls"));				//경조내역
				ibx_Bank_Accnt_No.setValue(dma_cwlCgCdDtl.get("depst_bankaccnt_no"));	//계좌번호
				
				
				//결재상태코드, 신청번호 보내서 버튼 컨트롤
				var apr_state  = dma_cwlCgCdDtl.get("apr_state");
				com.biz.disabledButtons(apr_state, dma_cwlCgCdDtl.get("req_no"));
				
				//첨부파일 조회
				var vMode = "edit";		//첨부파일 수정모드
				var chkDisable = false;	//버튼 활성화
				if (dma_cwlCgCdDtl.get("apr_state") >= "XAD020") {
					//비활성화
					vMode = "view";							//첨부파일 보기모드
					chkDisable = true;
				}	
				
				//버튼 비활성화, 활성화 처리 로직
				scwin.disable(chkDisable);
				
				//첨부파일 조회 (진행상태에 따라 비활성화, 활성화 처리)
				var attachFileNo = dma_cwlCgCdDtl.get("attach_file_no");
				com.file.create(upload_A.getID(), {fileKey: com.isNotEmpty(attachFileNo) ? attachFileNo : 'C261', mode: vMode});
				
				//권한에따른 사원조회버튼 활성화 여부
				if (scwin.data.isRoleYn) {
					btn_rspns.setDisabled(false);	//사원조회 버튼 활성화 
				} else if (!scwin.data.isRoleYn) {
					btn_rspns.setDisabled(true);	//사원조회 버튼 비활성화 
				}
				
				//지급일자 날짜 세팅				
				if (dma_cwlCgCdDtl.get("pay_ymd").trim() == "" && apr_state == "XAD070") {
					inp_Pay_Ymd.setValue(scwin.data.today);
				}

				//담당자 확인란 활성화
				if(scwin.data.isRoleYn && apr_state == "XAD070") {	//담당자 확인중
					inp_Pay_Ymd.setReadOnly(false);			//지급일자
					inp_Pay_Amt.setReadOnly(false);			//지급금액
					inp_rmk.setReadOnly(false);				//비고
					inp_Reject_Resn.setReadOnly(false);		//반려사유
					
					btn_rspns.setDisabled(true);	//사원조회 버튼 비활성화
					
					btn_prt_1.hide();	//삭제, 저장 버튼 숨김 (그룹영역)
					btn_prt_2.show();	//반려, 처리 버튼 보임 (그룹영역)
					
				} else {
					btn_prt_1.show();	//삭제, 저장 버튼 보임 (그룹영역)
					btn_prt_2.hide();	//반려, 처리 버튼 숨김 (그룹영역)
				}
				
				//"결재 완료"인 경우에도 반려는 가능하도록 버튼 보이기 (+ 반려사유란 활성화)
				if(scwin.data.isRoleYn && apr_state == "XAD100") {
					
					btn_prt_1.hide();	//삭제, 저장 버튼 숨김 (그룹영역)
					btn_prt_2.show();	//반려, 처리 버튼 보임 (그룹영역)
					
					btn_affir.setDisabled(true);		//반려버튼 비활성화
					inp_Reject_Resn.setReadOnly(false);	//반려사유 활성화
				}
				
				//to-be 추가 : 결재상태에따른 계좌검증 버튼, 검증결과 세팅
				if (apr_state == "XAD070" || apr_state == "XAD100") {	//담당자확인중, 결재완료 인 경우 "검증완료"
					accver.setValue("검증완료");
					btn_accVerf.setDisabled(true);
					accver.setStyle("color", "black");
					
				} else {	//그 외의 상태인 경우 "미검증"
					accver.setValue("미검증");
					btn_accVerf.setDisabled(false);
					accver.setStyle("color", "black");
				}
				
				//"결재완료"시 인쇄버튼 활성화
				if(apr_state == "XAD100") {
					btn_print.setDisabled(false);
				} else {
					btn_print.setDisabled(true);
				}
				
				//권한 없는 경우. 담당자 확인란 hide ("결재완료", "반려"시에만 보이도록) 
				if (!scwin.data.isRoleYn) {
					if (apr_state == "XAD005" || apr_state == "XAD070") {
						grp_reason_text.hide();	//담당자 확인 텍스트 hide
						grp_reason.hide(); 		//담당자 확인란 hide
					}
				}
				
			}
		});
		
	};
	
    /*
     * 페이지 닫기
     */
	scwin.onpageunload = function() {
		com.file.destroy();
	};
	
	
	/**	
	*  목록 버튼 클릭 이벤트
	**/
	scwin.btn_list_onclick = function(e) {
		scwin.backToList();
	};
	
	/**	
	*  목록 화면 이동
	**/
	scwin.backToList = function(data) {
		com.moveList("C262", data);
	};
	
	/**	
	*  사용자 조회(돋보기) 버튼 클릭 이벤트
	**/
	scwin.btn_rspns_onclick = function(e) {
		scwin.hum_search("img");	
	};
	
	/**	
	*  사원검색 및 팝업호출
	**/
	scwin.hum_search = function(data) {
		
		// 버튼(img)으로 팝업함수 바로 호출 처음 변수에 아무것도 넣지 않으면 최초 서브미션도 실행 안함. 
		data == "img" ? data = { empno : ""} : data = { empno : inp_empno.getValue(), nm : inp_nm.getValue(), work_clsf : "HAG010" };
		
		com.pop.open( com.pop.TYPE.HUM, data, function(ret){
			dma_search.set("empno", ret.empno);					//사원번호
			dma_search.set("nm", ret.nm);						//사원명
			dma_search.set("req_psn_syspayno", ret.syspayno);	//개인번호
		
			//데이터 세팅
			dma_humInfo.setJSON(ret);
			
			//전화번호 세팅
			var telNo = dma_humInfo.get("ext_no");
			tData = telNo.split("-");	
			telNo1 = tData[0];
			telNo2 = tData[1];
			telNo3 = tData[2];		
			selb_Dept_Tel_Gu.setText(telNo1);
			inp_Dept_Tel_Gu1.setValue(telNo2);
			inp_Dept_Tel_Gu2.setValue(telNo3);
		
			//계좌정보 데이터 초기화 (데이터 조회시 빈값이면 이전데이터 남아있는 경우 있음)
			com.initDataMap(dma_humSlBscInfo);
			
			//계좌정보 조회하기 위한 세팅
			dma_search.set("syspayno", dma_humInfo.get("syspayno"));
			
			//계좌정보 조회
			com.execute(sbm_outHumSlBscInfoCheck, {
				successCallback : function(e) {
					
					//팝업에서 선택한 이름 세팅
					ibx_Bank_depstr.setValue(dma_humInfo.get("nm"));
					
					//데이터 세팅
					dma_humSlBscInfo.setJSON(e.responseJSON.elData);
					
				}
			});		
			
		});
		
	}


	/**	
	*  경조구분 : 가족관계 변경시
	**/	
	scwin.selb_Fam_Rel_onchange = function(info) {
		
		inp_Expns_Amt.setValue("");
		selb_Cgn_Cd_Clsf.setValue("");
		
		//기존 "결재완료"건들의 데이터를 정상 조회하기위해 결재완료가 아닌경우에만 정상작동하도록
		if (dma_cwlCgCdDtl.get("apr_state") != "XAD100") {		
			
			//"본인", "-선택-"이면 "회갑(CWC002)" 포함 모든 값 노출
			if(info.newValue == "HAH014" || info.newValue == "") {
			
				//공통코드 (selectbox)
				var codeOptions = [ { code : "CWC", compID : "selb_Cgn_Cd_Clsf" } 	//경조구분
					];
					
				com.setCmnCd(codeOptions, function() {	
				});
			
			
			//else if : 가족관계 "부", "모", "시부", "시모", "장인", "장모"인 경우
			} else if (info.newValue == "HAH000"	//부 
					|| info.newValue == "HAH001" 	//모
					|| info.newValue == "HAH007" 	//시부
					|| info.newValue == "HAH008"	//시모
					|| info.newValue == "HAH009"	//장인
					|| info.newValue == "HAH010"	//장모
					) {
			
				//공통코드 (selectbox)
				var codeOptions = [ { code : "CWC", compID : "selb_Cgn_Cd_Clsf" } 	//경조구분
					];
					
				com.setCmnCd(codeOptions, function() {	
					var arrCWC = dlt_cmnCd_CWC.getAllJSON();
					dlt_cmnCd_CWC.removeAll();
					dlt_cmnCd_CWC.reform();
					
					var i=0;
					arrCWC.forEach(function(xad){
						//"칠순", "팔순", "구순", "상"만 노출
						if(!/CWC008|CWC001|CWC007|CWC002/.test(xad.comCd)){
							dlt_cmnCd_CWC.insertRow(i);
							dlt_cmnCd_CWC.setRowJSON(i, xad, true);
							i++;
						}
					});	
					
				});
				
				
			//else if : 가족관계 "배우자"인 경우
			} else if (info.newValue == "HAH002") {
			
				//공통코드 (selectbox)
				var codeOptions = [ { code : "CWC", compID : "selb_Cgn_Cd_Clsf" } 	//경조구분
					];
					
				com.setCmnCd(codeOptions, function() {	
					var arrCWC = dlt_cmnCd_CWC.getAllJSON();
					dlt_cmnCd_CWC.removeAll();
					dlt_cmnCd_CWC.reform();
					
					var i=0;
					arrCWC.forEach(function(xad){
						//"출산", "칠순", "팔순", "구순", "상"만 노출
						if(!/CWC001|CWC007|CWC002/.test(xad.comCd)){
							dlt_cmnCd_CWC.insertRow(i);
							dlt_cmnCd_CWC.setRowJSON(i, xad, true);
							i++;
						}
					});	
					
				});
				
			//else if : 가족관계 "아들", "딸"인 경우
			} else if (info.newValue == "HAH003" || info.newValue == "HAH004") {
			
				//공통코드 (selectbox)
				var codeOptions = [ { code : "CWC", compID : "selb_Cgn_Cd_Clsf" } 	//경조구분
					];
					
				com.setCmnCd(codeOptions, function() {	
					var arrCWC = dlt_cmnCd_CWC.getAllJSON();
					dlt_cmnCd_CWC.removeAll();
					dlt_cmnCd_CWC.reform();
					
					var i=0;
					arrCWC.forEach(function(xad){
						//"결혼", "상"만 노출
						if(!/CWC008|CWC002|CWC003|CWC004|CWC005|CWC007/.test(xad.comCd)){
							dlt_cmnCd_CWC.insertRow(i);
							dlt_cmnCd_CWC.setRowJSON(i, xad, true);
							i++;
						}
					});	
					
				});
				
			//else if : 가족관계 "형제", "자매"인 경우
			} else if (info.newValue == "HAH005" || info.newValue == "HAH006") {
			
				//공통코드 (selectbox)
				var codeOptions = [ { code : "CWC", compID : "selb_Cgn_Cd_Clsf" } 	//경조구분
					];
					
				com.setCmnCd(codeOptions, function() {	
					var arrCWC = dlt_cmnCd_CWC.getAllJSON();
					dlt_cmnCd_CWC.removeAll();
					dlt_cmnCd_CWC.reform();
					
					var i=0;
					arrCWC.forEach(function(xad){
						//"상"만 노출
						if(!/CWC008|CWC002|CWC003|CWC004|CWC005|CWC007|CWC001/.test(xad.comCd)){
							dlt_cmnCd_CWC.insertRow(i);
							dlt_cmnCd_CWC.setRowJSON(i, xad, true);
							i++;
						}
					});	
					
				});
				
			}
			
		}
		
	};

	/**	
	*  경조구분 : 경조사 변경시
	**/
	scwin.selb_Cgn_Cd_Clsf_onchange = function(info) {

		//초기 빈값 세팅
		dma_cwlFee.set("cgncd_fee", "");								//경조금액
		
		
		//조회조건 세팅
		dma_search.set("fam_relat", selb_Fam_Rel.getValue());			//가족관계 구분코드
		dma_search.set("cgncd_clsf", selb_Cgn_Cd_Clsf.getValue());		//경조구분 코드
		
		//경조금액 조회
		com.execute(sbm_outCwlFeeCheck, {
			successCallback : function(e) {
				//데이터 세팅
				dma_cwlFee.setJSON(e.responseJSON.elData);
			}
		});
		
	};
	
	/**	
	*  삭제 버튼 클릭 이벤트
	**/
	scwin.btn_del_onclick = function(e) {
		
		com.confirm("message.xom.wq.022"/*삭제 하시겠습니까?*/, function( ret) {
			if (ret) {
				com.file.deleteAll( function(){
					com.execute(sbm_deleteCgCd, {
						successCallback : function(e) { // 성공 콜백
							com.alert("message.xom.wq.023"/*정상적으로 처리되었습니다.*/, function() {
								//삭제 후 목록창 이동
								com.moveList("C262", {mod :"delete"});
							});
						}
					});
					
				});	
			}
		});
		
	};
	
	/**
	 * 인쇄 버튼 이벤트
	 */
	scwin.btn_print_onclick = function(e) {
		
		//신청번호 확인
		if(dma_cwlCgCdDtl.get("req_no") == ""){
			com.alert(com.getMsg("message.xom.co.com.0007", "신청번호"));
			return
		}
		
		//완료일경우에만 인쇄창 사용가능 
		var aprState = dma_cwlCgCdDtl.get("apr_state");
		if (aprState != "XAD100") {
			com.alert("결재 완료 상태인 경우에만 인쇄 가능합니다.");
			return;
		}

		//OzReport 사용하여 인쇄창 열기
		var node = "req_no="+ dma_cwlCgCdDtl.get("req_no");
		com.oz.openPopup({
			ozrCode : "C041",
			param: node
        });
        
	};
	
	/**
	 * 전자결재 버튼 이벤트
	 */
	scwin.btn_apr_onclick = function(e) {
	
		//필수체크
		if (!com.validateData(dma_cwlCgCdDtl, [{ id : "fam_relat", mandatory : true}	//가족관계
											  ,{ id : "cgncd_clsf", mandatory : true}	//경조구분
											  ,{ id : "req_ymd", mandatory : true}		//신청일
										], false)) return;

		if (!com.validateData(dma_cwlFee, [{ id : "cgncd_fee", mandatory : true}		//경조금액
										], false)) return;
		
		//계좌검증상태
		if(accver.getValue()!='검증완료'){
			com.alert('계좌 검증은 필수 입니다.');
			return false;                   	
		}
	
		//결재신청
		var aprState = "apr";
		scwin.save(aprState);
		
	};

	/**	
	*  저장 버튼 클릭 이벤트
	**/
	scwin.btn_save_onclick = function(e) {
		
		//필수체크
		if (!com.validateData(dma_cwlCgCdDtl, [{ id : "fam_relat", mandatory : true}	//가족관계
											  ,{ id : "cgncd_clsf", mandatory : true}	//경조구분
											  ,{ id : "req_ymd", mandatory : true}		//신청일
										], false)) return;

		if (!com.validateData(dma_cwlFee, [{ id : "cgncd_fee", mandatory : true}		//경조금액
										], false)) return;
		
		//계좌검증상태
		if(accver.getValue()!='검증완료'){
			com.alert('계좌 검증은 필수 입니다.');
			return false;                   	
		}
		
		//저장
		var aprState = "save";
		scwin.save(aprState);
		
	};
	
	/**
	 * 지급 버튼 이벤트
	 */
	scwin.btn_affir_onclick = function(e) {
		
		if(!scwin.data.isRoleYn){
			com.alert("관리자외에는 지급을 하실 수 없습니다.");
			return;
		}

		//필수체크
		if (!com.validateData(dma_cwlCgCdDtl, [{ id : "pay_ymd", mandatory : true}	//지급일자
											  ,{ id : "pay_amt", mandatory : true}	//지급금액
										], false)) return;
		
		//지급
		var aprState = "affir";
		scwin.save(aprState);
		
	};
	
	/**
	 * 반려 버튼 이벤트
	 */
	scwin.btn_ret_onclick = function(e) {
		
		if(!scwin.data.isRoleYn){
			com.alert("관리자외에는 반려를 하실 수 없습니다.");
			return;
		}

		//필수체크
		if (!com.validateData(dma_cwlCgCdDtl, [{ id : "reject_resn", mandatory : true}	//반려사유
										], false)) return;
										
		//반려
		var aprState = "ret";
		scwin.save(aprState);
		
	};

	/**	
	*  저장 로직_1 (중복 여부 구분)
	**/
	scwin.save = function(aprState) {
		
		//중복신청 조회. 데이터 세팅
		dma_search.set("cgncd_clsf", selb_Cgn_Cd_Clsf.getValue());		//경조구분 코드
		dma_search.set("req_psn_syspayno", tb_syspayno.getValue());		//개인번호
		dma_search.set("cgncd_clsf", selb_Cgn_Cd_Clsf.getValue());		//경조구분 코드
		dma_search.set("fam_relat", selb_Fam_Rel.getValue());			//가족관계 구분코드
		dma_search.set("req_ymd", inp_Req_Ymd.getValue());				//신청일
		
		//목록화면에서 받아온 데이터 세팅	
		var req_no = ""
		var apr_state = ""
		req_no = dma_cwlCgCdDtl.get("req_no");
		apr_state = dma_cwlCgCdDtl.get("apr_state");
		
		//처음 저장시
		if (req_no == "") {

			//2023.09.05 고객사 개선요청. 신청가능 검증 추가
			//신청자 기준 부/모/시부/시모/장인/장모 -> 각각 회갑,칠순,팔순,구순 각1회 신청 가능 검증			
			var famRel = selb_Fam_Rel.getValue();
			var clsf = selb_Cgn_Cd_Clsf.getValue();
			if (   famRel=="HAH000" || famRel=="HAH001" || famRel=="HAH007" 
				|| famRel=="HAH008" || famRel=="HAH009" || famRel=="HAH010") {
					
				if (clsf != "CWC006") {
					
					com.execute(sbm_outCwlBeforeInfoCheck2, {
						successCallback : function(e) {
						
							var chk = e.responseJSON.ccsCwlBeforeCgCdInfoVoList;
							
							if (chk.length != "0") {
								
								com.alert("상조회 회칙 제24조 경조금의 지급에 따라 대상자별 회갑,칠순,팔순,구순 中 1회만 신청 가능합니다.");
								return;
								
							} else {
								
								//저장 전 중복체크
								scwin.preSave(aprState);
							
							}
						}
					});
					
				} else {
					
					//저장 전 중복체크
					scwin.preSave(aprState);
				
				}
					
			} else {
				
				//저장 전 중복체크
				scwin.preSave(aprState);
			
			}	
			
		//else : 신청번호가 있는 경우(처음 저장이 아닌경우)
		} else {
			
			//신청번호 있는 경우 수정
			//if : 저장(신규가 아니기에 저장된거에 update처리)
			if (aprState == "save") {
				scwin.aprSave(aprState);
				
			//else if : 지급
			} else if (aprState == "affir") {
				scwin.aprSave(aprState);

			//else if : 반려
			} else if (aprState == "ret") {
				scwin.aprSave(aprState);
				
			//else if : 결재신청
			} else if (aprState == "apr") {
				//반려상태인 경우
				if(dma_cwlCgCdDtl.get("apr_state") == "XAD015"){
					com.alert("[경조사비신청]저장 이 후 신청바랍니다.");	
					return;
				}			
				scwin.aprSave(aprState);
				
			}  

		}
		
	}

	/**	
	*  저장 전 중복체크
	**/
	scwin.preSave = function() {
		
		//중복신청 조회
		com.execute(sbm_outCwlBeforeInfoCheck, {
			successCallback : function(e) {
				
				//if : 데이터가 조회가 된다면(신청번호가 이미 있다면) 중복 -> return; (출산은 예외로..)
				if (e.responseJSON.elData.ccsCwlCgCdVoList.length != "0") {

					var fam = selb_Fam_Rel.getValue();		//가족관계
					var clsf = selb_Cgn_Cd_Clsf.getValue();	//경조구분
					
					if (dma_cwlCgCdDtl.get("apr_state") == "" && clsf != "CWC008" && fam != "HAH003" && fam != "HAH004" && fam != "HAH005" && fam != "HAH006") {
						com.alert("[경조사비신청]지급 내역이 존재합니다. 확인해 주세요!!");
						return;
					
					//else if : 출산 여러번도 하기에 예외로..
					} else if (clsf == "CWC008") {
						var aprState = "new";
						scwin.aprSave(aprState);	
											
					//else if : 아들, 딸, 형제, 자매 여러명인 경우 있으니 예외 ("상", "결혼")
					} else if (fam == "HAH003" || fam == "HAH004" || fam == "HAH005" || fam == "HAH006") {
						var aprState = "new";
						scwin.aprSave(aprState);						
					} 
				
				//else : 중복이 안되어 신청 가능하면 저장로직 실행
				} else {
					var aprState = "new";
					scwin.aprSave(aprState);
				}
			
			}
		});
		
	}
	
	/**	
	*  저장 로직_2 (신규저장 정보)
	**/
	scwin.aprSave = function(aprState) {
		
		//신규 저장
		if (aprState == "new") {
			
			com.confirm("message.xom.wq.017" /*저장 하시겠습니까?*/, function(ret) {
				if (ret) {
					com.file.transport( function( attachObj) {		//첨부파일 관련

						dma_cwlInsertCgCd.set("req_no"				  ,	"");								//신청번호
						dma_cwlInsertCgCd.set("req_ymd"				  ,	inp_Req_Ymd.getValue());			//신청일자
						dma_cwlInsertCgCd.set("req_psn_nm"			  ,	ibx_nm.getValue());					//신청자명
						
						dma_cwlInsertCgCd.set("req_psn_syspayno"	  ,	tb_syspayno.getValue());			//신청자시스템개인번호
						dma_cwlInsertCgCd.set("req_psn_dept_cd"		  ,	dma_humInfo.get("dept_cd"));		//신청자부서코드
						dma_cwlInsertCgCd.set("req_psn_dept_new_ymd"  ,	dma_humInfo.get("dept_new_ymd"));	//신청자부서신설일자
						dma_cwlInsertCgCd.set("dept_tel"			  ,	dma_humInfo.get("ext_no"));			//부서전화번호
						
						dma_cwlInsertCgCd.set("cgncd_clsf"			  ,	selb_Cgn_Cd_Clsf.getValue());		//경조구분
						dma_cwlInsertCgCd.set("fam_relat"			  ,	selb_Fam_Rel.getValue());			//가족관계
						dma_cwlInsertCgCd.set("expns_amt"			  ,	inp_Expns_Amt.getValue());			//지출금액
						dma_cwlInsertCgCd.set("cgncd_detls"			  , inp_Cgncd_Dtl.getValue());			//경조내역
						dma_cwlInsertCgCd.set("req_state"			  ,	"");								//신청상태
						
						dma_cwlInsertCgCd.set("progrss_state"		  , "CWD001");							//진행상태
						dma_cwlInsertCgCd.set("pay_amt"				  , "");								//지급금액
						dma_cwlInsertCgCd.set("pay_ymd"				  , "");								//지급일자
						
						dma_cwlInsertCgCd.set("depst_bankaccnt_no"	  , ibx_Bank_Accnt_No.getValue());		//입금계좌번호
						dma_cwlInsertCgCd.set("depst_bank_cd"		  , selb_Bank_Nm.getValue());			//예금은행코드
						dma_cwlInsertCgCd.set("depst_bank_nm"		  , selb_Bank_Nm.getText());			//입금은행명
						dma_cwlInsertCgCd.set("depstr_nm"			  , ibx_Bank_depstr.getValue());		//예금주명
						
						dma_cwlInsertCgCd.set("rmk"					  , "");								//비고
						
						dma_cwlInsertCgCd.set("attach_file_no"		  , attachObj.upload_A);				//첨부파일번호
						
						com.execute(sbm_insertCgCd, {
							successCallback : function(e) { // 성공 콜백
								com.alert("message.xom.wq.023" /*정상적으로 처리되었습니다.*/, function () {
									//데이터 세팅(저장 로직에서 신청번호 리턴받음)
									dma_search.setJSON(e.responseJSON.elData);
	
									//신청번호로 상세조회
									scwin.search(dma_search.get("req_no"));
								});
							}
						});
					});	
				}
			});
			
			
		//else if : 수정
		} else if (aprState == "save") {
			
			com.confirm("message.xom.wq.017" /*저장 하시겠습니까?*/, function(ret) {
				if (ret) {
					scwin.aprUpt(aprState);
				}
			});
		
		//else if : 지급
		} else if (aprState == "affir") {
		
			com.confirm("지급 하시겠습니까?", function(ret){		
				if (ret) {
					scwin.aprUpt(aprState);
				}
			});
		
		
		//else if : 반려
		} else if (aprState == "ret") {	
		
			com.confirm("반려 하시겠습니까?", function(ret){		
				if (ret) {
					scwin.aprUpt(aprState);
				}	
			});
			
		//else if : 결재신청
		} else if (aprState == "apr") {	
		
			com.confirm("결재신청 하시겠습니까?", function(ret){			
				if (ret) {
					scwin.aprUpt(aprState);
				}
			});
			
		}
		
	}
	
	/**	
	*  저장 로직_3 (수정, 결재신청, 반려, 처리)
	**/
	scwin.aprUpt = function(aprState) {
	
		com.file.transport( function( attachObj) {		//첨부파일 관련
		
			//목록에서 받아온 결재상태코드
			var	reqNo = dma_cwlCgCdDtl.get("req_no")			//신청번호
			var aprStateCode = dma_cwlCgCdDtl.get("apr_state")	//결재상태 코드
			
			//"수정", "결재상태" 변경 로직 추가
			dma_cwlInsertCgCd.set("req_no"				  ,	dma_cwlCgCdDtl.get("req_no"));				//신청번호
			dma_cwlInsertCgCd.set("req_psn_nm"			  ,	dma_cwlCgCdDtl.get("depstr_nm"));			//신청자명
			
			dma_cwlInsertCgCd.set("req_psn_syspayno"	  ,	dma_cwlCgCdDtl.get("req_psn_syspayno"));	//신청자시스템개인번호
			dma_cwlInsertCgCd.set("req_psn_dept_cd"		  ,	dma_cwlCgCdDtl.get("req_psn_dept_cd"));		//신청자부서코드
			dma_cwlInsertCgCd.set("req_psn_dept_new_ymd"  ,	dma_cwlCgCdDtl.get("req_psn_dept_new_ymd"));//신청자부서신설일자
			dma_cwlInsertCgCd.set("dept_tel"			  ,	dma_cwlCgCdDtl.get("dept_tel"));			//부서전화번호
			
			dma_cwlInsertCgCd.set("cgncd_clsf"			  ,	selb_Cgn_Cd_Clsf.getValue());		//경조구분
			dma_cwlInsertCgCd.set("fam_relat"			  ,	selb_Fam_Rel.getValue());			//가족관계
			dma_cwlInsertCgCd.set("expns_amt"			  ,	inp_Expns_Amt.getValue());			//지출금액
			dma_cwlInsertCgCd.set("cgncd_detls"			  , inp_Cgncd_Dtl.getValue());			//경조내역
			//dma_cwlInsertCgCd.set("req_state"			  ,	"");								//신청상태
			
			dma_cwlInsertCgCd.set("attach_file_no"		  , attachObj.upload_A);				//첨부파일번호
			
			dma_cwlInsertCgCd.set("depst_bankaccnt_no"	  , ibx_Bank_Accnt_No.getValue());		//입금계좌번호
			dma_cwlInsertCgCd.set("depst_bank_cd"		  , selb_Bank_Nm.getValue());			//예금은행코드
			dma_cwlInsertCgCd.set("depst_bank_nm"		  , selb_Bank_Nm.getText());			//입금은행명
			dma_cwlInsertCgCd.set("depstr_nm"			  , ibx_Bank_depstr.getValue());		//예금주명
			
			dma_cwlInsertCgCd.set("apr_state_code"		  , aprStateCode);						//현재결재상태코드
			
			//if : 지급 -> 최종 결재
			if (aprState == "affir") {
				
				dma_cwlInsertCgCd.set("progrss_state"		  , "CWD004");							//진행상태
				dma_cwlInsertCgCd.set("apr_tobe_code"		  , "XAD100");							//결재완료 -> 내가 추가한거
				dma_cwlInsertCgCd.set("rmk"					  , inp_rmk.getValue());				//비고
				dma_cwlInsertCgCd.set("pay_ymd"				  , inp_Pay_Ymd.getValue());			//지급일자
				dma_cwlInsertCgCd.set("pay_amt"				  , inp_Pay_Amt.getValue());			//지급금액
				
			//else if : 반려
			} else if (aprState == "ret") {
				
				dma_cwlInsertCgCd.set("reject_resn"			  , inp_Reject_Resn.getValue());		//반려사유
				dma_cwlInsertCgCd.set("progrss_state"		  , "CWD003");							//진행상태
				dma_cwlInsertCgCd.set("apr_tobe_code"		  , "XAD015");							//결재상태(반려)
				
				//반려인경우 지급일자, 지출금액 빈값 설정
				dma_cwlInsertCgCd.set("pay_ymd"				  , "");								//지급일자
				dma_cwlInsertCgCd.set("pay_amt"				  , "");								//지급금액
			
			}
			
			if(aprStateCode == "XAD005" || aprStateCode == "XAD010" || aprStateCode == "XAD015" || aprStateCode == "XAD013")
			{	
				//dma_cwlInsertCgCd.set("apr_state_code"		  	  , aprStateCode);						//현재결재상태코드
				
				//if : 저장
				if(aprState == "save")
				{
					dma_cwlInsertCgCd.set("progrss_state"		  , "CWD001");							//저장
					dma_cwlInsertCgCd.set("apr_tobe_code"		  , "XAD005");							//저장중
					
				//else if : 전자결재
				} else if(aprState == "apr")
				{
					dma_cwlInsertCgCd.set("progrss_state"		  , "CWD002");							//신청
					dma_cwlInsertCgCd.set("apr_tobe_code"		  , "XAD010");							//작성중
				
				}
			}
			
			//최종적으로 수정되는 로직 추가
			com.execute(sbm_updateCgCd, {
				successCallback : function(e) { // 성공 콜백
					com.alert("message.xom.wq.023" /*정상적으로 처리되었습니다.*/, function () {
					
						//저장(수정) || 결재신청 -> 화면 새로고침
						if (aprState == "apr" || aprState == "save") {
							//신청번호로 상세조회
							scwin.search(dma_search.get("req_no"));
							
							//결재신청시 결재진행함 이동						
							if (aprState == "apr") {
								com.openTabMenu("A005", {});
							} 
						
						//그 외는 목록 이동
						} else {
							com.openTabMenu("A004", {});
						}
						
					});
				}
			});
			
		});	
		
	};
	
	/**
	 * 초기화면 세팅 -> 버튼 비활성화
	 */	
  	scwin.disable = function(data) {
  	
		//상세정보 조회에 따른 비활성화 세팅
		selb_Fam_Rel.setDisabled(data);				//경조구분 가족관계
		selb_Cgn_Cd_Clsf.setDisabled(data);			//경조사 구분
		selb_Bank_Nm.setDisabled(data);				//은행명
		inp_Cgncd_Dtl.setReadOnly(data);			//경조내역
		//btn_rspns.setDisabled(data);				//사원조회 버튼
		ibx_Bank_Accnt_No.setReadOnly(data);		//입금계좌
		//inp_Req_Ymd.setReadOnly(data);				//신청일
		
		selb_Dept_Tel_Gu.setDisabled(data);			//전화번호_1
		inp_Dept_Tel_Gu1.setReadOnly(data);			//전화번호_2
		inp_Dept_Tel_Gu2.setReadOnly(data);			//전화번호_3
  		
  	};

    /**
     * 계좌검증 버튼 클릭 이벤트
     */
    scwin.btn_accVerf_onclick = function(e) {

		//생년월일 데이터 세팅하기 위함   
		var dataInfo = { empno : ibx_empno.getValue(), work_clsf : "HAG010" }	
		com.pop.open( com.pop.TYPE.HUM, dataInfo, function(ret){
			dma_humInfo.set("resid_no", ret.resid_no);
		    
		    //2023.09.05 고객사 개선요청. 계좌검증 추가
	        var is_account = null;
			
	        if (selb_Bank_Nm.getValue() == null || selb_Bank_Nm.getValue() == '') {
	            com.alert("은행명은 필수 값 입니다.");
	            return false
	        }
	        if (ibx_Bank_Accnt_No.getValue() == null || ibx_Bank_Accnt_No.getValue() == '') {
	            com.alert("입금계좌는 필수 값 입니다.");
	            return false
	        }
	
	        var data = {
	            bank_cd			: selb_Bank_Nm.getValue(),								//은행코드
	            bankaccnt_no	: ibx_Bank_Accnt_No.getValue().replace(/[^0-9]/g,''),	//계좌번호
	            syspayno		: tb_syspayno.getValue(),								//사원번호
	            depstr_nm		: ibx_Bank_depstr.getValue(),							//예금주명
	            acnm_no			: dma_humInfo.get("resid_no").substring(0, 6)			//생년월일
	        }
	        
			//계좌검증 작동
	        com.biz.verifyAccount(data, function(retObj) {
	            if (retObj.is_account == 2) {
		            if(retObj.res_data == '해당계좌없음'){
			            accver.setValue("해당계좌없음");
			        }else{
		                accver.setValue("검증오류");	           
				    }
	                accver.setStyle("color", "red");
	                
	                //===========================================
					//to-be : 운영서버가 아닌 경우(로컬, 개발서버인 경우) -> 테스트 진행 위해 무조건 "검증완료" 되도록 설정.("검증완료" 아니면 저장 불가능 하기에)
					if(location.host != "nbiz.kitech.re.kr"){
						selb_Bank_Nm.setDisabled(true);		//은행명 비활성화
						ibx_Bank_Accnt_No.setReadOnly(true);	//계좌입력란 비활성화
						accver.setValue("검증완료");
						accver.setStyle("color", "black");
					} 
	                //===========================================
				
	            } else if (retObj.is_account == 1) {
		            selb_Bank_Nm.setDisabled(true);		//은행명 비활성화
		            ibx_Bank_Accnt_No.setReadOnly(true);	//계좌입력란 비활성화
	                accver.setValue("검증완료");
	                accver.setStyle("color", "black");
	            } 
	        });
	        
		});
        
    };
	]]></script>
    </head>
    <body ev:onpageload="scwin.onpageload" ev:onpageunload="scwin.onpageunload">
    	<w2:wframe id="wfm_title" src="/cm/xml/contentTitle.xml" style=""></w2:wframe>
    	<xf:group class="pageWrap" id="" style="">
    		<xf:group class="searchSection step" id="" style="">

    			<xf:group class="le" id="">
    				<xf:trigger class="btn " id="btn_list" style="" type="button" ev:onclick="scwin.btn_list_onclick">
    					<xf:label><![CDATA[목록]]></xf:label>
    				</xf:trigger>
    			</xf:group>
    			<xf:group class="btnbox" id="">
    				<xf:trigger class="btn icon print" disabled="true" id="btn_print" style="" type="button" ev:onclick="scwin.btn_print_onclick">
    					<xf:label><![CDATA[인쇄]]></xf:label>
    				</xf:trigger>
    				<xf:trigger class="btn blue" id="btn_apr" style="" type="button" ev:onclick="scwin.btn_apr_onclick" disabled="true">
    					<xf:label><![CDATA[결재신청]]></xf:label>
    				</xf:trigger>


    			</xf:group>
    			
    		</xf:group>
    		<xf:group class="w2tb tbl" id="" style="" tagname="table">
    			<w2:attributes>
    				<w2:summary></w2:summary>
    			</w2:attributes>
    			<xf:group tagname="caption"></xf:group>
    			<xf:group tagname="colgroup">
    				<xf:group style="width:110px;" tagname="col"></xf:group>
    				<xf:group style="" tagname="col"></xf:group>
    				<xf:group style="width:110px;" tagname="col"></xf:group>
    				<xf:group style="" tagname="col"></xf:group>
    				<xf:group style="width:110px;" tagname="col"></xf:group>
    				<xf:group style="" tagname="col"></xf:group>
    			</xf:group>
    			<xf:group style="" tagname="tr">
    				<xf:group class="w2tb_th" tagname="th">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:textbox id="" label="신청번호" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group class="w2tb_td" tagname="td">
    					<w2:attributes>
    						<w2:colspan>5</w2:colspan>
    						<w2:rowspan>1</w2:rowspan>
    					</w2:attributes>
    					<w2:textbox class="txt" id="inp_Req_No" label="" style="" tagname="span"></w2:textbox>
    				</xf:group>
    			</xf:group>
    			<xf:group tagname="tr">
    				<xf:group class="w2tb_th" tagname="th">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:textbox id="" label="성명" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group class="w2tb_td" tagname="td">
    					<w2:attributes></w2:attributes>

    					<xf:group class="inpSch" id="grp_emp" style="width: 100px;">
    						<xf:input adjustMaxLength="false" class="inp" id="ibx_nm" ref="data:dma_humInfo.nm" style="" title="사용자명"
    							readOnly="true">
    						</xf:input>
    						<xf:trigger class="btn" id="btn_rspns" style="" title="주관자 검색" type="button"
    							ev:onclick="scwin.btn_rspns_onclick">
    							<xf:label><![CDATA[검색]]></xf:label>
    						</xf:trigger>
    					</xf:group>
    				</xf:group>
    				<xf:group class="w2tb_th" tagname="th">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:textbox id="" label="개인번호" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group class="w2tb_td" tagname="td">
    					<w2:attributes></w2:attributes>
    					<w2:textbox class="txt" id="ibx_empno" label="" style="" tagname="span" ref="data:dma_humInfo.empno"></w2:textbox>
    					<w2:textbox class="txt" id="tb_syspayno" label="-" ref="data:dma_cwlCgCdDtl.req_psn_syspayno" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group class="w2tb_th" tagname="th">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:textbox id="" label="전화번호" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group class="w2tb_td" tagname="td">
    					<w2:attributes></w2:attributes>
    					<!-- <xf:input adjustMaxLength="false" class="inp" id="" style="width: 60px;" title="전화번호 중 첫3자리"></xf:input>
    						<w2:textbox class="txt" id="" label="-" style="" tagname="span"></w2:textbox>
    						<xf:input adjustMaxLength="false" class="inp" id="" style="width: 60px;" title="전화번호 중 중간 4자리"></xf:input>
    						<w2:textbox class="txt" id="" label="-" style="" tagname="span"></w2:textbox>
    						<xf:input adjustMaxLength="false" class="inp" id="" style="width: 60px;" title="전화번호 중 끝 4자리"></xf:input> -->
    					<xf:group class="flex" id="">
    						<xf:select1 allOption="" appearance="minimal" chooseOption="true" chooseOptionLabel="-선택-" class="sel flex00"
    							direction="auto" disabled="false" disabledClass="w2selectbox_disabled" id="selb_Dept_Tel_Gu" ref="" style="width:70px;"
    							submenuSize="auto">
    							<xf:choices></xf:choices>
    						</xf:select1>
    						<xf:input adjustMaxLength="false" class="inp full" id="inp_Dept_Tel_Gu1" style="max-width:70px;" maxlength="4"
    							dataType="number">
    						</xf:input>
    						<w2:textbox class="dash" id="" label="-" style="" tagname="span"></w2:textbox>
    						<xf:input adjustMaxLength="false" class="inp full" id="inp_Dept_Tel_Gu2" style="max-width:70px;" maxlength="4"
    							dataType="number">
    						</xf:input>
    					</xf:group>
    				</xf:group>
    			</xf:group>
    			<xf:group tagname="tr">
    				<xf:group class="w2tb_th" tagname="th">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:span class="bul_req" id="" label="[필수입력항목]" style=""></w2:span>
    					<w2:textbox id="" label="경조구분" style="" tagname="span" class="blue"></w2:textbox>
    				</xf:group>
    				<xf:group tagname="td" class="w2tb_td">
    					<w2:attributes>
    						<w2:colspan>5</w2:colspan>
    						<w2:rowspan>1</w2:rowspan>
    					</w2:attributes>
    					<xf:select1 allOption="" appearance="minimal" chooseOption="true" chooseOptionLabel="-선택-" class="sel"
    						direction="auto" disabled="false" disabledClass="w2selectbox_disabled" id="selb_Fam_Rel" ref="data:dma_cwlCgCdDtl.fam_relat"
    						style="width:150px;" submenuSize="auto" visibleRowNum="10" ev:onviewchange="scwin.selb_Fam_Rel_onchange">
    						<xf:choices></xf:choices>
    					</xf:select1>
    					<xf:select1 allOption="" appearance="minimal" chooseOption="true" chooseOptionLabel="-선택-" class="sel"
    						direction="auto" disabled="false" disabledClass="w2selectbox_disabled" id="selb_Cgn_Cd_Clsf" ref="data:dma_cwlCgCdDtl.cgncd_clsf"
    						style="width:150px;" submenuSize="auto" visibleRowNum="10" ev:onchange="scwin.selb_Cgn_Cd_Clsf_onchange">
    						<xf:choices>
    							<xf:itemset nodeset="data:dlt_cmnCd_CWC">
    								<xf:label ref="comNm"></xf:label>
    								<xf:value ref="comCd"></xf:value>
    							</xf:itemset>
    						</xf:choices>
    					</xf:select1>
    				</xf:group>
    			</xf:group>
    			<xf:group tagname="tr">
    				<xf:group class="w2tb_th" tagname="th">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:textbox id="" label="경조금액" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group tagname="td" class="w2tb_td">
    					<w2:attributes>
    						<w2:colspan>5</w2:colspan>
    						<w2:rowspan>1</w2:rowspan>
    					</w2:attributes>
    					<xf:input adjustMaxLength="false" class="inp ri" id="inp_Expns_Amt" style="width: 150px;" readOnly="true"
    						ref="data:dma_cwlFee.cgncd_fee">
    					</xf:input>
    					<w2:textbox class="txt" id="" label="원정(\)" style="" tagname="span"></w2:textbox>
    				</xf:group>
    			</xf:group>
    			<xf:group tagname="tr">
    				<xf:group class="w2tb_th" tagname="th">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:textbox id="" label="입금계좌" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group tagname="td" class="w2tb_td">
    					<w2:attributes></w2:attributes>
    					<xf:input adjustMaxLength="false" class="inp full" id="ibx_Bank_Accnt_No" style="width: 150px;" title="신청번호"
    						ref="data:dma_humSlBscInfo.bankaccnt_no" dataType="number" maskFormat="default">
    					</xf:input>
    					<xf:trigger class="btn" id="btn_accVerf" style="" type="button" ev:onclick="scwin.btn_accVerf_onclick">
    						<xf:label><![CDATA[계좌검증]]></xf:label>
    					</xf:trigger>
    				</xf:group>
    				<xf:group class="w2tb_th" tagname="th">
    					<w2:attributes></w2:attributes>
    					<w2:textbox id="" label="은행명" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group tagname="td" class="w2tb_td">
    					<w2:attributes></w2:attributes>
    					<xf:select1 allOption="" appearance="minimal" chooseOption="true" chooseOptionLabel="-선택-" class="sel"
    						direction="auto" disabledClass="w2selectbox_disabled" id="selb_Bank_Nm" ref="data:dma_humSlBscInfo.salry_bank"
    						style="width:150px;" submenuSize="auto" visibleRowNum="10" disabled="false">
    						<xf:choices></xf:choices>
    					</xf:select1>
    				</xf:group>
    				<xf:group class="w2tb_th" tagname="th">
    					<w2:attributes></w2:attributes>
    					<w2:textbox id="" label="예금주명" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group tagname="td" class="w2tb_td">
    					<w2:attributes></w2:attributes>
    					<w2:textbox class="txt" id="ibx_Bank_depstr" label="" style="" tagname="span" ref="data:dma_humSlBscInfo.depstr"></w2:textbox>
    				</xf:group>
    			</xf:group>
    			<xf:group style="" tagname="tr">
    				<xf:group class="w2tb_th" tagname="th">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:textbox id="" label="검증결과" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group class="w2tb_td" tagname="th">
    					<w2:attributes>
    						<w2:colspan>5</w2:colspan>
    						<w2:rowspan>1</w2:rowspan>
    					</w2:attributes>
    					<w2:textbox class="txt" id="accver" label="미검증" style="" tagname="span"></w2:textbox>
    				</xf:group>
    			</xf:group><xf:group tagname="tr">
    				<xf:group class="w2tb_th" tagname="th">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:textbox id="" label="경조내역" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group class="w2tb_td" tagname="td">
    					<w2:attributes>
    						<w2:colspan>5</w2:colspan>
    						<w2:rowspan>1</w2:rowspan>
    					</w2:attributes>
    					<xf:textarea class="" id="inp_Cgncd_Dtl" style="height:80px;" title=""></xf:textarea>
    				</xf:group>
    			</xf:group>
    			<xf:group tagname="tr">
    				<xf:group class="w2tb_th" tagname="th">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:textbox id="" label="첨부파일" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group class="w2tb_td" tagname="td">
    					<w2:attributes>
    						<w2:colspan>5</w2:colspan>
    						<w2:rowspan>1</w2:rowspan>
    					</w2:attributes>
    					<xf:group class="fileuploadBox" id="upload_A" style="height:150px;"></xf:group>
    				</xf:group>
    			</xf:group>
    			
    		</xf:group>
    		<xf:group class="titleSection" id="grp_reason_text" style="">
    			<w2:textbox class="tit_tbl" id="" label="담당자 확인[담당자만 쓰기가 가능합니다.]" style="" tagname="h3"></w2:textbox>
    		</xf:group>
    		<xf:group class="w2tb tbl" id="grp_reason" style="" tagname="table">
    			<w2:attributes>
    				<w2:summary></w2:summary>
    			</w2:attributes>
    			<xf:group tagname="caption"></xf:group>
    			<xf:group tagname="colgroup">
    				<xf:group style="width:110px;" tagname="col"></xf:group>
    				<xf:group style="" tagname="col"></xf:group>
    				<xf:group style="width:110px;" tagname="col"></xf:group>
    				<xf:group style="" tagname="col"></xf:group>
    				<xf:group style="width:110px;" tagname="col"></xf:group>
    				<xf:group style="" tagname="col"></xf:group>
    			</xf:group>
    			<xf:group tagname="tr">
    				<xf:group class="w2tb_th" tagname="th">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:textbox id="" label="지급일자" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group class="w2tb_td" tagname="td">
    					<w2:attributes></w2:attributes>
    					<w2:inputCalendar calendarValueType="yearMonthDate" class="inpcal" focusOnDateSelect="false" footerDiv="false"
    						id="inp_Pay_Ymd" renderDiv="true" rightAlign="false" style="width: 150px;" ref="data:dma_cwlCgCdDtl.pay_ymd" readOnly="true">
    					</w2:inputCalendar>
    				</xf:group>
    				<xf:group class="w2tb_th" tagname="th">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:textbox id="" label="지급금액" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group class="w2tb_td" tagname="td">
    					<w2:attributes>
    						<w2:colspan>3</w2:colspan>
    						<w2:rowspan>1</w2:rowspan>
    					</w2:attributes>
    					<xf:input adjustMaxLength="false" class="inp full" id="inp_Pay_Amt" style="width: 150px;" title="신청번호"
    						displayFormat="#,###,###,###" ref="data:dma_cwlCgCdDtl.pay_amt" readOnly="true" dataType="number">
    					</xf:input>
    				</xf:group>
    			</xf:group>
    			<xf:group tagname="tr">
    				<xf:group class="w2tb_th" tagname="th">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:textbox id="" label="비고" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group class="w2tb_td" tagname="td">
    					<w2:attributes>
    						<w2:colspan>5</w2:colspan>
    						<w2:rowspan>1</w2:rowspan>
    					</w2:attributes>
    					<xf:input adjustMaxLength="false" class="inp full" id="inp_rmk" style="" title="" ref="data:dma_cwlCgCdDtl.rmk" readOnly="true"></xf:input>
    				</xf:group>
    			</xf:group>
    			<xf:group tagname="tr">
    				<xf:group class="w2tb_th" tagname="th">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:textbox id="" label="반려사유" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group class="w2tb_td" tagname="td">
    					<w2:attributes>
    						<w2:colspan>5</w2:colspan>
    						<w2:rowspan>1</w2:rowspan>
    					</w2:attributes>
    					<xf:textarea class="" id="inp_Reject_Resn" style="height:80px;" title="" ref="data:dma_cwlCgCdDtl.reject_resn" readOnly="true"></xf:textarea>
    				</xf:group>
    			</xf:group>
    		</xf:group>
    		<!-- <xf:group class="helparea" id="" style="">
    			<xf:group id="" style="" tagname="ul">
    			<xf:group id="" style="" tagname="li">
    			<w2:textbox class="red" id="" label="신청일자 한달이내에 발급받은 증빙서류(가족관계증명서 등)를 첨부하여 주시기 바랍니다." style="" tagname="a"></w2:textbox>
    			</xf:group>
    			</xf:group>
    			</xf:group> -->
    		<w2:textbox class="fwb mt10 red" id="" label="※  신청일자 한달이내에 발급받은 증빙서류(가족관계증명서 등)를 첨부하여 주시기 바랍니다." style=""></w2:textbox>
    		<xf:group class="flex_lybox" id="">
    			<xf:group class="mla" id="" style="">
    				<w2:textbox class="" id="" label="상기와 같이 본인의 경조사항을 신고합니다." style=""></w2:textbox>
    				<xf:group class="mt10" id="">
    					<w2:textbox class="singleLine" id="" label="신 청 일 :" style="width: 60px;" tagname="span"></w2:textbox>
    					<w2:inputCalendar calendarValueType="yearMonthDate" class="inpcal" focusOnDateSelect="false" footerDiv="false"
    						id="inp_Req_Ymd" renderDiv="true" rightAlign="false" style="width: 100px;" ref="data:dma_cwlCgCdDtl.req_ymd" disabled="true">
    					</w2:inputCalendar>
    				</xf:group>
    				<xf:group class="mt10" id="">
    					<w2:textbox class="singleLine" id="" label="신 청 인 :" style="width: 60px;" tagname="span"></w2:textbox>
    					<w2:textbox class="txt" id="" label="" style="" tagname="span" ref="data:dma_humInfo.nm"></w2:textbox>
    					<w2:textbox class="singleLine" id="" label="" style="width: 80px;" tagname="span"></w2:textbox>
    					<w2:textbox class="" id="" label="(인)" style="" tagname="span"></w2:textbox>

    				</xf:group>
    			</xf:group>
    		</xf:group>
    		<!-- <xf:group class="titleline" id="">
    			<w2:textbox class="" id="" label="한국생산기술연구원 상조회장 귀하1" style="" tagname="h2"></w2:textbox>
    			</xf:group> -->
    		<w2:textbox class="fs22 fwb ce mt20" id="" label="한국생산기술연구원 상조회장 귀하" style=""></w2:textbox>
    		<xf:group class="btnGroup" id="btn_prt_1" style="">
    			<xf:group class="le" id="" style=""></xf:group>
    			<xf:group class="ri" id="">
    				<xf:trigger class=" btn pro" disabled="true" id="btn_del" style="" type="button" ev:onclick="scwin.btn_del_onclick">
    					<xf:label><![CDATA[삭제]]></xf:label>
    				</xf:trigger>
    				<xf:trigger class=" btn pro conf" id="btn_save" style="" type="button" ev:onclick="scwin.btn_save_onclick">
    					<xf:label><![CDATA[저장]]></xf:label>
    				</xf:trigger>
    			</xf:group>
    		</xf:group>
    		<xf:group class="btnGroup" id="btn_prt_2" style="">
    			<xf:group class="le" id="" style=""></xf:group>
    			<xf:group class="ri" id="">
    				<xf:trigger class=" btn pro" id="btn_affir" style="" type="button" ev:onclick="scwin.btn_affir_onclick">
    					<xf:label><![CDATA[지급]]></xf:label>
    				</xf:trigger>
    				<xf:trigger class=" btn pro" id="btn_ret" style="" type="button" ev:onclick="scwin.btn_ret_onclick">
    					<xf:label><![CDATA[반려]]></xf:label>
    				</xf:trigger>
    			</xf:group>
    		</xf:group>
    	</xf:group>
    </body>
</html>
