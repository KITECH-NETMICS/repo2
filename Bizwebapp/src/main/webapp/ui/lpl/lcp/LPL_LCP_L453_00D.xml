<?xml version="1.0" encoding="UTF-8"?>
<html xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ev="http://www.w3.org/2001/xml-events"
    xmlns:w2="http://www.inswave.com/websquare" xmlns:xf="http://www.w3.org/2002/xforms">
    <head meta_programName="국제협약상세">
    	<w2:type>DEFAULT</w2:type>
        <w2:buildDate/>
        <xf:model>
            <xf:instance>
                <data xmlns=""/>
            </xf:instance>
            <w2:dataCollection baseNode="map">
				<w2:dataMap baseNode="map" id="dma_search">
				  <w2:keyInfo>
				       <w2:key id="mou_no" name="mou_no" dataType="text"></w2:key>
				 </w2:keyInfo>
				</w2:dataMap>			
				<w2:dataMap baseNode="map" id="dma_form_result">
					<w2:keyInfo>
						<w2:key id="mou_no" name="mou_no" dataType="text"></w2:key>
						<w2:key id="mou_schdl_ymd" name="mou_schdl_ymd" dataType="text"></w2:key>
						<w2:key id="mou_natn" name="mou_natn" dataType="text"></w2:key>
						<w2:key id="mou_goal" name="mou_goal" dataType="text"></w2:key>
						<w2:key id="mou_fild" name="mou_fild" dataType="text"></w2:key>
						<w2:key id="mou_knd" name="mou_knd" dataType="text"></w2:key>
						<w2:key id="contrct_agncy" name="contrct_agncy" dataType="text"></w2:key>
						<w2:key id="contrct_goal" name="contrct_goal" dataType="text"></w2:key>
						<w2:key id="mou_subj" name="협약제목" dataType="text"></w2:key>
						<w2:key id="mou_contnt" name="mou_contnt" dataType="text"></w2:key>
						<w2:key id="attach_file_no" name="attach_file_no" dataType="text"></w2:key>
						<w2:key id="rmk" name="rmk" dataType="text"></w2:key>
						<w2:key id="contrct_psn_dept_cd" name="contrct_psn_dept_cd" dataType="text"></w2:key>
						<w2:key id="contrct_psn_dept_new_ymd" name="contrct_psn_dept_new_ymd" dataType="text"></w2:key>
						<w2:key id="contrct_psn_dept_nm" name="contrct_psn_dept_nm" dataType="text"></w2:key>
						<w2:key id="contrct_psn_posi_nm" name="contrct_psn_posi_nm" dataType="text"></w2:key>
						<w2:key id="contrct_syspayno" name="contrct_syspayno" dataType="text"></w2:key>
						<w2:key id="contrct_psn_nm" name="contrct_psn_nm" dataType="text"></w2:key>
						<w2:key id="charg_syspayno" name="charg_syspayno" dataType="text"></w2:key>
						<w2:key id="charg_nm" name="charg_nm" dataType="text"></w2:key>
						<w2:key id="contrct_state" name="contrct_state" dataType="text"></w2:key>
						<w2:key id="mou_contrct_ymd" name="체결시작일" dataType="text"></w2:key>
						<w2:key id="mou_cls_ymd" name="체결종료일" dataType="text"></w2:key>
						<w2:key id="agy_row_flag" name="agy_row_flag" dataType="text"></w2:key>
						<w2:key id="agy_del_row_odr" name="agy_del_row_odr" dataType="text"></w2:key>
						<w2:key id="afc_row_flag" name="afc_row_flag" dataType="text"></w2:key>
						<w2:key id="afc_del_row_odr" name="afc_del_row_odr" dataType="text"></w2:key>
						<w2:key id="validAttachNo" name="validAttachNo" dataType="text"></w2:key>
						<w2:key id="cud_type" name="cud_type" dataType="text"></w2:key>
						<w2:key id="updt_psn_syspayno" name="updt_psn_syspayno" dataType="text"></w2:key>
						<w2:key id="regst_psn_syspayno" name="regst_psn_syspayno" dataType="text"></w2:key>
					</w2:keyInfo>
				</w2:dataMap>
				<w2:dataList baseNode="list" repeatNode="map" id="dlt_agncy_list" saveRemovedData="true">
					<w2:columnInfo>
						<w2:column id="mou_no" name="mou_no" dataType="text"></w2:column>
						<w2:column id="agncy_cd" name="agncy_cd" dataType="text"></w2:column>
						<w2:column id="cmpy_nm_krchar" name="cmpy_nm_krchar" dataType="text"></w2:column>
						<w2:column id="contrct_psn_duty" name="contrct_psn_duty" dataType="text"></w2:column>
						<w2:column id="agncy_clsf" name="agncy_clsf" dataType="text"></w2:column>
						<w2:column id="agncy_clsf_nm" name="agncy_clsf_nm" dataType="text"></w2:column>
						<w2:column id="contrct_psn_nm" name="contrct_psn_nm" dataType="text"></w2:column>
						<w2:column id="charg_nm" name="charg_nm" dataType="text"></w2:column>
						<w2:column id="charg_dept_nm" name="charg_dept_nm" dataType="text"></w2:column>
						<w2:column id="charg_tel" name="charg_tel" dataType="text"></w2:column>
						<w2:column id="mou_knd" name="mou_knd" dataType="text"></w2:column>
						<w2:column id="chk" name="chk" dataType="text"></w2:column>
						<w2:column id="cud_type" name="cud_type" dataType="text"></w2:column>
						<w2:column id="updt_psn_syspayno" name="updt_psn_syspayno" dataType="text"></w2:column>
						<w2:column id="regst_psn_syspayno" name="regst_psn_syspayno" dataType="text"></w2:column>
					</w2:columnInfo>
				</w2:dataList>
				<w2:dataList baseNode="list" repeatNode="map" id="dlt_afact_list" saveRemovedData="true">
					<w2:columnInfo>
						<w2:column id="mou_no" name="mou_no" dataType="text"></w2:column>
						<w2:column id="odr" name="odr" dataType="text"></w2:column>
						<w2:column id="occr_ymd" name="occr_ymd" dataType="text"></w2:column>
						<w2:column id="contnt" name="contnt" dataType="text"></w2:column>
						<w2:column id="regst_psn_syspayno" name="regst_psn_syspayno" dataType="text"></w2:column>
						<w2:column id="regst_daytm" name="regst_daytm" dataType="text"></w2:column>
						<w2:column id="updt_psn_syspayno" name="updt_psn_syspayno" dataType="text"></w2:column>
						<w2:column id="updt_daytm" name="updt_daytm" dataType="text"></w2:column>
						<w2:column id="chk" name="chk" dataType="text"></w2:column>
						<w2:column id="cud_type" name="cud_type" dataType="text"></w2:column>
					</w2:columnInfo>
				</w2:dataList>
            </w2:dataCollection>
            <w2:workflowCollection>
            </w2:workflowCollection>
            <!-- 상세조회 -->
            <xf:submission id="sbm_selectInfo" ref="data:json,dma_search" target='data:json,[{"id":"dma_form_result","key":"lcpMouIntrnVo"}]' 
        	    action="SvcLPLLCPMOUR02.pwkjson" method="post" mediatype="application/json"
        		encoding="UTF-8" instance="" replace="" errorHandler="" customHandler="" mode="asynchronous" processMsg="" ev:submit=""
        		ev:submitdone="" ev:submiterror="" abortTrigger="">
        	</xf:submission>
            <!-- 기관조회 -->
            <xf:submission id="sbm_selectAgncy" ref="data:json,dma_search" target='data:json,[{"id":"dlt_agncy_list","key":"lcpMouDomAgencyVoList"}]' 
        	    action="SvcLPLLCPMOUR03.pwkjson" method="post" mediatype="application/json"
        		encoding="UTF-8" instance="" replace="" errorHandler="" customHandler="" mode="asynchronous" processMsg="" ev:submit=""
        		ev:submitdone="" ev:submiterror="" abortTrigger="">
        	</xf:submission>
            <!-- 사후관리조회 -->
            <xf:submission id="sbm_selectAfact" ref="data:json,dma_search" target='data:json,[{"id":"dlt_afact_list","key":"lcpMouAfactVoList"}]' 
        	    action="SvcLPLLCPMOUR05.pwkjson" method="post" mediatype="application/json"
        		encoding="UTF-8" instance="" replace="" errorHandler="" customHandler="" mode="asynchronous" processMsg="" ev:submit=""
        		ev:submitdone="" ev:submiterror="" abortTrigger="">
        	</xf:submission>
        	<!-- CRUD -->
            <xf:submission id="sbm_saveData" ref='data:json,[{"id":"dma_form_result","key":"lcpMouIntrnVo"},{"id":"dlt_agncy_list","key":"lcpMouDomAgencyVoList"},{"id":"dlt_afact_list","key":"lcpMouAfactVoList"}]' target='data:json,dma_search' 
        	    action="SvcLPLLCPMOUI01.pwkjson" method="post" mediatype="application/json" 
        		encoding="UTF-8" instance="" replace="" errorHandler="" customHandler="" mode="asynchronous" processMsg="" ev:submit=""
        		ev:submitdone="" ev:submiterror="" abortTrigger="">
        	</xf:submission>          	        	        	            
        </xf:model>
         <script src="/cm/js/biz/lpl.js" cache="false" />
         <script type="text/javascript" lazy="false"><![CDATA[
    /****************************************************
 	 * 화면 설명 : 국제협약상세
 	 * 변경 이력 : 2023-11-20	김준하	최초 작성
 	 ****************************************************/
 	scwin.data = {};
	/**
	 * 페이지 로딩 이벤트
	 */           
	scwin.onpageload = function() {
		var codeOptions = [ { code : "LCE", compID : "sbx_mou_knd"},
							{ code : "LCF", compID : "sbx_contrct_state"} ];
        com.setCmnCd(codeOptions, function() {
            // 첨부파일 컴포넌트 초기화
            com.file.init();
            com.file.create(upload_A.getID(), {
                fileKey: "L453",
                mode: 'edit'
            });    
            var param = com.getParameter();
            var session = com.getLoginInfo();
            scwin.mode_type = "edit";
            scwin.roleCode = com.getLoginInfo('roleCode');
        	scwin.agencyCode = "";// 기관코드
        	scwin.chargSyspayno = "";// 담당자시스템번호
        	scwin.chargDeptNewYmd = "";
        	scwin.chargDeptCd = "";            
			scwin.userSyspayno = session.sn;
			scwin.flag = param.flag;
			scwin.mouNo = param.mouNo;
			scwin.searchCon1 = param.searchCon1;
			scwin.searchCon2 = param.searchCon2;
			scwin.searchCon3 = param.searchCon3;
			scwin.searchCon4 = param.searchCon4;
			scwin.searchCon5 = param.searchCon5;
			scwin.cmd = param.cmd;
			btn_del.hide();
			btn_save.hide();
			
            // enter key event
            com.setEnterKeyEvent(grp_hum, scwin.btn_hum_onclick);
			// 기간 역전 체크
			com.checkPeriod(ica_mou_contrct_ymd, ica_mou_cls_ymd);            
			//화면 권한 체크
			com.biz.checkRole({serviceId : "L453", roleCodes : scwin.roleCode}, function(e){
				scwin.roleChk = e.isRoleYn;
				if (scwin.roleChk) {				
		        	btn_save.show("");
		        	if (scwin.flag == "Update") {
			        	btn_del.show("");
			        }		        	
				}
			});			                   
        	if (scwin.flag == "Update") {
	        	dma_search.set("mou_no", scwin.mouNo);
	        	scwin.selectInfo();//상세
	        	scwin.selectAgncy();//기관
	        	scwin.selectAfact();//사후관리  	
	        } else if (scwin.flag == "Search") {
		    	dma_search.set("mou_no", scwin.mouNo);
	        	scwin.selectInfo();//상세
	        	scwin.selectAgncy();//기관
	        	scwin.selectAfact();//사후관리
	        	btn_hum.setDisabled(true);
	        	btn_insert_row.setDisabled(true);
	        	btn_delete_row.setDisabled(true);
	        	btn_insert_row01.setDisabled(true);
	        	btn_delete_row01.setDisabled(true);
	        	btn_save.setDisabled(true);
	        	btn_del.setDisabled(true);
	        	btn_list.setDisabled(true);	        	  		    	   
	        }					 
        });			
	};
    /**	
     *	상세조회
     **/		
	scwin.selectInfo = function(e) {
		com.execute(sbm_selectInfo, {				
			successCallback : function(e){
	            // 첨부파일
	            if (dma_form_result.get("attach_file_no").trim() !== '') {
	                com.file.create(upload_A.getID(), {
	                    fileKey: dma_form_result.get("attach_file_no"),
	                    mode: scwin.mode_type
	                });
	            }					
			}	
		});					
	};
	
    /**	
     *	행사비용조회
     **/		
	scwin.selectExpen = function(e) {
		com.execute(sbm_selectExpen, {				
			successCallback : function(e){
				//e.responseJSON.elData.lcpOvsResMouVoList
			}	
		});					
	};
	
    /**	
     *	기관조회
     **/		
	scwin.selectAgncy = function(e) {
		com.execute(sbm_selectAgncy, {				
			successCallback : function(e){
				var tmpCount = dlt_agncy_list.getTotalRow();
           		for(var i=0; i<tmpCount; i++) {
           			grd_LcpMouAgncy.setCellDisabled(i, grd_LcpMouAgncy.getColumnIndex("btn_cmpy_search"), true);
           		}								
			}	
		});					
	};
	
    /**	
     *	사후관리조회
     **/		
	scwin.selectAfact = function(e) {
		com.execute(sbm_selectAfact, {				
			successCallback : function(e){
				var tmpCount = dlt_agncy_list.getTotalRow();
           		for(var i=0; i<tmpCount; i++) {
           			grd_LcpMouAgncy.setCellDisabled(i, grd_LcpMouAgncy.getColumnIndex("btn_cmpy_search"), true);
           		}								
			}	
		});					
	};			
	
	scwin.onpageunload = function() {	
	};
	
	scwin.btn_hum_onclick = function(e) {
        var data = { work_clsf : "HAG010", empno : ibx_charg_nm.getValue(), nm : ibx_charg_nm.getValue() };	
        data.ref_yn = (data.empno == "") ? "Y" : "N";
        com.pop.open(com.pop.TYPE.HUM, data, function(ret) {
			dma_form_result.set("charg_syspayno", ret.syspayno);
			dma_form_result.set("charg_nm", ret.nm);
			dma_form_result.set("contrct_psn_dept_nm", ret.dept_nm);
			dma_form_result.set("contrct_psn_posi_nm", ret.posi_nm);
			dma_form_result.set("contrct_psn_dept_cd", ret.dept_cd);
			dma_form_result.set("contrct_psn_dept_new_ymd", ret.dept_new_ymd);			
       });		
	};
	
	scwin.btn_insert_row01_onclick = function(e) {
		com.addRow(grd_LcpMouAgncy);		
	};
	
	scwin.btn_delete_row01_onclick = function(e) {
        var req_amt = 0;
        var arr = grd_LcpMouAgncy.getCheckedIndex("chk");
        var row_cnt = arr.length;
        var delOdrs = "";
        if (row_cnt == 0) {
            alert("선택되지 않았습니다.");
            return;
        } else {
	    dma_form_result.set("agy_row_flag", "D");   
	    }
		for (var i = arr.length; i >0; i--) {
			delOdrs += grd_LcpMouAgncy.getCellData(arr[i-1], "agncy_cd")+" ";		
			dlt_agncy_list.setCellData(arr[i-1], "cud_type", "D");
			dlt_agncy_list.removeRow(arr[i-1]);        
		}
		dma_form_result.set("agy_del_row_odr", delOdrs);
		alert("삭제후 저장을 하셔야 반영이 됩니다");		
	};
	
	scwin.grd_LcpMouAgncy_oncellclick = function(row,col,colId) {
		if (colId == "btn_cmpy_search") {
			var data = {};
			data.useFlag = "Y";
			data.flag = "OverMou";
			biz.lpl.pop.open(biz.lpl.pop.TYPE.AGENCY, data, function(ret) {	
				dlt_agncy_list.setCellData( grd_LcpMouAgncy.getFocusedRowIndex(), dlt_agncy_list.getColumnIndex("agncy_cd"),ret.cust_no);
				dlt_agncy_list.setCellData( grd_LcpMouAgncy.getFocusedRowIndex(), dlt_agncy_list.getColumnIndex("cmpy_nm_krchar"),ret.cmpy_nm_krchar);
				dlt_agncy_list.setCellData( grd_LcpMouAgncy.getFocusedRowIndex(), dlt_agncy_list.getColumnIndex("agncy_clsf_nm"),ret.agncy_clsf_nm);
			});							
		}		
	};
	
	scwin.ibx_charg_nm_onchange = function(info) {
        if (info.newValue == "") {
			dma_form_result.set("charg_syspayno", "");
			dma_form_result.set("charg_nm", "");
			dma_form_result.set("contrct_psn_dept_nm", "");
			dma_form_result.set("contrct_psn_posi_nm", "");
			dma_form_result.set("contrct_psn_dept_cd", "");
			dma_form_result.set("contrct_psn_dept_new_ymd", "");
        }		
	};
	
	scwin.btn_insert_row_onclick = function(e) {
		com.addRow(grd_LcpMouIntrnAfter);	
	};
	
	scwin.btn_depst_remove_onclick = function(e) {
        var req_amt = 0;
        var arr = grd_LcpMouIntrnAfter.getCheckedIndex("chk");
        var row_cnt = arr.length;
        var delOdrs = "";
        if (row_cnt == 0) {
            alert("선택되지 않았습니다.");
            return;
        } else {
	    dma_form_result.set("afc_row_flag", "D");   
	    }
		for (var i = arr.length; i >0; i--) {
			delOdrs += grd_LcpMouIntrnAfter.getCellData(arr[i-1], "odr")+" ";		
			dlt_afact_list.setCellData(arr[i-1], "cud_type", "D");
			dlt_afact_list.removeRow(arr[i-1]);        
		}
		dma_form_result.set("afc_del_row_odr", delOdrs);
		alert("삭제후 저장을 하셔야 반영이 됩니다");		
	};
	
	//저장 버튼 클릭
	scwin.btn_save_onclick = function(e) {
		com.file.transport( function( attachObj){
			var attaches = [];
			attaches.push(attachObj.upload_A);
			dma_form_result.set("attach_file_no", attachObj.upload_A);
			dma_form_result.set("validAttachNo", attaches.join(','));				
			if (grd_LcpMouAgncy.getRowCount() > 0) {
				if (!scwin.vaildCheck()) {
					return;
				}
				var count = grd_LcpMouIntrnAfter.getRowCount();
				var	count2 = grd_LcpMouAgncy.getRowCount();
		
				for (var i = 0; i < count; i++) {
					if (!scwin.gridValidChk(grd_LcpMouIntrnAfter, i, "occr_ymd", "발생일자", "사후관리")) return false;
				}
				for (var i = 0; i < count2; i++) {
					if (!scwin.gridValidChk(grd_LcpMouAgncy, i, "cmpy_nm_krchar", "기관명", "상대기관정보")) return false;
				}				
				scwin.crudInfo();
			} else {
				alert("체결기관 정보를 입력해주세요");
			}
		});				
	};
	// 저장,수정,삭제
	scwin.crudInfo = function(e) {
		if (scwin.flag == "Update") {
			dma_form_result.set("cud_type", "U");
			dma_form_result.set("updt_psn_syspayno", scwin.userSyspayno); 
		} else if (scwin.flag == "Delete") {
			dma_form_result.set("cud_type", "D");
			dma_form_result.set("mou_no", scwin.mouNo);
		} else {
			dma_form_result.set("cud_type", "I");
			dma_form_result.set("regst_psn_syspayno", scwin.userSyspayno);
		}
		var status = "";
		
		// 상대기관정보		
		for(var i=0; i<dlt_agncy_list.getRowCount(); i++) {			
			status = dlt_agncy_list.getRowStatus(i);
			if (status != "R") { // R : DB에서 가져온 수정되지 않은 data
				if (status == "C") {
					dlt_agncy_list.setCellData(i, "cud_type", "C");
					dlt_agncy_list.setCellData(i, "regst_psn_syspayno", scwin.userSyspayno);
				} else if (status == "U") {
					dlt_agncy_list.setCellData(i, "cud_type", "U");
					dlt_agncy_list.setCellData(i, "updt_psn_syspayno", scwin.userSyspayno);								
				}
			}
		}
		
		// 사후관리		
		for(var i=0; i<dlt_afact_list.getRowCount(); i++) {			
			status = dlt_afact_list.getRowStatus(i);
			if (status != "R") { // R : DB에서 가져온 수정되지 않은 data
				if (status == "C") {
					dlt_afact_list.setCellData(i, "cud_type", "C");
					dlt_afact_list.setCellData(i, "regst_psn_syspayno", scwin.userSyspayno);
				} else if (status == "U") {
					dlt_afact_list.setCellData(i, "cud_type", "U");
					dlt_afact_list.setCellData(i, "updt_psn_syspayno", scwin.userSyspayno);								
				}
			}
		}		
		com.confirm("message.xom.wq.017"/*저장 하시겠습니까?*/, function( ret) {
			com.execute(sbm_saveData, {
				successCallback : function(e) { // 성공 콜백					
					com.alert("message.xom.wq.023"/*정상적으로 처리되었습니다.*/, function() {
						scwin.data.saveFlag = true;
						dma_search.set("mou_no", e.responseJSON.elData.mou_no);
						scwin.flag = "Update"
						dma_form_result.set("agy_row_flag", "");
						dma_form_result.set("afc_row_flag", "");
						dma_form_result.set("afc_del_row_odr", "");
						dma_form_result.set("agy_del_row_odr", "");					
						//조회
						btn_del.show("");
			        	scwin.selectInfo();//상세
			        	scwin.selectAgncy();//기관
			        	scwin.selectAfact();//사후관리			
					});										
				}
			});
		});						
	}	
	// 유효성 검사
	scwin.vaildCheck = function(e) {
		if (!com.validateData(dma_form_result,[
				 { id : "mou_contrct_ymd", mandatory : true }//행사시작일
				,{ id : "mou_cls_ymd", mandatory : true }//행사종료일
				,{ id : "mou_subj", mandatory : true }//행사명
			], false)
		) return false;
		return true;		
	}
    // 그리드 유효성 검사
    scwin.gridValidChk = function(gridObj, row, colId, colName, title) {
        var cellValue = gridObj.getCellData(row, colId);
        if (cellValue == "") {
            alert("[" + title + "] " + (row + 1) + "번째 " + colName + "을(를) 입력하세요.");
            gridObj.setFocusedCell(row, colId);
            return false;
        }
        return true;
    }
    		
    /**	
     *	삭제
     **/	
	scwin.btn_del_onclick = function(e) {
		com.confirm("message.xom.wq.022" /*삭제 하시겠습니까?*/ , function(ret) {
          	scwin.flag = "Delete";
          	dma_form_result.set("mou_no", ibx_mou_req_no.getValue());
          	dma_form_result.set("cud_type", "D"); 	                    	                        
			if (ret) {
                com.execute(sbm_saveData, {
                    successCallback: function(e) { // 성공 콜백
						$p.parent().com.alert("message.xom.wq.023" /*정상적으로 처리되었습니다.*/, function(){
						    scwin.data.save_flag = true;
							scwin.btn_list_onclick();
						});		                        
                    }
                });
			}			
		});			
	};
	
	// 목록 이동
	scwin.btn_list_onclick = function(e) {
		var data={};
		com.moveList("L456", scwin.data.save_flag);
//		com.openTabUrl("국제협약", "/ui/lpl/lcp/LPL_LCP_L456_00L.xml", 1, data, function() {
//		});			
	};
	]]></script>
    </head>
    <body ev:onpageload="scwin.onpageload" ev:onpageunload="scwin.onpageunload">
    	<w2:wframe id="wfm_title" src="/cm/xml/contentTitle.xml" style=""></w2:wframe>
    	<xf:group class="pageWrap" id="" style="">
    		<xf:group class="searchSection step" id="" style="">
    			<xf:group class="le" id="">
    				<xf:trigger class="btn " id="btn_list" style="" type="button" ev:onclick="scwin.btn_list_onclick">
    					<xf:label><![CDATA[목록]]></xf:label>
    				</xf:trigger>
    			</xf:group>
    			<xf:group class="btnbox" id=""></xf:group>
    		</xf:group>
    		<xf:group tagname="table" style="width:100%;" id="" class="w2tb tbl">
    			<w2:attributes>
    				<w2:summary></w2:summary>
    			</w2:attributes>
    			<xf:group tagname="caption"></xf:group>
    			<xf:group tagname="colgroup">
    				<xf:group tagname="col" style="width:200px;"></xf:group>
    				<xf:group tagname="col" style=""></xf:group>
    				<xf:group tagname="col" style="width:200px;"></xf:group>
    				<xf:group tagname="col" style=""></xf:group>
    				<xf:group tagname="col" style="width:200px;"></xf:group>
    				<xf:group tagname="col" style=""></xf:group>
    			</xf:group>
    			<xf:group tagname="tr" style="">
    				<xf:group tagname="th" style="" class="w2tb_th">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:textbox id="" label="협약번호" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group tagname="td" style="" class="w2tb_td">
    					<w2:attributes>
    						<w2:colspan>5</w2:colspan>
    						<w2:rowspan>1</w2:rowspan>
    					</w2:attributes>
    					<xf:input adjustMaxLength="false" class="inp full" id="ibx_mou_req_no" style="max-width: 200px;" title="" ref="data:dma_form_result.mou_no" readOnly="true"></xf:input>
    				</xf:group>
    			</xf:group>
    			<xf:group tagname="tr">
    				<xf:group tagname="th" style="" class="w2tb_th">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:span class="bul_req" id="" label="[필수입력항목]" style=""></w2:span>
    					<w2:textbox class="blue" id="" label="협약명" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group tagname="td" style="" class="w2tb_td">
    					<w2:attributes>
    						<w2:colspan>5</w2:colspan>
    						<w2:rowspan>1</w2:rowspan>
    					</w2:attributes>
    					<xf:group class="flex" id="" style=""></xf:group>
    					<xf:input adjustMaxLength="false" class="inp full" id="ibx_mou_subj" style="max-width:100%;" title="" ref="data:dma_form_result.mou_subj"></xf:input>
    				</xf:group>
    			</xf:group>
    			<xf:group tagname="tr">
    				<xf:group tagname="th" style="" class="w2tb_th">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:textbox id="" label="협약종류" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group tagname="td" style="" class="w2tb_td">
    					<xf:group class="flex" id="" style=""></xf:group>
    					<xf:select1 appearance="minimal" chooseOption="true" chooseOptionLabel="-선택-" class="sel"
    						direction="auto" disabled="false" disabledClass="w2selectbox_disabled" id="sbx_mou_knd" ref="data:dma_form_result.mou_knd" style="max-width: 200px;"
    						submenuSize="auto">
    						<xf:choices></xf:choices>
    					</xf:select1>
    				</xf:group>
    				<xf:group tagname="th" style="" class="w2tb_th">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:textbox id="" label="체결목적" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group tagname="td" style="" class="w2tb_td">
    					<w2:attributes>
    						<w2:colspan>3</w2:colspan>
    						<w2:rowspan>1</w2:rowspan>
    					</w2:attributes>
    					<xf:select appearance="full" class="chkGroup" cols="" id="cbx_contract_goal" ref="data:dma_form_result.contrct_goal" renderType="checkboxgroup" rows=""
    						selectedindex="-1" style="">
    						<xf:choices>
    							<xf:item>
    								<xf:label><![CDATA[공동연구]]></xf:label>
    								<xf:value>LCB001</xf:value>
    							</xf:item>
    							<xf:item>
    								<xf:label><![CDATA[정보교환]]></xf:label>
    								<xf:value>LCB002</xf:value>
    							</xf:item>
    							<xf:item>
    								<xf:label><![CDATA[인력교류]]></xf:label>
    								<xf:value>LCB003</xf:value>
    							</xf:item>
    							<xf:item>
    								<xf:label><![CDATA[기술교류]]></xf:label>
    								<xf:value>LCB004</xf:value>
    							</xf:item>    							
    						</xf:choices>
    					</xf:select>
    				</xf:group>
    			</xf:group>
    			<xf:group tagname="tr">
    				<xf:group tagname="th" style="" class="w2tb_th">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:span class="bul_req" id="" label="[필수입력항목]" style=""></w2:span>
    					<w2:textbox class="blue" id="" label="체결시작일" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group tagname="td" style="" class="w2tb_td">
    					<xf:group class="flex" id="" style=""></xf:group>
    					<w2:inputCalendar calendarValueType="yearMonthDate" class="inpcal" focusOnDateSelect="false" footerDiv="false" id="ica_mou_contrct_ymd"
    						renderDiv="true" rightAlign="false" style="width:141px;" ref="data:dma_form_result.mou_contrct_ymd">
    					</w2:inputCalendar>
    				</xf:group>
    				<xf:group tagname="th" style="" class="w2tb_th">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:textbox id="" label="체결종료일" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group tagname="td" style="" class="w2tb_td">
    					<w2:inputCalendar calendarValueType="yearMonthDate" class="inpcal" focusOnDateSelect="false" footerDiv="false" id="ica_mou_cls_ymd"
    						renderDiv="true" rightAlign="false" style="width:141px;" ref="data:dma_form_result.mou_cls_ymd">
    					</w2:inputCalendar>
    				</xf:group>
    				<xf:group tagname="th" style="" class="w2tb_th">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:textbox id="" label="체결상태" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group tagname="td" style="" class="w2tb_td">
    					<xf:select1 appearance="minimal" chooseOption="true" chooseOptionLabel="-선택-" class="sel"
    						direction="auto" disabled="false" disabledClass="w2selectbox_disabled" id="sbx_contrct_state" ref="data:dma_form_result.contrct_state" style="max-width: 200px;"
    						submenuSize="auto">
    						<xf:choices></xf:choices>
    					</xf:select1>
    				</xf:group>
    			</xf:group>
    		</xf:group>
    		<xf:group class="titleSection" id="" style="">
    			<xf:group class="le" id="">
    				<w2:textbox class="tit_tbl" id="" label="체결자정보" style="" tagname="h3"></w2:textbox>
    			</xf:group>
    		</xf:group>
    		<xf:group class="w2tb tbl" id="" style="width:100%;" tagname="table">
    			<w2:attributes>
    				<w2:summary></w2:summary>
    			</w2:attributes>
    			<xf:group tagname="caption"></xf:group>
    			<xf:group tagname="colgroup">
    				<xf:group style="width:200px;" tagname="col"></xf:group>
    				<xf:group style="" tagname="col"></xf:group>
    				<xf:group style="width:200px;" tagname="col"></xf:group>
    				<xf:group style="" tagname="col"></xf:group>
    				<xf:group style="width:200px;" tagname="col"></xf:group>
    				<xf:group style="" tagname="col"></xf:group>
    			</xf:group>
    			<xf:group style="" tagname="tr">
    				<xf:group class="w2tb_th" style="" tagname="th">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:textbox id="" label="담당자명" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group class="w2tb_td" style="" tagname="td" id="grp_hum">
    					<xf:group class="inpSch fix" id="" style="width:200px;">
    						<xf:input adjustMaxLength="false" class="inp" id="ibx_charg_nm" style="" ref="data:dma_form_result.contrct_psn_nm" ev:onchange="scwin.ibx_charg_nm_onchange"></xf:input>
    						<xf:trigger class="btn" id="btn_hum" style="" type="button" ev:onclick="scwin.btn_hum_onclick">
    							<xf:label><![CDATA[검색]]></xf:label>
    						</xf:trigger>
    					</xf:group>
    				</xf:group>
    				<xf:group class="w2tb_th" style="" tagname="th">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:textbox id="" label="담당자부서" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group class="w2tb_td" style="" tagname="td">
    					<xf:input adjustMaxLength="false" class="inp full" id="ibx_contrct_psn_dept_nm" style="max-width: 200px;" title="" ref="data:dma_form_result.contrct_psn_dept_nm"></xf:input>
    				</xf:group>
    				<xf:group class="w2tb_th" style="" tagname="th">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:textbox id="" label="직책" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group class="w2tb_td" style="" tagname="td">
    					<xf:input adjustMaxLength="false" class="inp full" id="ibx_contrct_psn_posi_nm" style="max-width: 200px;" title="" ref="data:dma_form_result.contrct_psn_posi_nm"></xf:input>
    				</xf:group>
    			</xf:group>
    		</xf:group>
    		<xf:group class="titleSection" id="" style="">
    			<xf:group class="le" id="">
    				<w2:textbox class="tit_tbl" id="" label="상대기관정보" style="" tagname="h3"></w2:textbox>
    			</xf:group>
    			<xf:group class="ri" id="">
    				<xf:group class="btnarea" id="" style="">
    					<xf:trigger class="bt_plus" id="btn_insert_row01" style="" type="button" ev:onclick="scwin.btn_insert_row01_onclick">
    						<xf:label><![CDATA[추가]]></xf:label>
    					</xf:trigger>
    					<xf:trigger class="bt_minus" id="btn_delete_row01" style="" type="button" ev:onclick="scwin.btn_delete_row01_onclick">
    						<xf:label><![CDATA[삭제]]></xf:label>
    					</xf:trigger>
    				</xf:group>
    			</xf:group>
    		</xf:group>
    		<w2:gridView autoFit="allColumn" class="grid" dataList="data:dlt_agncy_list" defaultCellHeight="28"
    			evenRowBackgroundColor="#f7faff" id="grd_LcpMouAgncy" noResultMessage="조회 결과가 없습니다." noResultMessageClass="noResult" rowMouseOverColor="#e7f0fb"
    			rowNumBackgroundColor="#fff" rowNumHeaderValue="No." rowNumVisible="true" rowNumWidth="60" rowStatusHeaderValue="상태"
    			rowStatusVisible="false" rowStatusWidth="50" scrollByColumn="false" scrollByColumnAdaptive="false" selectedCellColor="#fbf2cd"
    			selectedRowColor="#fbf2cd" style="height: 85px;" visibleRowNum="10" ev:oncellclick="scwin.grd_LcpMouAgncy_oncellclick">
    			<w2:caption id="caption1" style="" value="this is a grid caption."></w2:caption>
    			<w2:header id="header1" style="">
    				<w2:row id="row1" style="">
    					<w2:column checkboxLabel="전체선택" displayMode="label" fixColumnWidth="true" id="column1" inputType="checkbox"
    						readOnly="false" style="height:28px;" value="선택" width="34">
    					</w2:column>
    					<w2:column displayMode="label" id="column41" inputType="text" style="height:28px" value="기관분류" width="83"></w2:column>
    					<w2:column displayMode="label" id="column9" inputType="text" style="height:29px;" value="기관명" width="168"
    						colSpan="2" rowSpan="">
    					</w2:column>
    					<w2:column displayMode="label" id="column43" inputType="text" style="height:28px" value="체결자직책" width="100"></w2:column>
    					<w2:column displayMode="label" id="column45" inputType="text" style="height:28px" value="체결자" width="129"></w2:column>
    					<w2:column displayMode="label" id="column47" inputType="text" style="height:28px" value="담당자" width="124"></w2:column>
    					<w2:column displayMode="label" id="column49" inputType="text" style="height:28px" value="부서" width="149"></w2:column>
    					<w2:column displayMode="label" id="column53" inputType="text" style="height:28px" value="전화번호" width="162"></w2:column>
    				</w2:row>
    			</w2:header>
    			<w2:gBody id="gBody1" style="">
    				<w2:row id="row2" style="">
    					<w2:column checkboxLabel="선택" displayMode="label" id="chk" inputType="checkbox" readOnly="false"
    						style="height:28px;" width="50">
    					</w2:column>
    					<w2:column displayMode="label" id="agncy_clsf_nm" inputType="text" style="height:28px" value="" width="150" readOnly="true"></w2:column>
    					<w2:column displayMode="label" id="cmpy_nm_krchar" inputType="text" readOnly="true" style="height:28px;"
    						width="140">
    					</w2:column>
    					<w2:column width="28" inputType="button" style="" id="btn_cmpy_search" value="조회" displayMode="label"
    						class="btn_sch">
    					</w2:column>
    					<w2:column displayMode="label" id="contrct_psn_duty" inputType="text" style="height:28px" value="" width="70"></w2:column>
    					<w2:column displayMode="label" id="contrct_psn_nm" inputType="text" style="height:28px" value="" width="70"></w2:column>
    					<w2:column displayMode="label" id="charg_nm" inputType="text" style="height:28px" value="" width="70"></w2:column>
    					<w2:column displayMode="label" id="charg_dept_nm" inputType="text" style="height:28px" value="" width="100"></w2:column>
    					<w2:column checkboxLabel="선택" displayMode="label" id="charg_tel" inputType="text" style="height:28px" value=""
    						width="70" displayFormat="###-####-####">
    					</w2:column>
    				</w2:row>
    			</w2:gBody>
    		</w2:gridView>
    		<xf:group class="ri" id="" style="">
    		</xf:group>
    		<xf:group class="w2tb tbl" id="" style="width:100%;  margin-top: 30px;" tagname="table">
    			<w2:attributes>
    				<w2:summary></w2:summary>
    			</w2:attributes>
    			<xf:group tagname="caption"></xf:group>
    			<xf:group tagname="colgroup">
    				<xf:group style="width:200px;" tagname="col"></xf:group>
    				<xf:group style="" tagname="col"></xf:group>
    				<xf:group style="width:200px;" tagname="col"></xf:group>
    				<xf:group style="" tagname="col"></xf:group>
    				<xf:group style="width:200px;" tagname="col"></xf:group>
    				<xf:group style="" tagname="col"></xf:group>
    			</xf:group>
    			<xf:group style="" tagname="tr">
    				<xf:group class="w2tb_th" style="" tagname="th">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:textbox id="" label="협약목적" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group class="w2tb_td" style="" tagname="td">
    					<w2:attributes>
    						<w2:colspan>5</w2:colspan>
    						<w2:rowspan>1</w2:rowspan>
    					</w2:attributes>
    					<xf:textarea id="txa_mou_goal" ref="data:dma_form_result.mou_goal" style="height: 100px;"></xf:textarea>
    				</xf:group>
    			</xf:group>
    			<xf:group tagname="tr">
    				<xf:group class="w2tb_th" style="" tagname="th">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:textbox id="" label="협약내용" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group class="w2tb_td" style="" tagname="td">
    					<w2:attributes>
    						<w2:colspan>5</w2:colspan>
    						<w2:rowspan>1</w2:rowspan>
    					</w2:attributes>
    					<xf:group class="flex" id="" style=""></xf:group>
    					<xf:textarea id="txa_mou_contnt" ref="data:dma_form_result.mou_contnt" style="height: 100px;"></xf:textarea>
    				</xf:group>
    			</xf:group>
    			<xf:group tagname="tr">
    				<xf:group class="w2tb_th" style="" tagname="th">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:textbox id="" label="참고사항" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group class="w2tb_td" style="" tagname="td">
    					<w2:attributes>
    						<w2:colspan>5</w2:colspan>
    						<w2:rowspan>1</w2:rowspan>
    					</w2:attributes>
    					<xf:group class="flex" id="" style=""></xf:group>
    					<xf:textarea id="txa_rmk" ref="data:dma_form_result.rmk" style="height: 100px;"></xf:textarea>
    				</xf:group>
    			</xf:group>
    			<xf:group tagname="tr">
    				<xf:group class="w2tb_th" style="" tagname="th">
    					<w2:attributes>
    						<w2:scope>row</w2:scope>
    					</w2:attributes>
    					<w2:textbox id="" label="파일첨부" style="" tagname="span"></w2:textbox>
    				</xf:group>
    				<xf:group class="w2tb_td" style="" tagname="td">
    					<w2:attributes>
    						<w2:colspan>5</w2:colspan>
    						<w2:rowspan>1</w2:rowspan>
    					</w2:attributes>
    					<xf:group class="flex" id="" style=""></xf:group>
    					<xf:group class="fileuploadBox" id="upload_A" style="height:150px;"></xf:group>
    				</xf:group>
    			</xf:group>
    		<xf:group tagname="tr">
    			<xf:group tagname="th" class="w2tb_th">
    				<w2:attributes>
    					<w2:scope>row</w2:scope>
    				</w2:attributes>
    				<w2:textbox id="" label="사후관리" style="" tagname="span"></w2:textbox>
    			</xf:group>
    			<xf:group tagname="td" class="w2tb_td">
    				<w2:attributes>
    					<w2:colspan>5</w2:colspan>
    					<w2:rowspan>1</w2:rowspan>
    				</w2:attributes>
   					<xf:group class="titleSection" id="" style="">
   						<xf:group class="le" id="">
   						</xf:group>
   						<xf:group class="ri" id="">
   							<xf:group class="btnarea" id="" style="">
   							<xf:trigger class="bt_plus" id="btn_insert_row" style="" type="button" ev:onclick="scwin.btn_insert_row_onclick">
   								<xf:label><![CDATA[추가]]></xf:label>
   							</xf:trigger>
   								<xf:trigger class="bt_minus" ev:onclick="scwin.btn_depst_remove_onclick" id="btn_delete_row" style=""
   									type="button">
   									<xf:label><![CDATA[삭제]]></xf:label>
   								</xf:trigger>
   							</xf:group>
   						</xf:group>
   					</xf:group>
    				<w2:gridView autoFit="allColumn" class="grid" dataList="data:dlt_afact_list" defaultCellHeight="28"
    					evenRowBackgroundColor="#f7faff" id="grd_LcpMouIntrnAfter" noResultMessage="조회 결과가 없습니다." noResultMessageClass="noResult"
    					rowMouseOverColor="#e7f0fb" rowNumBackgroundColor="#fff" rowNumHeaderValue="No." rowNumVisible="true" rowNumWidth="60"
    					rowStatusHeaderValue="상태" rowStatusVisible="false" rowStatusWidth="50" scrollByColumn="false" scrollByColumnAdaptive="false"
    					selectedCellColor="#fbf2cd" selectedRowColor="#fbf2cd" style="height: 85px;" visibleRowNum="10">
    					<w2:caption id="caption1" style="" value="this is a grid caption."></w2:caption>
    					<w2:header id="header1" style="">
    						<w2:row id="row1" style="">
    							<w2:column checkboxLabel="전체선택" displayMode="label" fixColumnWidth="true" id="column1" inputType="ch"
    								readOnly="false" style="height:28px;" value="선택" width="28">
    							</w2:column>
    							<w2:column displayMode="label" id="column41" inputType="text" style="height:28px" textAlign="center"
    								value="발생일자" width="105">
    							</w2:column>
    							<w2:column displayMode="label" id="column9" inputType="text" style="height:28px;" textAlign="center"
    								value="내용" width="646">
    							</w2:column>
    						</w2:row>
    					</w2:header>
    					<w2:gBody id="gBody1" style="">
    						<w2:row id="row2" style="">
    							<w2:column checkboxLabel="선택" displayMode="label" id="chk" inputType="checkbox" style="height:28px;"
    								width="50">
    							</w2:column>
    							<w2:column displayMode="label" id="occr_ymd" inputType="calendar" style="height:28px"
    								value="" width="198">
    							</w2:column>
    							<w2:column displayMode="label" id="contnt" inputType="text" style="height:28px;"
    								width="256">
    							</w2:column>
    						</w2:row>
    					</w2:gBody>
    				</w2:gridView>
    			</xf:group></xf:group></xf:group>
	    		<xf:group class="btnGroup" id="" style="">
	    			<xf:group class="le" id="" style=""></xf:group>
	    			<xf:group class="ri" id="">
	    				<xf:trigger class="btn pro" id="btn_del" style="" type="button" ev:onclick="scwin.btn_del_onclick">
	    					<xf:label><![CDATA[삭제]]></xf:label>
	    				</xf:trigger>
	    				<xf:trigger class=" btn pro conf" id="btn_save" style="" type="button" ev:onclick="scwin.btn_save_onclick">
	    					<xf:label><![CDATA[저장]]></xf:label>
	    				</xf:trigger>
	    			</xf:group>
	    		</xf:group>    			
    	</xf:group>
    </body>
</html>
